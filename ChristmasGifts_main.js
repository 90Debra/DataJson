(()=>{var t={4646:(t,e,i)=>{"use strict";let s;var n,a,o,h,r,l,d,c,u,p,g=i(2160),m=i(637);class b{constructor(t,e,i){this.event=t,this.callback=e,this.context=i}}class w{on(t,e,i){var s;return this.listeners.has(t)||this.listeners.set(t,[]),null==(s=this.listeners.get(t))||s.push(new b(t,e,i)),()=>this.off(t,e)}once(t,e,i){let s=this.on(t,(...t)=>{s(),e.call(i,...t)})}off(t,e){var i;let s=null!=(i=this.listeners.get(t))?i:[];this.listeners.set(t,s.filter(t=>t.callback!==e))}emit(t,...e){var i;null==(i=this.listeners.get(t))||i.forEach(({callback:t,context:i})=>t.call(i,...e))}clear(t){t?this.listeners.set(t,[]):this.listeners.clear()}constructor(){this.listeners=new Map}}class y extends w{}let f=new y;function v(t){return(e,i)=>{i.addInitializer(function(){f.on(t,e,this)})}}var k=i(2428),x=i(6799);window.PIXI=k;var S=i(6871),_=i(4467);class C{merge(...t){this.data=(0,S.Z)({},this.data,...t)}subscribe(t,e){return this.subscribers.has(t)?this.subscribers.get(t).add(e):this.subscribers.set(t,new Set([e])),()=>this.subscribers.get(t).delete(e)}set(t,e){return this.data[t]=e,this.subscribers.has(t)&&this.subscribers.get(t).forEach(t=>{t(e)}),e}get(t,e){return(0,_.Z)(this.data,t,e)}constructor(t=Object.create(null)){this.data=t,this.subscribers=new Map}}class T extends k.utils.EventEmitter{}class A extends T{get enabled(){return!0}get opened(){let t=window.innerWidth<window.innerHeight?window.screen.height:window.screen.width;return window.innerHeight===t||window.innerHeight/t>=.9}lock(){this.locked=!0,this.fullscreen.style.display="none"}unlock(){this.locked=!1,this.fullscreen.style.display="block"}open(){}exit(){}toggle(){}constructor(t){super(),this.locked=!1,this.fullscreen=document.createElement("div"),this.fullscreen.setAttribute("style","z-index: 1001;position: absolute;"+(t?"display: none;":"display: block;")+"top: 0;left: 0;width: 1px;height: 99999px;overflow-y: scroll;-webkit-overflow-scrolling: touch;"),document.body.appendChild(this.fullscreen),window.addEventListener("orientationchange",()=>{this.fullscreen.style.display="block"})}}class B extends T{get enabled(){return!!document[this.fullscreen[0]]}get opened(){return!!document[this.fullscreen[1]]}lock(){this.locked=!0}unlock(){this.locked=!1}open(){document.documentElement[this.fullscreen[3]]()}exit(){document[this.fullscreen[2]]()}toggle(){this.opened?this.exit():this.open()}constructor(t){super(),this.locked=!1,this.fullscreen=function(){let t=[["fullscreenEnabled","fullscreenElement","exitFullscreen","requestFullscreen","fullscreenchange"],["webkitFullscreenEnabled","webkitFullscreenElement","webkitExitFullscreen","webkitRequestFullscreen","webkitfullscreenchange"],["webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitRequestFullScreen","webkitfullscreenchange"],["mozFullScreenEnabled","mozFullScreenElement","mozCancelFullScreen","mozRequestFullScreen","mozfullscreenchange"],["msFullscreenEnabled","msFullscreenElement","msExitFullscreen","msRequestFullscreen","MSFullscreenChange"]],e=0,i=t.length;for(;e<i;e+=1)if(document[t[e][0]])return t[e];return t[0]}(),window.addEventListener("resize",()=>{this.emit("change",this.opened)}),document.addEventListener(this.fullscreen[4],()=>{this.emit("change",this.opened)}),t.desktop||document.body.addEventListener("touchend",()=>{this.open()})}}class P extends k.utils.EventEmitter{toggle(){this.enabled=!this.enabled,this.emit("change",this.enabled)}constructor(...t){super(...t),this.enabled=!1}}class R{match(t){return this.ua.includes(t)}resize(t,e){this._windowWidth=t,this._windowHeight=e}get width(){return this._windowWidth}get height(){return this._windowHeight}get portrait(){return this.height/this.width>1&&!this.forceLandscape}get landscape(){return!this.portrait}get ios(){return this.match("iphone")||this.match("ipad")}get android(){return this.match("android")}get mobile(){return this.match("iphone")||this.android&&this.match("mobile")||this.forceMobile}get iPadPro(){return"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1}get tablet(){return this.match("ipad")||this.android&&!this.match("mobile")||this.iPadPro}get desktop(){return!(this.mobile||this.tablet)}get platform(){return this.mobile?"phone":this.tablet?"tablet":"desktop"}get supportsTouchEvents(){return this.renderer.interaction.supportsTouchEvents}get supportsPointerEvents(){return this.renderer.interaction.supportsPointerEvents}constructor(t,e=!1){var i,s,n;this.renderer=t,this._windowWidth=window.innerWidth,this._windowHeight=window.innerHeight,this.forceMobile=null!=(n=null==(s=document.documentElement)?void 0:null==(i=s.classList)?void 0:i.contains("layout-mobile"))&&n,this.forceLandscape=e,this.ua=window.navigator.userAgent.toLowerCase()}}class W{}class F{toFixedTruncate(t,e){let i=RegExp("^-?\\d+(?:\\.\\d{0,"+e+"})?","g"),s=t.toString().match(i)[0],n=s.indexOf(".");if(0===e)return n>0?s.slice(0,n):s;if(-1===n)return s+"."+"0".repeat(e);let a=e-(s.length-n)+1;return a>0?s+"0".repeat(a):s}delay(t){return new Promise(e=>setTimeout(e,t))}toMoney(t,e=0){let i=parseInt(this.config.get("coinValue","100"));return this.toFixedTruncate(t/i,e>0&&e>=i?0:i>=100?2:i>=10?1:0)}toMoneySS(t){let e=this.config.get("ss.multiplier",0);if(e>0){let i=parseInt(this.config.get("coinValue","100"));return this.toFixedTruncate(t*e/i,0)}return this.toMoney(t)}round(t){return Math.round(100*+t)}random(t,e){return t=Math.ceil(t),Math.floor(Math.random()*((e=Math.floor(e))-t+1))+t}shuffle(t){let e=[];for(;t.length;){let i=Math.floor(Math.random()*t.length),s=t.splice(i,1);e.push(s[0])}return e}rateRound(t){let e=`${1/t*100}`.split(""),i=e.findIndex(t=>"."===t)+1,s=e.slice(i).findIndex(t=>"0"!==t&&"."!==t)+1;return(1/t*100).toFixed(s)}constructor(t){this.config=t}}class E extends k.utils.EventEmitter{setTranslations(t){this.translations=t}get currencySign(){return"NAN"!==window.currency&&window.currency?window.currency:""}hasCurrency(){return""!==this.currencySign}currency({withSpace:t=!1,withBrace:e=!1,bitmap:i=!1}={}){if(!this.currencySign||i)return"";let s=e?`(${this.currencySign})`:this.currencySign;return`${t?"\xa0":""}${s}`}changeLanguage(t){this.availableLanguages.includes(t)&&(this.language=t,this.emit("changeLanguage",t))}t(t,...e){let i=this.translations||{};return(i[t]||i.en||"").replace(/%s/g,()=>e.shift())}constructor(t=["ru","en","ex","de","es","fr","it","pt","tr","cn","ja","mt","ro","uk","bg","sr"]){super(),this.availableLanguages=t,this.translations={},this.language=t.includes(window.language)?window.language:"en"}}class M{hover(t,e,i){let s=this._withPrimary(e,i);return t.on(this.pointerHoverEvent,s,i),()=>{t.off(this.pointerHoverEvent,s,i)}}down(t,e,i){let s=this._withPrimary(e,i);return t.on(this.pointerDownEvent,s,i),()=>{t.off(this.pointerDownEvent,s,i)}}click(t,e,i){let s=this._withPrimary(e,i);return t.on(this.pointerTapEvent,s,i),()=>{t.off(this.pointerTapEvent,s,i)}}dbclick(t,e,i){let s,n=0,a=this._withPrimary(e,i),o=t=>{++n>=2?(n=0,s&&clearTimeout(s),a(t)):s=setTimeout(()=>{n=0},350)};return t.on(this.pointerTapEvent,o,i),()=>{t.off(this.pointerTapEvent,o,i)}}clickOnce(t,e,i){let s=n=>{if(!n.data.isPrimary){t.once(this.pointerTapEvent,s,i);return}e.call(i,n)};return t.once(this.pointerTapEvent,s,i),()=>{t.off(this.pointerTapEvent,s,i)}}up(t,e,i){return t.on(this.pointerUpEvent,e,i),()=>{t.off(this.pointerUpEvent,e,i)}}out(t,e,i){return t.on(this.pointerOutEvent,e,i),t.on("pointerupoutside",e,i),()=>{t.off(this.pointerOutEvent,e,i),t.off("pointerupoutside",e,i)}}move(t,e,i){return t.on(this.pointerMoveEvent,e,i),()=>{t.off(this.pointerMoveEvent,e,i)}}swipeX(t,e,i={threshold:50}){let s=!1,n=0,a=t=>{s||(s=!0,n=t.data.global.x)},o=t=>{if(s){s=!1;let a=n-t.data.global.x;Math.abs(a)>i.threshold&&e(a>0?"right":"left")}};return t.on(this.pointerDownEvent,a),t.on(this.pointerUpEvent,o),()=>{t.off(this.pointerDownEvent,a),t.off(this.pointerUpEvent,o)}}constructor(t){this.device=t,this._withPrimary=(t,e)=>i=>{i.data.isPrimary&&t.call(e,i)},this.pointerMoveEvent=this.device.supportsPointerEvents?"pointermove":this.device.desktop?"mousemove":"touchmove",this.pointerDownEvent=this.device.supportsPointerEvents?"pointerdown":this.device.desktop?"mousedown":"touchstart",this.pointerTapEvent=this.device.supportsPointerEvents?"pointertap":this.device.desktop?"tap":"touchstart",this.pointerHoverEvent=this.device.desktop?this.device.supportsPointerEvents?"pointerover":"mouseover":this.device.supportsPointerEvents?"pointerdown":"mousedown",this.pointerUpEvent=this.device.supportsPointerEvents?"pointerup":this.device.desktop?"mouseup":"touchend",this.pointerOutEvent=this.device.supportsPointerEvents?"pointerout":this.device.desktop?"mouseout":"touchend"}}var I=i(2460);class N{up(t){!this.disabled&&t.keyCode===this.keyCode&&(this.pressed=!1,this.canDispatch&&this.onPress.dispatch(t))}down(t){this.disabled||this.pressed||t.keyCode!==this.keyCode||(this.prevent&&t.preventDefault(),this.pressed=!0)}enable(){this.disabled=!1}disable(){this.disabled=!0}constructor(t){this.keyCode=t,this.canDispatch=!0,this.pressed=!1,this.disabled=!1,this.prevent=!1,this.onPress=new I.Z}}class L{register(t){let e=new N(t);return this.keys.push(e),e}stop(t=[]){this.keys.forEach(e=>{e.canDispatch=t.includes(e)})}restore(){setTimeout(()=>{this.keys.forEach(t=>t.canDispatch=!0)})}constructor(t){this.KEY_CODE={Enter:13,Space:32,Shift:16,Escape:27},this.keys=[],t.desktop&&(window.addEventListener("keyup",t=>{this.keys.forEach(e=>e.up(t))}),window.addEventListener("keydown",t=>{this.keys.forEach(e=>e.down(t))}))}}var O=i(6804);class z extends k.utils.EventEmitter{get resources(){return this.loader.resources}load(t){var e=this;return(0,g._)(function*(){let i=yield e._getSizes(),s=Object.create(null),n=t.filter(t=>{var i,s,n;return null==(n=null==(s=t.metadata)?void 0:null==(i=s.platform)?void 0:i.includes(e.device.platform))||n}).map(t=>(s=(0,O._)({},s,i[t.url]),(0,O._)({},t,{url:t.url}))),a=0,o=Object.keys(s).map(t=>t),h=Object.values(s).reduce((t,e)=>t+e,0),r=Object.keys(i).length>0?(t,i)=>{let n=i.url.split("?")[0];a+=s[n],e.emit("progress",{progress:a/h}),o.includes(n)&&o.splice(o.indexOf(n),1)}:t=>{e.emit("progress",{progress:t.progress/100})};return new Promise(t=>{let i=e.loader.onProgress.add(r);e.loader.add(n),e.loader.load(()=>{o.length,i.detach(),t()})})})()}reset(){this.loader.reset()}getAsset(t,e=""){if(!t)return;let i=this.loader.resources[t];if(i){var s,n,a,o,h;return null!=(h=null!=(o=null!=(a=null!=(n=i.texture)?n:i.spineData)?a:i.sound)?o:null==(s=i.textures)?void 0:s[e])?h:i.textures}return k.Texture.from(t)}hasAsset(t){return!!this.loader.resources[t]}destroy(){this.loader.destroy()}_getSizes(){return(0,g._)(function*(){try{return yield(yield fetch("assets/sizes.json")).json()}catch(t){return{}}})()}constructor(t){super(),this.device=t,this.loader=new k.Loader,this.loader.onError.add(t=>this.emit("error",t)),this.loader.onComplete.add(t=>this.emit("complete",t))}}class D{}class G{get dpr(){return Math.min(window.devicePixelRatio||1,2)}get pixiRenderer(){return this.renderer}get interaction(){return this.renderer.plugins.interaction}get prepare(){return this.renderer.plugins.prepare}get view(){return this.renderer.view}uploadToGPU(t){return new Promise(e=>{this.renderer.plugins.prepare.upload(t,e)})}render(t,e){this.renderer.render(t,e)}resize(t,e){this.renderer.resize(t,e)}destroy(){this.renderer.destroy(!0)}constructor(){k.settings.RENDER_OPTIONS.legacy=!0,k.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0,this.renderer=k.Renderer.create({view:document.body.appendChild(document.createElement("canvas")),width:1,height:1,autoDensity:!0,backgroundAlpha:0,resolution:this.dpr}),this.renderer.plugins.interaction.autoPreventDefault=!1,this.renderer.view.style.touchAction="auto"}}var V=i(1200);let Y={SPENDING_BUDGET_EXCEEDED:"SPENDING_BUDGET_EXCEEDED",MAX_BET_LIMIT_EXCEEDED:"MAX_BET_LIMIT_EXCEEDED",INSUFFICIENT_BALANCE:"INSUFFICIENT_BALANCE",GAME_SESSION_ERROR:"Request failed with status code 404"};class U extends k.utils.EventEmitter{transformRequest(t){this._transformRequest.push(...t)}request(t){var e=this;return(0,g._)(function*(){let i=e._transformRequest.reduce((t,e)=>e(t),t),s=yield e.fetcher.post(window.serverUrl,i);if(e._response=s.data,e.emit(`response:${t.action}`,e._response),e.emit("response",e._response,t.action),e._response.error)throw Error(e._response.error);return e._response})()}resetSession(){var t=this;return(0,g._)(function*(){yield t.fetcher.post("cs.php")})()}getHistory(){var t=this;return(0,g._)(function*(){return t.fetcher.post(window.serverUrl.replace("spin","getHistory"))})()}saveSettings(t){var e=this;return(0,g._)(function*(){return e.fetcher.post(window.serverUrl,{action:"saveSettings",settings:t})})()}get response(){return this._response}get fetcher(){return V.ZP}constructor(...t){super(...t),this._transformRequest=[]}}let X={to:["*"],name:"boot",initialized:!0};class H{is(t){var e;return(null==(e=this.transition)?void 0:e.name)===t}oneOf(t){var e;return t.includes(null==(e=this.transition)?void 0:e.name)}can(t){var e,i;return(null==(e=this.transition)?void 0:e.to.includes(t))||(null==(i=this.transition)?void 0:i.to.includes("*"))}add(t,e,i,s=!1){return this.transitions[t]={state:e,to:i,name:t},s&&this.goTo(t),e}goTo(t,...e){var i,s,n,a,o;this.can(t)&&(null==(s=this.transition)||null==(i=s.state)||i.exit(),this.transition=this.transitions[t],(null==(n=this.transition)?void 0:n.initialized)||(this.transition.initialized=!0,this.transition.state.init()),null==(o=this.transition)||null==(a=o.state)||a.enter(...e))}constructor(){this.transitions=Object.create(null),this.transition=X}}class $ extends k.utils.EventEmitter{resize(t,e,i,s){this.width=t,this.height=e;let n=null!=i?i:window.innerWidth,a=null!=s?s:window.innerHeight;this.aspectRatio=parseFloat(Math.min(n/t,a/e).toFixed(3)),this.paddingX=Math.max(Math.round((n/2-this.width/2*this.aspectRatio)/this.aspectRatio),0),this.paddingY=Math.max(Math.round((a/2-this.height/2*this.aspectRatio)/this.aspectRatio),0),this.propAspectRatio=parseFloat(Math.max((2*this.paddingX+this.width)/this.width,(2*this.paddingY+this.height)/this.height).toFixed(3))}}class K extends k.Container{}class j{_sendMessage(t){try{var e;null==(e=window.parent)||e.postMessage(JSON.stringify(t),"*")}catch(t){}}constructor(t){t.action.on("state:spin_enter",()=>this._sendMessage({event:"play_start"})),t.action.on("state:stop_exit",()=>this._sendMessage({event:"play_end"})),t.action.on("balance_updated",t=>this._sendMessage({event:"balance_updated",coins:t}))}}let Q={gameId:"",gameName:"",colors:{white:16777215,black:0,primary:16777215,primaryHover:16777215,secondary:6642797,secondaryHover:6642797,checkboxBackground:3025203,checkboxBackgroundHover:5129814},coinValue:100,quickSpin:{maxWatcherCount:3},bigWin:{bigMultiplier:50,giantMultiplier:100},ss:{multiplier:0}};class Z extends k.utils.EventEmitter{set(t){this.bets[t]&&(this.bet=this.bets[t],this.emit("change",this.bet))}setValue(t){if(this.bet===t)return;let e=this.bets.indexOf(t);e>-1&&this.set(e)}min(){this.set(0)}max(){this.set(this.bets.length-1)}increment(){let t=this.bets.indexOf(this.bet);this.set(++t)}decrement(){let t=this.bets.indexOf(this.bet);this.set(--t)}toCoins(){return this.bet*this.betCoins}constructor(t,e,i=0){super(),this.bet=t,this.bets=e,this.betCoins=i}}class q extends tr(k.Sprite){constructor(...t){super(...t),this.interactive=!0}}class J{add(t){t.forEach(t=>this.popups.set(t.name,t))}remove(t){return this.popups.delete(t)}show(t,...e){var i=this;return(0,g._)(function*(){let s=i.popups.get(t);i.rootNode.addChild(s);let n=yield s.show(...e);return i.rootNode.removeChild(s),n})()}constructor(t){this.rootNode=t,this.popups=new Map}}var tt=i(9540),te=i.n(tt),ti=i(6878),ts=i(2455);class tn extends y{get savedData(){var t,e;return null!=(e=null!=(t=te().get(this.prefix))?t:this._savedData)?e:{}}init(t){try{this._savedData=t}catch(t){}}set(t,e){try{let i=this.savedData,s=(0,O._)({},i,{[`${t}`]:e});te().set(this.prefix,s),this._save()}catch(t){}}get(t,e){try{var i;let s=this.savedData;return null!=(i=s[t])?i:e}catch(t){return e}}clear(){try{te().clear()}catch(t){}}constructor(...t){super(...t),this.prefix="christmas_infinite_gifts",this._savedData=Object.create(null),this._save=(0,ti.Z)(()=>{let t=this.savedData;(0,ts.Z)(t,this._savedData)||(this.emit("save",t),this._savedData=t)},1e4)}}class ta extends k.utils.EventEmitter{get isVisible(){return"visible"===document.visibilityState}constructor(){super(),document.addEventListener("visibilitychange",()=>{this.emit("change",document.visibilityState),"hidden"===document.visibilityState?this.emit("hide"):this.emit("show")})}}var to=i(8893);k.Texture.WHITE.baseTexture.resource.source.getContext("2d").fillRect(0,0,1,1);class th{initAnalytics(){return(0,g._)(function*(){try{if(window.location.host.includes("mascot.games")){let{ANALYTICS:t}=yield Promise.all([i.e(216),i.e(190)]).then(i.bind(i,190));t.ready(()=>{t.page()})}}catch(t){}})()}createRootNode(){return new K}getRootMask(){return this.landscapeMask}create(){this.landscapeMask=new k.Graphics,this.landscapeMask.lineStyle(1,0,1,1),this.landscapeMask.beginFill(0),this.landscapeMask.drawRect(1,1,this.settings.size[0]-2,this.settings.size[1]-2),this.landscapeMask.endFill(),this.options.preventScaling||this.rootNode.addChild(this.landscapeMask);let t=!1;if(this.device.forceLandscape){let e=this;this.renderer.interaction.mapPositionToPoint=function(i,s,n){let a=this.interactionDOMElement.getBoundingClientRect(),o=1/this.resolution;e.device.landscape&&!t?(i.x=(s-a.left)*(this.interactionDOMElement.width/a.width)*o,i.y=(n-a.top)*(this.interactionDOMElement.height/a.height)*o):(i.x=(n-a.top)*(this.interactionDOMElement.height/a.width)*o,i.y=e.device.width-(s-a.left)*(this.interactionDOMElement.width/a.height)*o)}}let e=()=>{if(this.device.resize(window.innerWidth,window.innerHeight),this.options.preventScaling){let t=this.device.width,e=this.device.height;this.renderer.resize(t,e),this.viewport.resize(t,e),this.rootNode.pivot.set(this.viewport.width/2,this.viewport.height/2),this.rootNode.position.set(t/2,e/2),this.rootNode.mask=null,document.documentElement.style.height=`${window.innerHeight}px`;let i=Math.round(100*(this.device.portrait?this.device.height/this.settings.size[1]:this.device.width/this.settings.size[0]));document.documentElement.style.fontSize=`${i}px`,this.viewport.emit("resize"),this.renderer.render(this.rootNode);return}if(this.device.forceLandscape&&(document.documentElement.style.height="100%",document.body.style.height="100%",document.body.style.overflow="hidden"),(this.device.desktop||this.device.landscape)&&this.device.forceLandscape){t=this.device.height/this.device.width>1&&!this.device.desktop;let e=this.device.landscape&&!t?this.device.width:this.device.height,i=this.device.landscape&&!t?this.device.height:this.device.width,s=this.device.landscape&&!t?"matrix(1, 0, 0, 1, 0, 0)":`matrix(0, 1, -1, 0, ${this.device.width}, 0)`;this.renderer.resize(e,i),this.renderer.view.style.transform=s,this.renderer.view.style.transformOrigin="0 0 0",this.viewport.resize(this.settings.size[0],this.settings.size[1],e,i),this.rootNode.scale.set(this.viewport.aspectRatio),this.rootNode.pivot.set(this.viewport.width/2,this.viewport.height/2),this.rootNode.position.set(e/2,i/2),this.rootNode.mask=this.getRootMask()}else this.device.desktop||this.device.landscape?(this.renderer.resize(this.device.width,this.device.height),this.viewport.resize(this.settings.size[0],this.settings.size[1]),this.rootNode.scale.set(this.viewport.aspectRatio),this.rootNode.pivot.set(this.viewport.width/2,this.viewport.height/2),this.rootNode.position.set(this.device.width/2,this.device.height/2),this.rootNode.mask=this.getRootMask()):(this.renderer.resize(this.device.width,this.device.height),this.viewport.resize(this.settings.size[1],this.settings.size[0]),this.rootNode.scale.set(this.viewport.aspectRatio),this.rootNode.pivot.set(this.viewport.width/2,0),this.rootNode.position.set(this.device.width/2,0),this.rootNode.mask=null);this.viewport.emit("resize"),this.renderer.render(this.rootNode)};x.vB.addEventListener("tick",()=>{(this.device.width!==window.innerWidth||this.device.height!==window.innerHeight)&&e(),this.tick()}),window.addEventListener("unload",this.destroy),window.addEventListener("load",e),window.addEventListener("wheel",t=>{this.action.emit("dom.wheel",t)},{passive:!1}),(this.device.ios||this.device.iPadPro)&&(this.renderer.view.addEventListener("touchend",t=>{t.preventDefault()}),document.addEventListener("touchmove",t=>{t.touches.length>1&&t.preventDefault()},{passive:!1})),this.device.desktop&&(document.body.style.overflow="hidden"),document.addEventListener("keydown",t=>{t.ctrlKey&&[61,107,173,109,187,189].includes(t.which)&&t.preventDefault()}),e(),this.device.ios&&setTimeout(e,250);try{window.__PIXI_APP__={view:this.renderer.view,renderer:this.renderer.pixiRenderer,stage:this.rootNode}}catch(t){}}useRaf(t){x.vB.useRAF(t)}get(t){return this._globals.get(t)}set(t,e){return this._globals.set(t,e),e}addCommand(t,e){this._commands.has(t),this._commands.set(t,e)}removeCommand(t){this._commands.delete(t)}runCommand(t,e){if(this._commands.has(t))return this._commands.get(t).run(e)}delay(t){return this.helpers.delay(t)}openUrl(t,e){try{t.startsWith("javascript:")?window.location.href=t:setTimeout(()=>window.open(t,`_${null!=e?e:"self"}`))}catch(e){window.location.href=t}}constructor(t){this.options=t,this._globals=new Map,this._commands=new Map,this.settings={size:[1920,1080]},this.tick=()=>{k.Ticker.shared.update(),this.renderer.render(this.rootNode)},this.destroy=()=>{x.vB.removeEventListener("tick",this.tick),k.Ticker.shared.destroy(),k.utils.destroyTextureCache(),this.renderer.destroy(),this.loader.destroy()},s=this,window.__MASCOT_RELEASE_BRANCH="master",window.__MASCOT_RELEASE_COMMIT="1.0.0-2098-g652aefb0e",k.Ticker.shared.autoStart=!1,k.Ticker.shared.stop(),this.ticker=k.Ticker.shared,this.config=new C(Q),this.logger=new D,this.rootNode=this.createRootNode(),this.renderer=new G,this.device=new R(this.renderer,this.options.forceLandscape),this.i18n=new E(this.options.availableLanguages),this.helpers=new F(this.config),this.keyboard=new L(this.device),this.viewport=new $,this.leftHand=new P,this.fullscreen=this.device.ios||this.device.iPadPro?new A(this.options.preventScaling):new B(this.device),(this.device.ios||this.device.iPadPro)&&!this.options.preventScaling&&(document.body.style.paddingBottom="80px"),this.visibility=new ta,this.preferences=new tn,this.sound=new to.$u(this.device,this.visibility,this.preferences),this.state=new H,this.store=new C,this.action=f,this.loader=new z(this.device),this.error=new W,this.interaction=new M(this.device),this.externalApi=new j(this),this.popupManager=new J(this.rootNode),this.create(),this.initAnalytics()}}function tr(t,e){return class extends t{show(...t){var e;this.visible=null==(e=t[0])||e}hide(){this.show(!1)}resize(){}constructor(...t){super(...t),this.game=s,this.preventAutoResize=!1,this.on("added",()=>{(this.name||this.id)&&this.game.set(this.name||this.id,this),(null==e?void 0:e.preventResize)||this.preventAutoResize||(this.game.viewport.on("resize",this.resize,this),this.game.leftHand.on("change",this.resize,this),this.resize())}),this.on("removed",()=>{this.game.viewport.off("resize",this.resize,this),this.game.leftHand.off("change",this.resize,this)})}}}class tl{get(t){return this.game.get(t)}goTo(t,...e){return this.game.state.goTo(t,...e)}constructor(t){this.game=t}}class td{toView(t){return this.view=t,t}}class tc{constructor(t){this.game=t}}class tu extends tr(k.Sprite,{preventResize:!0}){resize(){if(this.game.device.landscape||this.game.device.desktop)this.scale.set(1),this.anchor.set(.5),this.position.set(this.game.viewport.width/2,this.game.viewport.height/2);else{let t=this.game.viewport.height+2*this.game.viewport.paddingY,e=this.game.viewport.width+2*this.game.viewport.paddingX;this.scale.set(Math.max(e/1080,t/1920)),this.anchor.set(.5,0),this.position.set(this.game.viewport.width/2,0)}}}var tp=i(943);let tg=[0,0,0];class tm extends tp.PY{stop(t=0){this.playing=!1,this.lastTime=0,this.skeleton.setToSetupPose(),this.state.clearTrack(t)}play(t,e=!1,i=0,s){return this.stop(),this.animationName=t,this.playing=!0,new Promise(n=>{this.state.addListener({complete:()=>{this.playing=!1,n(),null==s||s()}}),this.state.setAnimation(i,t,e)})}hasSkin(t){return this.spineData.skins.some(e=>e.name===t)}changeSkin(t){this.skeleton.skin=null,this.skeleton.setSkinByName(t),this.skinName=t}update(t){let e=this.delayLimit;if(t>e&&(t=e),this.state.update(t),this.state.apply(this.skeleton),!this.skeleton)return;this.skeleton.updateWorldTransform();let i=this.skeleton.slots,s=this.color,n=null,a=null;s?(n=1!==this.tintRgb[0]||1!==this.tintRgb[1]||1!==this.tintRgb[2]?this.tintRgb:s.light,a=s.dark):n=this.tintRgb;for(let t=0,e=i.length;t<e;t++){let e=i[t],s=e.getAttachment(),o=this.slotContainers[t];if(!s){o.visible=!1;continue}let h=null;s.sequence&&s.sequence.apply(e,s);let r=s.region,l=s.color;switch(s.type){case tp.sf.Region:if(o.transform.setFromMatrix(e.bone.matrix),r=s.region,e.currentMesh&&(e.currentMesh.visible=!1,e.currentMesh=null,e.currentMeshId=void 0,e.currentMeshName=void 0),!r){e.currentSprite&&(e.currentSprite.renderable=!1);break}if(!e.currentSpriteName||e.currentSpriteName!==s.name){let t=s.name;if(e.currentSprite&&(e.currentSprite.visible=!1),e.sprites=e.sprites||{},void 0!==e.sprites[t])e.sprites[t].visible=!0;else{let i=this.createSprite(e,s,t);o.addChild(i)}e.currentSprite=e.sprites[t],e.currentSpriteName=t}e.currentSprite.renderable=!0,e.hackRegion||this.setSpriteRegion(s,e.currentSprite,r),e.currentSprite.color?h=e.currentSprite.color:(tg[0]=n[0]*e.color.r*l.r,tg[1]=n[1]*e.color.g*l.g,tg[2]=n[2]*e.color.b*l.b,e.currentSprite.tint=k.utils.rgb2hex(tg)),e.currentSprite.blendMode=e.blendMode;break;case tp.sf.Mesh:if(e.currentSprite){e.currentSprite.visible=!1,e.currentSprite=null,e.currentSpriteName=void 0;let t=new k.Transform;t._parentID=-1,t._worldID=o.transform._worldID,o.transform=t}if(!r){e.currentMesh&&(e.currentMesh.renderable=!1);break}let d=s.id;if(void 0===e.currentMeshId||e.currentMeshId!==d){if(e.currentMesh&&(e.currentMesh.visible=!1),e.meshes=e.meshes||{},void 0!==e.meshes[d])e.meshes[d].visible=!0;else{let t=this.createMesh(e,s);o.addChild(t)}e.currentMesh=e.meshes[d],e.currentMeshName=s.name,e.currentMeshId=d}e.currentMesh.renderable=!0,s.computeWorldVerticesOld(e,e.currentMesh.vertices),e.currentMesh.color?h=e.currentMesh.color:(tg[0]=n[0]*e.color.r*l.r,tg[1]=n[1]*e.color.g*l.g,tg[2]=n[2]*e.color.b*l.b,e.currentMesh.tint=k.utils.rgb2hex(tg)),e.currentMesh.blendMode=e.blendMode,e.hackRegion||this.setMeshRegion(s,e.currentMesh,r);break;case tp.sf.Clipping:e.currentGraphics||(this.createGraphics(e,s),o.addChild(e.clippingContainer),o.addChild(e.currentGraphics)),this.updateGraphics(e,s),o.alpha=1,o.visible=!0;continue;default:o.visible=!1;continue}if(o.visible=!0,h){let t=e.color.r*l.r,i=e.color.g*l.g,s=e.color.b*l.b;h.setLight(n[0]*t+a[0]*(1-t),n[1]*i+a[1]*(1-i),n[2]*s+a[2]*(1-s)),e.darkColor?(t=e.darkColor.r,i=e.darkColor.g,s=e.darkColor.b):(t=0,i=0,s=0),h.setDark(n[0]*t+a[0]*(1-t),n[1]*i+a[1]*(1-i),n[2]*s+a[2]*(1-s))}o.alpha=e.color.a}let o=this.skeleton.drawOrder,h=null,r=null;for(let t=0,e=o.length;t<e;t++){let e=i[o[t].data.index],s=this.slotContainers[o[t].data.index];if(r||null===s.parent||s.parent===this||(s.parent.removeChild(s),s.parent=this),e.currentGraphics&&e.getAttachment())r=e.clippingContainer,h=e.getAttachment(),r.children.length=0,this.children[t]=s,h.endSlot===e.data&&(h.endSlot=null);else if(r){let i=this.tempClipContainers[t];i||((i=this.tempClipContainers[t]=this.newContainer()).visible=!1),this.children[t]=i,s.parent=null,r.addChild(s),h.endSlot==e.data&&(r.renderable=!0,r=null,h=null)}else this.children[t]=s}}createGraphics(t,e){if(!this.spineData.useRectangleMask)return super.createGraphics(t,e);let i=this.newGraphics();if(i.clear(),i.beginFill(16777215,1),e.worldVerticesLength<=8){let t=new k.Rectangle(0,0,0,0);i.drawRect(t.x,t.y,t.width,t.height)}else{let t=new k.Polygon;i.drawPolygon(t)}return i.renderable=!1,t.currentGraphics=i,t.clippingContainer=this.newContainer(),t.clippingContainer.mask=t.currentGraphics,i}updateGraphics(t,e){if(!this.spineData.useRectangleMask)return super.updateGraphics(t,e);let i=t.currentGraphics.geometry,s=i.graphicsData[0].shape;if(s instanceof k.Polygon){let i=s.points,n=e.worldVerticesLength;i.length=n,e.computeWorldVertices(t,0,n,i,0,2)}else{let i=[...e.vertices],n=e.worldVerticesLength;i.length=n,e.computeWorldVertices(t,0,n,i,0,2);let a=i[4]-i[0],o=i[5]-i[1],h=a>0?i[0]:i[0]-Math.abs(a),r=o>0?i[1]:i[1]-Math.abs(o);s.x=h,s.y=r,s.width=Math.abs(a),s.height=Math.abs(o)}i.invalidate()}constructor(t,e=!0){t.useRectangleMask=e,super(t),this.skinName="",this.animationName="",this.playing=!1}}class tb extends tm{changeSkin(t){this.skeleton.skin=null,this.skeleton.setSkinByName(t),this.skeleton.setToSetupPose(),this.skinName=t}stop(t=0){this.playing=!1}constructor(t,e=!0,i=0){t.useRectangleMask=e,super(t),this.playing=!1,this.stateData.defaultMix=i}}class tw extends tr(k.Sprite){resize(){let{viewport:t}=this.game;this.width=2*t.paddingX+t.width,this.height=2*t.paddingY+t.height,this.position.set(-t.paddingX,0)}constructor(t=1,e=0){super(k.Texture.WHITE),this.tint=e,this.alpha=t}}let ty=i.p+"assets/ui_2020/lazy/paytable_foreground.png";function tf(t,e,i=0){let s=e.getLocalBounds(),n=e.scale.x,a=e.scale.y,o=t.width-2*i,h=t.height-2*i,r=o-Math.round(s.width),l=h-Math.round(s.height);r<0&&(n=o/(s.width*n)),l<0&&(a=h/(s.height*a)),(n<=0||a<=0)&&(e.visible=!1),e.scale.set(Math.min(n,a))}class tv extends tr(k.Container){setTitle(t){this._title.text=t}setIcon(t){this._icon.texture=this.game.loader.getAsset(t)}setValue(t){this._value.text=t}setPrice(t){this._price.text=`${this.game.helpers.toMoney(this._product.bet*t)}${this.game.i18n.currency({withSpace:!0})}`}setMultiplier(t){this._multiplier.text=`X${t}`}setProduct(t){this._product=t}resize(){this._description.scale.set(1),this._value.position.set(0,0),this._price.position.set(0,this._value.y+this._value.height+30),tf({width:230,height:260},this._description),this._description.position.set(this._icon.width/2+this._icon.x+tv.TEXT_OFFSET,this._icon.y-this._description.height/2)}constructor(t,e="buyFeature_item_icon_regular"){super(),this._product=t,this.isSpecial=!1,this.buttonMode=!0,this.interactive=!0,this._bg=this.addChild(k.Sprite.from(ty)),this._bg.width=559,this._bg.height=457,this._title=this.addChild(new k.Text(this.game.i18n.t("BuyFeatureProductRegularTitle"),{fill:16777215,fontSize:30,fontFamily:"Avenir-Bold"})),this._title.anchor.set(.5,0),this._title.position.set(this._bg.width/2,28),this._icon=this.addChild(new k.Sprite(this.game.loader.getAsset(e))),this._icon.anchor.set(.5),this._icon.position.set(this._bg.width/2-120,213),this._bgImage=this._icon.addChild(new k.Sprite),this._bgImage.anchor.set(.5),this._product.mul&&(this._multiplier=this.addChild(new k.Text(`X${this._product.mul}`,{fill:16777215,fontSize:56,fontFamily:"Avenir-Bold"})),this._multiplier.anchor.set(.5),this._multiplier.position.set(232,260),this._multiplier.angle=-8),this._description=this.addChild(new k.Container),this._value=this._description.addChild(new k.Text(this._product.mul?this.game.i18n.t("BuyFeatureProductRegularValue",this._product.fs,this._product.mul):this.game.i18n.t("BuyFeatureProductRegularValueNoMultiplier",this._product.fs),{fill:16777215,fontSize:24,fontFamily:"Avenir-Bold",align:"left",wordWrap:!0,wordWrapWidth:260})),this._price=this._description.addChild(new k.Text("",{fill:16777215,fontSize:36,fontFamily:"Avenir-Bold"})),this._button=this.addChild(new k.Sprite(this.game.loader.getAsset("buyFeature_item_btn_regular"))),this._button.width=this._bg.width-40,this._button.anchor.set(.5,0),this._button.position.set(this._bg.width/2,363),this._buttonText=this.addChild(new k.Text(this.game.i18n.t("BuyFeatureProductBuy"),{fill:16777215,fontSize:36,fontFamily:"Avenir-Bold"})),this._buttonText.anchor.set(.5),this._buttonText.position.set(this._bg.width/2,this._button.y+this._button.height/2),this.game.interaction.click(this,()=>{this.game.action.emit("BuyFeature.Buy",this._product,this.isSpecial),this.game.action.emit("sound:click")})}}tv.TEXT_OFFSET=0;class tk extends tr(k.Container,{preventResize:!0}){enable(){this._scrollContainer.interactive=!0}disable(){this._scrollContainer.interactive=!1}addScrollBar(t){this.scrollBar=t,super.addChild(this.scrollBar)}addChild(...t){return this._scrollContainer.addChild(...t)}getAllChild(){return this._scrollContainer.children}resize(t,e){this._width=t,this._height=e,this._scrollMask.clear().beginFill(16777215).drawRect(0,0,t,e);let{y:i}=this._scrollContainer.getLocalBounds();this._minY=this._height-i-this._scrollContainer.height-this.paddingBottom,this._height=e+this.paddingBottom-i,this._scrollContainer.hitArea=new k.Rectangle(0|this.hitAreaOffsetLeft,0|i,t-this.hitAreaOffsetRight|0,this._scrollContainer.height+this.paddingBottom|0),this.scrollTo(0,0)}scrollTo(t,e){this._speed=0,this._startPosition=null,this._distance=null,this._targetPosition=null,this.update(t,e)}_touchEvents(){this.on("touchstart",t=>{t.data.getLocalPosition(this).y>this._scrollMask.height&&(this._speed=0,this._dirty=!1,this._startPosition=null,this._distance=null,this._targetPosition=null)}),this._scrollContainer.on("touchstart",t=>{this.game.device.android||t.data.originalEvent.preventDefault(),t.data.isPrimary&&this._scrollContainer.hitArea.height>this._height&&(this._dirty=!1,this._startPosition=t.data.getLocalPosition(this))}).on("touchmove",t=>{if(!t.data.isPrimary)return;let e=t.data.getLocalPosition(this),i=0|e.x,s=0|e.y;s<0||s>this._height||this.game.device.landscape&&(i<this.hitAreaOffsetLeft||i>this._width-this.hitAreaOffsetRight)||(t.data.originalEvent.preventDefault(),this._startPosition?(this._targetPosition=e,this._speed=this._targetPosition.y-this._startPosition.y,this._startPosition=this._targetPosition,this._dirty=!0,this._scrollContainer.interactiveChildren=!1):this._scrollContainer.interactiveChildren=!0)}).on("touchend",()=>{this._scrollContainer.interactiveChildren=!0});let t=()=>{this._dirty&&(this._speed-=.03*this._speed,this._distance=Math.round(this._speed),this.update(0,this._scrollContainer.y+this._distance)),window.requestAnimationFrame(t)};window.requestAnimationFrame(t)}_wheelEvents(){this._scrollContainer.on("mouseover",()=>{this._dirty=!0}).on("mouseout",()=>{this._dirty=!1}),this.game.action.on("dom.wheel",t=>{if(!this._dirty)return;t.preventDefault();let e=(1===t.deltaMode?16:1)*t.deltaY||t.detail;this.update(0,this._scrollContainer.y-e)})}update(t,e){var i;e>=0||(null==(i=this._scrollContainer.hitArea)?void 0:i.height)<this._height?this._scrollContainer.position.set(0,0):e<=this._minY?this._scrollContainer.position.set(0,this._minY):this._scrollContainer.position.set(0,e)}_setupEvents(){!this.game.device.desktop&&this.game.device.supportsTouchEvents?this._touchEvents():this._wheelEvents()}constructor(){super(),this.paddingBottom=0,this.hitAreaOffsetLeft=0,this.hitAreaOffsetRight=0,this.interactive=!0,this._width=0,this._height=0,this._minY=0,this._speed=0,this._dirty=!1,this._startPosition=null,this._distance=null,this._targetPosition=null,this._scrollMask=new k.Graphics,this._scrollContainer=new k.Container,this._scrollContainer.interactive=!0,this.scrollBar=null,super.addChild(this._scrollMask),super.addChild(this._scrollContainer),this.mask=this._scrollMask,this._setupEvents()}}class tx extends tr(k.Text){withGameName(){this.text=`${this.game.config.get("gameName")}

${this.text}`}resize(){this.style.wordWrap=this.game.device.portrait,this.game.device.desktop?this.scale.set(1):this.scale.set(1.6)}constructor(t,e={}){super(t,(0,O._)({fill:16777215,fontSize:36,fontFamily:"Avenir-Bold",wordWrapWidth:380,align:"center"},e)),this.anchor.set(.5)}}let tS=["pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture","mouseover","mouseenter","mousedown","mousemove","mouseup","mousecancel","mouseout","mouseleave","touchover","touchenter","touchdown","touchmove","touchup","touchcancel","touchout","touchleave"],t_={bbcode:"bbcode"},tC={bbcode:["[","]"],xml:["<",">"]};class tT extends k.Text{handleInteraction(t){let e=t.data.getLocalPosition(this),i=this.hitboxes.reduce((t,i)=>void 0!==t?t:i.hitbox.contains(e.x,e.y)?i:void 0,void 0);t.targetTag=void 0===i?void 0:i.tag}set styles(t){for(let e in this.textStyles={},this.textStyles.default=this.assign({},tT.DEFAULT_TAG_STYLE),t)"default"===e?this.assign(this.textStyles.default,t[e]):this.textStyles[e]=this.assign({},t[e]);this.textStyles.default.tagStyle===t_.bbcode&&(this.textStyles.b=this.assign({},{fontStyle:"bold"}),this.textStyles.i=this.assign({},{fontStyle:"italic"}),this.textStyles.color=this.assign({},{fill:""}),this.textStyles.outline=this.assign({},{stroke:"",strokeThickness:6}),this.textStyles.font=this.assign({},{fontFamily:""}),this.textStyles.shadow=this.assign({},{dropShadowColor:"",dropShadow:!0,dropShadowBlur:3,dropShadowDistance:3,dropShadowAngle:2}),this.textStyles.size=this.assign({},{fontSize:"px"}),this.textStyles.spacing=this.assign({},{letterSpacing:""}),this.textStyles.align=this.assign({},{align:""})),this.withPrivateMembers()._style=new k.TextStyle(this.textStyles.default),this.withPrivateMembers().dirty=!0}setTagStyle(t,e){t in this.textStyles?this.assign(this.textStyles[t],e):this.textStyles[t]=this.assign({},e),this.withPrivateMembers()._style=new k.TextStyle(this.textStyles.default),this.withPrivateMembers().dirty=!0}deleteTagStyle(t){"default"===t?this.textStyles.default=this.assign({},tT.DEFAULT_TAG_STYLE):delete this.textStyles[t],this.withPrivateMembers()._style=new k.TextStyle(this.textStyles.default),this.withPrivateMembers().dirty=!0}getTagRegex(t,e){let i=Object.keys(this.textStyles).map(t=>[t,t.toUpperCase()].join("|")).join("|"),{tagStyle:s}=this.textStyles.default;i=t?`(${i})`:`(?:${i})`;let n=s===t_.bbcode?`\\${tC.bbcode[0]}${i}(?:\\=(?:[A-Za-z0-9_\\-\\#]+|'(?:[^']+|\\\\')*'))*\\s*\\${tC.bbcode[1]}|\\${tC.bbcode[0]}\\/${i}\\s*\\${tC.bbcode[1]}`:`\\${tC.xml[0]}${i}(?:\\s+[A-Za-z0-9_\\-]+=(?:"(?:[^"]+|\\\\")*"|'(?:[^']+|\\\\')*'))*\\s*\\${tC.xml[1]}|\\${tC.xml[0]}\\/${i}\\s*\\${tC.xml[1]}`;return e&&(n=`(${n})`),RegExp(n,"g")}getPropertyRegex(){return RegExp("([A-Za-z0-9_\\-]+)=(?:\"((?:[^\"]+|\\\\\")*)\"|'((?:[^']+|\\\\')*)')","g")}getBBcodePropertyRegex(){return RegExp("[A-Za-z0-9_\\-]+=([A-Za-z0-9_\\-\\#]+)","g")}_getTextDataPerLine(t){let e=[],i=this.getTagRegex(!0,!1),s=[this.assign({},this.textStyles.default)],n=[{name:"default",properties:{}}];for(let a=0;a<t.length;a++){let o;let h=[],r=[];for(;o=i.exec(t[a]);)r.push(o);if(0===r.length)h.push(this.createTextData(t[a],s[s.length-1],n[n.length-1]));else{let e=0;for(let i=0;i<r.length;i++){if(r[i].index>e&&h.push(this.createTextData(t[a].substring(e,r[i].index),s[s.length-1],n[n.length-1])),"/"===r[i][0][1])s.length>1&&(s.pop(),n.pop());else{let t;let e={},a=this.getPropertyRegex();for(;t=a.exec(r[i][0]);)e[t[1]]=t[2]||t[3];n.push({name:r[i][1],properties:e});let{tagStyle:o}=this.textStyles.default;if(o===t_.bbcode&&r[i][0].includes("=")&&this.textStyles[r[i][1]]){let t=this.getBBcodePropertyRegex().exec(r[i][0]),e={};Object.entries(this.textStyles[r[i][1]]).forEach(i=>{e[i[0]]="string"!=typeof i[1]?i[1]:t[1]+i[1]}),s.push(this.assign({},s[s.length-1],e))}else{let t=r[i][1];s.push(this.assign({},s[s.length-1],this.textStyles[t],this.textStyles[t.toLowerCase()]))}}e=r[i].index+r[i][0].length}if(e<t[a].length){let i=this.createTextData(e?t[a].substring(e):t[a],s[s.length-1],n[n.length-1]);h.push(i)}}e.push(h)}let{tagStyle:a}=this.textStyles.default;return e[e.length-1].map(t=>{t.text.includes(tC[a][0])&&(t.text=t.text.match(a===t_.bbcode?/^(.*)\[/:/^(.*)\</)[1])}),e}getFontString(t){return new k.TextStyle(t).toFontString()}createTextData(t,e,i){return{text:t,style:e,width:0,height:0,fontProperties:void 0,tag:i}}getDropShadowPadding(){let t=0,e=0;return Object.keys(this.textStyles).forEach(i=>{let{dropShadowDistance:s,dropShadowBlur:n}=this.textStyles[i];t=Math.max(t,s||0),e=Math.max(e,n||0)}),t+e}withPrivateMembers(){return this}updateText(){if(!this.withPrivateMembers().dirty)return;this.hitboxes=[],this.texture.baseTexture.resolution=this.resolution;let t=this.textStyles,e=this.text;this.withPrivateMembers()._style.wordWrap&&(e=this.wordWrap(this.text));let i=e.split(/(?:\r\n|\r|\n)/),s=this._getTextDataPerLine(i),n=[],a=[],o=[],h=0;for(let t=0;t<i.length;t++){let e=0,i=0,l=0,d=0;for(let n=0;n<s[t].length;n++){var r;let a=s[t][n].style;d=null!=(r=a.lineHeight)?r:0,this.context.font=this.getFontString(a),s[t][n].width=this.context.measureText(s[t][n].text).width,0!==s[t][n].text.length&&(s[t][n].width+=(s[t][n].text.length-1)*a.letterSpacing,n>0&&(e+=a.letterSpacing/2),n<s[t].length-1&&(e+=a.letterSpacing/2)),e+=s[t][n].width,s[t][n].fontProperties=k.TextMetrics.measureFont(this.context.font),s[t][n].height=s[t][n].fontProperties.fontSize,"number"==typeof a.valign?(i=Math.min(i,a.valign-s[t][n].fontProperties.descent),l=Math.max(l,a.valign+s[t][n].fontProperties.ascent)):(i=Math.min(i,-s[t][n].fontProperties.descent),l=Math.max(l,s[t][n].fontProperties.ascent))}n[t]=e,a[t]=i,o[t]=d>0?d:l,h=Math.max(h,e)}let l=Object.keys(t).map(e=>t[e]).reduce((t,e)=>Math.max(t,e.strokeThickness||0),0),d=this.getDropShadowPadding(),c=o.reduce((t,e)=>t+e,0)-a.reduce((t,e)=>t+e,0),u=h+2*l+2*d,p=c+2*l+2*d;this.canvas.width=u*this.resolution,this.canvas.height=p*this.resolution,this.context.scale(this.resolution,this.resolution),this.context.textBaseline="alphabetic",this.context.lineJoin="round";let g=d+l,m=[];for(let t=0;t<s.length;t++){let e;let i=s[t];switch(this.withPrivateMembers()._style.align){case"left":e=d+l;break;case"center":e=d+l+(h-n[t])/2;break;case"right":e=d+l+h-n[t]}for(let s=0;s<i.length;s++){let{style:n,text:h,fontProperties:r,width:l,height:d,tag:c}=i[s],u=g+r.ascent;switch(n.valign){case"top":break;case"baseline":u+=o[t]-r.ascent;break;case"middle":u+=(o[t]-a[t]-r.ascent-r.descent)/2;break;case"bottom":u+=o[t]-a[t]-r.ascent-r.descent;break;default:u+=o[t]-r.ascent-n.valign}if(0===n.letterSpacing)m.push({text:h,style:n,x:e,y:u,width:l,ascent:r.ascent,descent:r.descent,tag:c}),e+=i[s].width;else{this.context.font=this.getFontString(i[s].style);for(let t=0;t<h.length;t++){(t>0||s>0)&&(e+=n.letterSpacing/2);let a=this.context.measureText(h.charAt(t)).width;m.push({text:h.charAt(t),style:n,x:e,y:u,width:a,ascent:r.ascent,descent:r.descent,tag:c}),e+=a,(t<h.length-1||s<i.length-1)&&(e+=n.letterSpacing/2)}}}g+=o[t]-a[t]}this.context.save(),m.forEach(({style:t,text:e,x:i,y:s})=>{if(!t.dropShadow)return;this.context.font=this.getFontString(t);let n=t.dropShadowColor;"number"==typeof n&&(n=k.utils.hex2string(n)),this.context.shadowColor=n,this.context.shadowBlur=t.dropShadowBlur,this.context.shadowOffsetX=Math.cos(t.dropShadowAngle)*t.dropShadowDistance*this.resolution,this.context.shadowOffsetY=Math.sin(t.dropShadowAngle)*t.dropShadowDistance*this.resolution,this.context.fillText(e,i,s)}),this.context.restore(),m.forEach(({style:t,text:e,x:i,y:s,width:n,ascent:a,descent:o,tag:h})=>{if(void 0===t.stroke||!t.strokeThickness)return;this.context.font=this.getFontString(t);let r=t.stroke;"number"==typeof r&&(r=k.utils.hex2string(r)),this.context.strokeStyle=r,this.context.lineWidth=t.strokeThickness,this.context.strokeText(e,i,s)}),m.forEach(({style:t,text:e,x:i,y:s,width:n,ascent:a,descent:o,tag:h})=>{if(void 0===t.fill)return;this.context.font=this.getFontString(t);let r=t.fill;if("number"==typeof r)r=k.utils.hex2string(r);else if(Array.isArray(r))for(let t=0;t<r.length;t++){let e=r[t];"number"==typeof e&&(r[t]=k.utils.hex2string(e))}let l=new k.TextStyle(t),d=k.TextMetrics.measureText(e||" ",l,l.wordWrap,this.canvas);this.context.fillStyle=this._generateFillStyle(l,[e],d),this.context.fillText(e,i,s)}),m.forEach(({style:t,text:e,x:i,y:s,width:n,ascent:a,descent:o,tag:h})=>{let r=-this.withPrivateMembers()._style.padding-this.getDropShadowPadding();this.hitboxes.push({tag:h,hitbox:new k.Rectangle(i+r,s-a+r,n,a+o)}),(void 0===t.debug?tT.debugOptions.spans.enabled:t.debug)&&(this.context.lineWidth=1,tT.debugOptions.spans.bounding&&(this.context.fillStyle=tT.debugOptions.spans.bounding,this.context.strokeStyle=tT.debugOptions.spans.bounding,this.context.beginPath(),this.context.rect(i,s-a,n,a+o),this.context.fill(),this.context.stroke(),this.context.stroke()),tT.debugOptions.spans.baseline&&(this.context.strokeStyle=tT.debugOptions.spans.baseline,this.context.beginPath(),this.context.moveTo(i,s),this.context.lineTo(i+n,s),this.context.closePath(),this.context.stroke()),tT.debugOptions.spans.top&&(this.context.strokeStyle=tT.debugOptions.spans.top,this.context.beginPath(),this.context.moveTo(i,s-a),this.context.lineTo(i+n,s-a),this.context.closePath(),this.context.stroke()),tT.debugOptions.spans.bottom&&(this.context.strokeStyle=tT.debugOptions.spans.bottom,this.context.beginPath(),this.context.moveTo(i,s+o),this.context.lineTo(i+n,s+o),this.context.closePath(),this.context.stroke()),tT.debugOptions.spans.text&&(this.context.fillStyle="#ffffff",this.context.strokeStyle="#000000",this.context.lineWidth=2,this.context.font="8px monospace",this.context.strokeText(h.name,i,s-a+8),this.context.fillText(h.name,i,s-a+8),this.context.strokeText(`${n.toFixed(2)}x${(a+o).toFixed(2)}`,i,s-a+16),this.context.fillText(`${n.toFixed(2)}x${(a+o).toFixed(2)}`,i,s-a+16)))}),tT.debugOptions.objects.enabled&&(tT.debugOptions.objects.bounding&&(this.context.fillStyle=tT.debugOptions.objects.bounding,this.context.beginPath(),this.context.rect(0,0,u,p),this.context.fill()),tT.debugOptions.objects.text&&(this.context.fillStyle="#ffffff",this.context.strokeStyle="#000000",this.context.lineWidth=2,this.context.font="8px monospace",this.context.strokeText(`${u.toFixed(2)}x${p.toFixed(2)}`,0,8,u),this.context.fillText(`${u.toFixed(2)}x${p.toFixed(2)}`,0,8,u))),this.updateTexture()}wordWrap(t){let e="",i=this.getTagRegex(!0,!0),s=t.split("\n"),n=this.withPrivateMembers()._style.wordWrapWidth,a=[this.assign({},this.textStyles.default)];this.context.font=this.getFontString(this.textStyles.default);for(let t=0;t<s.length;t++){let o=n,h=s[t].split(i),r=!0;for(let t=0;t<h.length;t++)if(i.test(h[t])){if(e+=h[t],"/"===h[t][1])t+=2,a.pop();else{let e=h[++t];a.push(this.assign({},a[a.length-1],this.textStyles[e],this.textStyles[e.toLowerCase()])),t++}this.context.font=this.getFontString(a[a.length-1])}else{let i=h[t].split(" ");for(let t=0;t<i.length;t++){let s=this.context.measureText(i[t]).width;if(this.withPrivateMembers()._style.breakWords&&s>o){let s=i[t].split("");for(let t=0;t<s.length;t++){let i=this.context.measureText(s[t]).width;i>o?(e+=`
${s[t]}`,o=n-i):(e+=s[t],o-=i)}t>0&&(e+=" ",o-=this.context.measureText(" ").width)}else if(this.withPrivateMembers()._style.breakWords)e+=i[t],o-=s,t<i.length-1&&(e+=" ",o-=this.context.measureText(" ").width);else{let a=s+(t>0?this.context.measureText(" ").width:0);a>o?(r||(e+="\n"),e+=i[t],o=n-s):(o-=a,t>0&&(e+=" "),e+=i[t])}r=!1}}t<s.length-1&&(e+="\n")}return e}updateTexture(){let t=this.withPrivateMembers()._texture,e=this.getDropShadowPadding();t.baseTexture.setRealSize(this.canvas.width,this.canvas.height,this.resolution),t.trim.width=t.frame.width=this.canvas.width/this.resolution,t.trim.height=t.frame.height=this.canvas.height/this.resolution,t.trim.x=-this.withPrivateMembers()._style.padding-e,t.trim.y=-this.withPrivateMembers()._style.padding-e,t.orig.width=t.frame.width-(this.withPrivateMembers()._style.padding+e)*2,t.orig.height=t.frame.height-(this.withPrivateMembers()._style.padding+e)*2,this.withPrivateMembers()._onTextureUpdate(),t.baseTexture.emit("update",t.baseTexture),this.withPrivateMembers().dirty=!1}assign(t,...e){for(let i of e)for(let e in i)t[e]=i[e];return t}constructor(t,e){super(t),this.styles=e,tS.forEach(t=>{this.on(t,t=>this.handleInteraction(t))})}}tT.DEFAULT_TAG_STYLE={align:"left",breakWords:!1,dropShadow:!1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"#000000",dropShadowDistance:5,fill:"black",fillGradientType:k.TEXT_GRADIENT.LINEAR_VERTICAL,fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",valign:"baseline",wordWrap:!1,wordWrapWidth:100,tagStyle:"xml"},tT.debugOptions={spans:{enabled:!1,baseline:"#44BB44",top:"#BB4444",bottom:"#4444BB",bounding:"rgba(255, 255, 255, 0.1)",text:!0},objects:{enabled:!1,bounding:"rgba(255, 255, 255, 0.05)",text:!0}};class tA extends k.Container{traversTree(t,e,i){if(this.isElementVisible(t)){if(0===i){for(let i of t.children)this.isElementVisible(i)&&e.push(i);return}for(let s of t.children)this.traversTree(s,e,i-1)}}isElementVisible(t){return t.visible&&t.worldAlpha>0&&t.renderable}buildStack(t,e,i){for(let s of t.children){if(s._mask){i.push(s),e.push(s);return}this.isElementVisible(s)&&(void 0!==s.blendMode&&e.push(s),this.buildStack(s,e,i))}}extractRoots(){let t=[];return this.traversTree(this,t,this.needDepth),[t,[]]}_render(t){let[e]=this.extractRoots(),i=[],s=[];for(let t of e){let e=[],n=[];this.buildStack(t,e,n),n.length>0?(e.forEach((t,e)=>{s.push({stack:t,index:e,isComplete:!1})}),s.sort((t,e)=>t.index-e.index)):i.push({stack:e,index:0,isComplete:!1})}let n=0,a=this.validBlendModes[n],o=!0;for(;o;){for(let e of(o=!1,i)){let i;let{stack:s}=e;if(!e.isComplete){for(i=e.index;i<s.length;++i){let e=s[i];if(e.blendMode!==a){o=!0;break}e._render(t)}e.index=i,i===s.length&&(e.isComplete=!0)}}n=(n+1)%this.validBlendModes.length,a=this.validBlendModes[n]}for(let e of s){let{stack:i}=e;i.render(t)}}render(t){this.visible&&!(this.worldAlpha<=0)&&this.renderable&&(this._mask||this.filters&&this.filters.length?this.renderAdvanced(t):this._render(t))}constructor(t=0){super(),this.needDepth=t,this.validBlendModes=[k.BLEND_MODES.NORMAL,k.BLEND_MODES.ADD,k.BLEND_MODES.MULTIPLY,k.BLEND_MODES.SCREEN]}}var tB=i(8197);class tP extends tr(k.Container){init(t,e,i){this._overlay=new tw(.75),this.textContainer=new k.Container,this.title=new k.Text(this.game.i18n.t("RiskWheelTotalWinTitle"),t),this.title.anchor.set(.5,0),this.title.position.set(0,-219),this.message=new k.Text(this.game.i18n.t("RiskWheelTotalWinText"),e),this.message.anchor.set(.5,0),this.message.position.set(0,-32),this.value=new tB.Z("",i),this.value.anchor.set(.5),this.frame=new tm(this.game.loader.getAsset("riskFeatureEndPopupFrame")),this.animation=new tm(this.game.loader.getAsset("riskFeatureEndPopupAnimation"))}mount(){this.addChild(this._overlay),this.addChild(this.animation),this.addChild(this.frame),this.addChild(this.textContainer),this.textContainer.addChild(this.title),this.textContainer.addChild(this.message),this.textContainer.addChild(this.value)}open(t){var e=this;return(0,g._)(function*(){e.visible=!0,e.animation.play("animation",!0),e.frame.play("appear"),e.value.text=`${e.game.helpers.toMoney(t)}	${e.game.i18n.currency()}`,e._overlay.alpha=0,e.value.alpha=0,e.animation.alpha=0,e.title.alpha=1,e.title.visible=!0,e.message.alpha=0,e.message.visible=!0,e.game.action.emit("RiskFeature.RiskEndOpen"),x.kX.fromTo(e._overlay,.5,{pixi:{alpha:0}},{pixi:{alpha:.75}}),x.kX.fromTo([e.title,e.message,e.value,e.animation],.5,{pixi:{alpha:0}},{pixi:{alpha:1}}),yield e.game.delay(1200)})()}close(){var t=this;return(0,g._)(function*(){t.frame.play("decay"),yield t.game.delay(650),t.visible=!1})()}resize(){this.title.position.set(0,0),this.message.position.set(0,this.title.y+this.title.height+60),this.value.position.set(-250,this.message.y+this.message.height+20)}constructor(t,e,i){super(),this.visible=!1,this.interactive=!0,this.init(t,e,i),this.mount()}}class tR extends tr(k.Container){init(){this._textWin=new tT(this.game.i18n.t("FeatureRiskCurrentWinText",this.game.helpers.toMoney(9999999999)),{default:{align:"center",dropShadowAlpha:.4,dropShadowAngle:90,dropShadowBlur:12,dropShadowDistance:8,fill:16777215,fontFamily:"Avenir-Bold",fontSize:68,fontWeight:"bold",letterSpacing:1,lineJoin:"round",miterLimit:0,stroke:993036,trim:!0,whiteSpace:"normal"},value:{fill:["#ffc648","#ffeab2"],strokeThickness:3}}),this._textWin.anchor.set(.5,0),this._textWinValue=new k.Text(this.game.i18n.t(""),{align:"center",dropShadowAlpha:.4,dropShadowAngle:90,dropShadowBlur:12,dropShadowDistance:8,fontFamily:"Avenir-Bold",fontSize:68,fontWeight:"bold",letterSpacing:1,lineJoin:"round",miterLimit:0,trim:!0,whiteSpace:"normal",fill:["#ffc648","#ffeab2"],strokeThickness:3}),this._textWinValue.anchor.set(.5,0)}mount(){this.addChild(this._textWin),this.addChild(this._textWinValue)}setWin(t){this._textWin.text=this.game.i18n.t("FeatureRiskCurrentWinText"),this._textWinValue.text=`${this.game.helpers.toMoney(t)}${this.game.i18n.currency({withSpace:!0})}`,this._textWinValue.position.set(0,this._textWin.height+5),x.kX.killTweensOf(this._textWin),x.kX.killTweensOf(this._textWinValue),x.kX.to([this._textWin,this._textWinValue],.433,{pixi:{scale:1.2},yoyo:!0,repeat:1})}spinStart(){x.kX.killTweensOf(this._textWin),x.kX.killTweensOf(this._textWinValue),this._textWin.scale.set(1),this._textWinValue.scale.set(1)}constructor(){super(),this.init(),this.mount()}}class tW extends tr(k.Container){init(){this._textMaxWin=new tT("",{default:{align:"center",dropShadowAlpha:.4,dropShadowAngle:90,dropShadowBlur:12,dropShadowDistance:8,fill:16777215,fontFamily:"Avenir-Bold",fontSize:68,fontWeight:"bold",letterSpacing:1,lineJoin:"round",miterLimit:0,stroke:993036,trim:!0,whiteSpace:"normal",wordWrap:!0,wordWrapWidth:1e3}}),this._textMaxWin.anchor.set(.5,0),this._textMaxWinValue=new k.Text(this.game.i18n.t(""),{align:"center",dropShadowAlpha:.4,dropShadowAngle:90,dropShadowBlur:12,dropShadowDistance:8,fontFamily:"Avenir-Bold",fontSize:68,fontWeight:"bold",letterSpacing:1,lineJoin:"round",miterLimit:0,trim:!0,whiteSpace:"normal",fill:["#ffc648","#ffeab2"],strokeThickness:3}),this._textMaxWinValue.anchor.set(.5,0)}mount(){this.addChild(this._textMaxWin),this.addChild(this._textMaxWinValue)}setWin(t){this._textMaxWin.text=this.game.i18n.t("FeatureRiskMaxWinValue"),this._textMaxWinValue.text=`${this.game.helpers.toMoney(t)}${this.game.i18n.currency({withSpace:!0})}`,this._textMaxWinValue.position.set(0,this._textMaxWin.height+15)}constructor(){super(),this.init(),this.mount()}}n=v("RiskFeature.Open");class tF extends tc{setView(t){return this.view=t,this}initSound(){this._soundWin=this.game.sound.get("riskWheel_win"),this._soundSpin=this.game.sound.get("riskWheel_spin"),this._soundExpand=this.game.sound.get("riskWheel_expand"),this._soundLoss=this.game.sound.get("riskWheel_loss")}get visible(){var t;return null==(t=this.view)?void 0:t.visible}get available(){return this._riskBet>0}get win(){return this._win}get isWin(){return this._isWin}get maxWin(){return Math.max(this._maxWinMul*this._betCoins,0)}resetPlayed(){this._isPlayed=!1}setBet(t){this._bet=t}setBetCoins(t){this._betCoins=t}setRiskBet(t){this._riskBet=t}setWin(t){var e;this._win=t,null==(e=this.view)||e.setCurrentWin(t)}setWheelWin(t=!1){this._isWin=t}setWheels(t){this._wheels=t}setMaxWinMul(t){this._maxWinMul=t}showButtonOpen(t=!1){var e=this;return(0,g._)(function*(){var i;e._isPlayed||(yield e.game.delay(t?500:0),null==(i=e.view)||i.showButtonOpen())})()}hideButtonOpen(){var t;null==(t=this.view)||t.hideButtonOpen()}enableButtonOpen(){var t;null==(t=this.view)||t.enableButtonOpen()}disableButtonOpen(){var t;null==(t=this.view)||t.disableButtonOpen()}spin(){}updateBalance(){var t=this;return(0,g._)(function*(){try{yield t.game.server.request({action:"balance"}),t.game.action.emit("update:balance"),(0===t.game.wallet.balance||t.game.wallet.balance<t._win)&&t.game.action.emit("reward:reset")}catch(e){yield t.game.catchError(e)}})()}collect(){var t=this;return(0,g._)(function*(){var e,i,s,n;null==(e=t.view)||e.disableButtons(),yield t.updateBalance(),t.isWin&&t._win>0&&t.game.wallet.balance>=t._win&&(t.game.action.emit("sound:riskWheelTotalWin"),null==(n=t.view)||n.disableButtons(),yield t.openRiskEnd(t._win)),t._level=0,t._soundWin.stop(),t.game.action.clear("RiskFeature.Risk"),t.game.action.clear("RiskFeature.Collect"),null==(i=t.view)||i.disableButtons(),null==(s=t.view)||s.close(),(0===t.game.wallet.balance||t.game.wallet.balance<t._win)&&t.game.action.emit("reward:reset"),t.game.action.emit("RiskFeature.Exit"),t.game.action.emit("update:balance")})()}risk(){var t=this;return(0,g._)(function*(){var e,i,s,n,a,o,h,r,l,d,c,u;null==(e=t.view)||e.disableButtonCollect(),null==(i=t.view)||i.resetButtonStates(),t._soundWin.stop();try{t.game.action.clear("RiskFeature.Risk"),t.game.action.clear("RiskFeature.Collect");let e=yield t.riskRequest(t._riskBet);t._level=e.risk.level,t._riskBet=null!=(n=e.risk.bet)?n:0,t._soundSpin.play(),t.game.action.once("RiskFeature.Risk",()=>{var e;t.game.sound.click(),t._soundSpin.stop(),null==(e=t.view)||e.stopSpin(t._level)},t);let i=t._wheels[t._level].indexOf(e.risk.wheelResult);yield null==(s=t.view)?void 0:s.spin(t._level,i),e.win>=t.maxWin?(null==(a=t.view)||a.max(t._level,i),t._soundWin.play(),t.setWin(e.totalWin),t.game.action.emit("update:win",e.totalWin),null==(o=t.view)||o.disableButtons(),yield t.game.delay(1800),t.collect()):0===t._riskBet?(t._soundLoss.play(),null==(h=t.view)||h.lose(t._level,i),t.setWin(e.totalWin),t.game.action.emit("update:win",e.totalWin),null==(r=t.view)||r.disableButtons(),yield t.game.delay(1800),t.collect()):(1===e.risk.wheelResult?(t._soundExpand.play(),null==(l=t.view)||l.expand(t._level+1),null==(d=t.view)||d.enableButtons()):(t._soundWin.play(),null==(c=t.view)||c.win(t._level,i),t.setWin(e.totalWin),t.game.action.emit("update:win",e.totalWin),null==(u=t.view)||u.enableButtons()),t.game.action.clear("RiskFeature.Risk"),t.game.action.clear("RiskFeature.Collect"),t.game.action.once("RiskFeature.Risk",t.clickRisk,t),t.game.action.once("RiskFeature.Collect",t.clickCollect,t))}catch(e){t.game.catchError(e),[Y.SPENDING_BUDGET_EXCEEDED,Y.INSUFFICIENT_BALANCE,Y.MAX_BET_LIMIT_EXCEEDED].includes(null==e?void 0:e.message)?(t.game.action.clear("RiskFeature.Risk"),t.game.action.clear("RiskFeature.Collect"),t.game.action.once("RiskFeature.Risk",t.clickRisk,t),t.game.action.once("RiskFeature.Collect",t.clickCollect,t)):t.collect()}(0===t.game.wallet.balance||t.game.wallet.balance<t._win)&&(t.game.action.emit("reward:reset"),t.collect())})()}clickCollect(){this.game.sound.click(),this.collect()}clickRisk(){this.game.sound.click(),this.risk()}openRiskEnd(t){var e=this;return(0,g._)(function*(){var i,s;yield null==(i=e.view.riskEnd)?void 0:i.open(t),yield null==(s=e.view.riskEnd)?void 0:s.close()})()}onMenuOpen(){!this.game.device.desktop&&this.view&&(this.view.buttonOpen.renderable=!1)}onMenuClose(){!this.game.device.desktop&&this.view&&(this.view.buttonOpen.renderable=!0)}riskRequest(t){var e=this;return(0,g._)(function*(){var i,s;let n=yield e.game.server.request({action:"risk",bet:t});return e.game.netPosition.save(n.netPosition),e.game.netPosition.apply(),e.setWheelWin(null!=(i=n.risk)&&!!i.wheelWin&&(null==(s=n.risk)?void 0:s.wheelWin)),n})()}open(){var t,e,i;this._isPlayed=!0,null==(t=this.view)||t.resetButtonStates(),this.game.action.emit("RiskFeature.Enter"),this._level=0,this._wheels=this._wheels.map(t=>{let e=this.game.helpers.shuffle(t),i=e[0];if(i>0){let t=e.indexOf(0);e[t]=i,e[0]=0}return e}),null==(e=this.view)||e.open(this._wheels,this._maxWinMul*this._betCoins),this.game.action.once("RiskFeature.Risk",this.clickRisk,this),this.game.action.once("RiskFeature.Collect",this.clickCollect,this),null==(i=this.view)||i.enableButtons()}constructor(t){super(t),this.game=t,this._win=0,this._isWin=!1,this._isPlayed=!1,this._maxWinMul=0,this._bet=0,this._betCoins=0,this._riskBet=0,this._level=0,this._wheels=[],a(this)}}({e:[a]}=(0,m._)(tF,[[n,2,"open"]],[]));class tE extends tr(k.Container){init(){this._button=new k.Sprite(this.game.loader.getAsset("riskWheel_btn_collect")),this._button.anchor.set(.5),this._text=new k.Text(this.game.i18n.t("FeatureRiskButtonCollect"),{align:"center",fill:16777215,fontFamily:"Avenir-Bold",fontSize:["de","fr","pt","ro"].includes(this.game.i18n.language)?28:32,fontWeight:"bold",letterSpacing:1,lineJoin:"round",miterLimit:0,stroke:993036,strokeThickness:8,trim:!0,whiteSpace:"normal"}),this._text.anchor.set(.5)}mount(){this.addChild(this._button),this.addChild(this._text)}disable(){this.interactive=!1}enable(){this.interactive=!0}resetButtonState(){this._button.scale.set(1),this._text.scale.set(1)}resize(){}constructor(){super(),this.buttonMode=!0,this.interactive=!0,this.init(),this.mount(),this.game.interaction.hover(this,()=>{this._button.scale.set(1.05),this._text.scale.set(1.05)}),this.game.interaction.out(this,()=>{this._button.scale.set(1),this._text.scale.set(1)}),this.game.interaction.down(this,()=>{this._button.scale.set(.95),this._text.scale.set(.95)}),this.game.interaction.up(this,()=>{this._button.scale.set(1),this._text.scale.set(1)})}}class tM extends tr(k.Container){init(){this._button=new tm(this.game.loader.getAsset("riskWheel_btn_open")),this._button.state.setAnimation(0,"animation",!0),this._button.pivot.set(65,70);let t=new k.Text(this.game.i18n.t("FeatureRiskButtonOpen").toUpperCase(),{fontSize:["pt","fr","es"].includes(this.game.i18n.language)?26:35,fontFamily:"Avenir-Bold",fill:[16762698,16770983],fillGradientType:k.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[.4,1],strokeThickness:6});t.anchor.set(.5),t.updateText(!1),this.textOpen=new k.SimpleRope(t.texture,function(t,e){let i=Math.PI/200,s=(200-Math.round(t.width/(Math.abs(-150)*Math.PI)*200))/2,n=[];for(let t=200-s;t>s;t-=1){let e=Math.abs(-150)*Math.cos(i*t)+Math.abs(-150),s=-150*Math.sin(i*t)- -150;n.push(new k.Point(e,s))}return n}(t.texture,0)),this.game.interaction.click(this,()=>{this.game.action.emit("RiskFeature.Open"),this.game.action.emit("sound:click")})}mount(){this.addChild(this._button),this.addChild(this.textOpen)}updateTextTexture(t,e){let i=new k.Text(this.game.i18n.t("FeatureRiskButtonOpen").toUpperCase(),{fontSize:["pt","fr","es"].includes(this.game.i18n.language)?26:35,fontFamily:"Avenir-Bold",fill:null!=e?e:[16762698,16770983],fillGradientType:k.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[.4,1],stroke:null!=t?t:0,strokeThickness:6});i.anchor.set(.5),i.updateText(!1),this.textOpen.texture=i.texture,this.textOpen.calculateUvs()}show(t=!0){this.visible||x.kX.fromTo(this,.3,{pixi:{alpha:0}},{pixi:{alpha:1}}),super.show(t),this.interactive=!0}hide(){this.interactive=!1,super.hide()}enable(){this.interactive=!0}disable(){this.interactive=!1}constructor(){super(),this.buttonMode=!0,this.interactive=!0,this.alpha=0,this.init(),this.mount()}}class tI extends tr(k.Container){init(){this._button=new k.Sprite(this.game.loader.getAsset("riskWheel_btn_risk")),this._button.anchor.set(.5),this._text=new k.Text(this.game.i18n.t("FeatureRiskButtonRisk"),{align:"center",fill:16777215,fontFamily:"Avenir-Bold",fontSize:["de","fr","pt","ro"].includes(this.game.i18n.language)?28:32,fontWeight:"bold",letterSpacing:1,lineJoin:"round",miterLimit:0,stroke:993036,strokeThickness:8,trim:!0,whiteSpace:"normal"}),this._text.anchor.set(.5)}mount(){this.addChild(this._button),this.addChild(this._text)}disable(){this.interactive=!1}enable(){this.interactive=!0}resetButtonState(){this._button.scale.set(1),this._text.scale.set(1)}resize(){}constructor(){super(),this.interactive=!0,this.cursor="pointer",this.hitArea=new k.Rectangle(-150,-65,300,130),this.init(),this.mount(),this.game.interaction.hover(this,()=>{this._button.scale.set(1.05),this._text.scale.set(1.05)}),this.game.interaction.out(this,()=>{this._button.scale.set(1),this._text.scale.set(1)}),this.game.interaction.down(this,()=>{this._button.scale.set(.95),this._text.scale.set(.95)}),this.game.interaction.up(this,()=>{this._button.scale.set(1),this._text.scale.set(1)})}}class tN extends tr(k.Container){init(){this._arrow=new k.Sprite(this.game.loader.getAsset("riskWheel_btn_risk_arrow"))}mount(){this.addChild(this._arrow)}resize(){this.game.device.desktop||this.game.device.landscape?(this._arrow.angle=0,this.game.leftHand.enabled?(this._arrow.scale.x=-1,this._arrow.anchor.set(1,.5),this._arrow.position.set(-65,0)):(this._arrow.scale.x=1,this._arrow.anchor.set(1,.5),this._arrow.position.set(65,0))):(this._arrow.scale.x=1,this._arrow.anchor.set(.5),this._arrow.position.set(0,90),this._arrow.angle=90)}constructor(){super(),this.init(),this.mount()}}class tL extends tr(k.Container){init(){this._titleText=new k.Text(this.game.i18n.t("FeatureRiskHeaderTitle"))}mount(t){this._titleText.style=t,this._titleText.updateText(!1),this.title=new k.Sprite(this._titleText.texture),this.title.anchor.set(.5),this.addChild(this.title)}setBackground(t){this.background=this.addChildAt(new k.Sprite(this.game.loader.getAsset(t)),0),this.background.anchor.set(.5)}resize(){this.game.device.desktop||this.game.device.landscape?this.game.leftHand.enabled?this.position.set(this.game.viewport.width/2+100,90):this.position.set(this.game.viewport.width/2-100,90):this.position.set(this.game.viewport.width/2,this.game.viewport.height/2-905+2*this.game.viewport.paddingY)}constructor(){super(),this.init()}}class tO extends tr(k.Container){init(){this._textMaxWin=new tT(this.game.i18n.t("FeatureRiskMaxWinReachedText"),{default:{align:"center",dropShadowAlpha:.4,dropShadowAngle:90,dropShadowBlur:12,dropShadowDistance:8,fill:16777215,fontFamily:"Avenir-Bold",fontSize:60,fontWeight:"bold",letterSpacing:1,lineJoin:"round",miterLimit:0,stroke:16762698,trim:!0,whiteSpace:"normal"}}),this._textMaxWin.anchor.set(.5,0)}mount(){this.addChild(this._textMaxWin)}constructor(){super(),this.init(),this.mount()}}class tz extends tr(k.Text){constructor(){super("",{fill:16777215,fontSize:40,fontFamily:"Avenir-Bold"}),this.anchor.set(.5),this.text=this.game.i18n.t("FeatureRiskTextOr")}}class tD extends tr(k.Container){init(){this._cell=new k.Sprite,this._cell.anchor.set(.5,.5),this._cell.position.set(-255.5,0),this._cellMul=new k.Sprite,this._loseText=new k.Text("",{fontSize:["bg","de","sr"].includes(this.game.i18n.language)?19.5:["mt","uk"].includes(this.game.i18n.language)?27:36,fontFamily:"Avenir-Bold",fill:16777215,stroke:0,strokeThickness:4}),this._loseText.anchor.set(0,.5),this._loseText.visible=!1}mount(){this.addChild(this._cell),this.addChild(this._cellMul),this.addChild(this._loseText)}win(){this._loseText.visible=!1}lose(){this._loseText.text=`${this.game.i18n.t("FeatureRiskMissText")}`,this._loseText.visible=!0}reset(){this._loseText.visible=!1}spin(){}empty(){this._cell.texture=this.game.loader.getAsset(`riskWheel_wheel_cell_${this.game.helpers.random(1,3)}_empty`),this._cellMul.texture=k.Texture.EMPTY}multiplier(t){this._mul=t,this._cell.texture=this.game.loader.getAsset(`riskWheel_wheel_cell_${this.game.helpers.random(1,4)}`),this._cellMul.texture=this.game.loader.getAsset(1===t&&3===this._wheelLevel?"riskWheel_wheel_cell_reload":`riskWheel_wheel_cell_${t}_mul`),this.resize()}resize(){this._loseText.scale.x=1,this._loseText.position.set(-450,-5),this.game.device.desktop||this.game.device.landscape?1===this._mul?this._wheelLevel<3?(this._cellMul.anchor.set(.5),this._cellMul.scale.set(.75),this._cellMul.angle=-90,this._cellMul.position.set(-412,0)):(this._cellMul.anchor.set(.5),this._cellMul.scale.set(1),this._cellMul.angle=0,this._cellMul.position.set(-410,0)):(this.game.leftHand.enabled?(this._loseText.scale.x=-1,this._loseText.position.set(-303,-5),this._cellMul.anchor.set(0,.5),this._cellMul.scale.set(-.8,.8),this._cellMul.position.set(-360,0)):(this._cellMul.anchor.set(0,.5),this._cellMul.scale.set(.7),this._cellMul.position.set(-460,0)),this._cellMul.angle=0):1===this._mul?(this._cellMul.anchor.set(.5),this._cellMul.scale.set(.75),this._cellMul.angle=-90,this._cellMul.position.set(-412,0)):(this._cellMul.anchor.set(0,.5),this._cellMul.scale.set(.7),this._cellMul.position.set(-460,0),this._cellMul.angle=0)}constructor(t){super(),this._wheelLevel=t,this.init(),this.mount()}}let tG=[0,-20,-40,-60,-80,-100,-120,-140,-160,-180,-200,-220,-240,-260,-280,-300,-320,-340];class tV extends tr(k.Container){init(){this._cells=new k.Container,this._cells.pivot.set(0,540),this._cells.position.set(540),this._background=new k.Sprite(this.game.loader.getAsset("riskWheel_wheel_bg")),this._frameAnimation=new tb(this.game.loader.getAsset("riskWheel_wheel_frame_animation")),this._fx=new tm(this.game.loader.getAsset("riskWheel_wheel_cell_fx")),this._fx.angle=180,this._fx.scale.x=-.92,this._fx.scale.y=.92,this._fx.position.set(69,624),this._fx.visible=!0,this._fx.alpha=0}mount(t){this.addChild(this._cells),this.addChild(this._background),this.addChild(this._frameAnimation),this.addChild(this._fx);for(let e=0;e<this._cellsCount;e++)this._cells.addChild(new tD(t))}initSpin(){let t=this._level%2==0?-1:1;x.kX.to(this._cells,20,{angle:360*t,repeat:1/0,repeatDelay:0,ease:x.oY.Linear.easeNone})}setCells(t){for(let e=0;e<t.length;e++){let i=t[e],s=this._cells.children[e];0===i?s.empty():s.multiplier(i),s.position.set(0,540),s.angle=tG[e]}this._cells.angle=0}reset(){x.kX.killTweensOf(this._cells),this._cells.children.forEach(t=>t.reset()),this._fx.visible=!1,this._fx.state.timeScale=0,this._fx.alpha=0}spin(t){return this.reset(),this._cells.children.forEach(t=>t.spin()),this._fx.visible=!1,this._fx.state.timeScale=0,this._fx.alpha=0,new Promise(e=>{var i;let s=tG[t];x.kX.killTweensOf(this._cells),null==(i=this._spinTimeline)||i.kill(),this._spinTimeline=new x.TY,this._spinTimeline.eventCallback("onComplete",()=>{this._cells.angle=-s,e()}),this._spinTimeline.to(this._cells,1,{angle:-360,ease:x.oY.Linear.easeNone}).to(this._cells,4,{angle:-720-s-this.game.helpers.random(5,15),ease:x.oY.Power2.easeOut}).to(this._cells,1,{angle:-720-s,ease:x.oY.Bounce.easeOut})})}stopSpin(){this._spinTimeline.progress(1)}playAnimation(){this._frameAnimation.state.timeScale=1,this._frameAnimation.renderable=!0,this._frameAnimation.state.setAnimation(0,"animation",!0),this._frameAnimation.state.setAnimation(1,"animation2",!0)}stopAnimation(){this._frameAnimation.stop(),this._frameAnimation.state.clearTrack(0),this._frameAnimation.renderable=!1}win(t){this._cells.children[t].win(),x.kX.fromTo(this._fx,.5,{pixi:{alpha:0}},{pixi:{alpha:1}}),this._fx.visible=!0,this._fx.state.timeScale=1,this._fx.state.setAnimation(0,"win",!0)}lose(t){this._cells.children[t].lose(),x.kX.fromTo(this._fx,.5,{pixi:{alpha:0}},{pixi:{alpha:1}}),this._fx.visible=!0,this._fx.state.timeScale=1,this._fx.state.setAnimation(0,"lose",!0)}resize(){}constructor(t,e){super(),this._level=t,this._cellsCount=e,this.init(),this.mount(t)}}class tY extends tr(k.Container){init(){this.header=new tL,this.buttonOpen=new tM,this.buttonOpen.hide(),this._overlay=new tw(.75),this._backAnimationContainer=new tA,this._winAnimation=new tm(this.game.loader.getAsset("riskWheel_wheel_win_animation")),this._winAnimation.renderable=!1,this._winAnimation.alpha=0,this._backgroundAnimation=new tm(this.game.loader.getAsset("riskWheel_wheel_background_animation")),this._backgroundAnimation.play("animation",!0),this._spinAnimation=new tm(this.game.loader.getAsset("riskWheel_wheel_spin_animation")),this._spinAnimation.stop(),this._spinAnimation.state.clearTrack(0),this._spinAnimation.renderable=!1,this._spinAnimation.alpha=0,this._textCurrentWin=this.createCurrentWinText(),this._textMaxWin=this.createMaxWinText(),this._textMaxWinReached=new tO,this._textOr=new tz,this._wheels=new k.Container,this._wheelDecore=new k.Sprite(this.game.loader.getAsset("riskWheel_wheel_decore")),this._wheelDecore.anchor.set(.5),this.decoreAnimation=new tm(this.game.loader.getAsset("riskWheel_wheel_decore_animation")),this.decoreAnimation.state.setAnimation(0,"animation",!0),this.decoreAnimation.state.setAnimation(1,"animation2",!0),this._buttonRisk=new tI,this._buttonCollect=new tE,this._cursor=new tN,this._spaceKey=this.game.keyboard.register(this.game.keyboard.KEY_CODE.Space),this._spaceKey.disable(),this._escKey=this.game.keyboard.register(this.game.keyboard.KEY_CODE.Escape),this._escKey.disable(),this._spaceKey.onPress.add(()=>this.game.action.emit("RiskFeature.Risk")),this._escKey.onPress.add(()=>this.game.action.emit("RiskFeature.Collect")),this.game.interaction.click(this._buttonRisk,()=>this.game.action.emit("RiskFeature.Risk")),this.game.interaction.click(this._buttonCollect,()=>this.game.action.emit("RiskFeature.Collect"))}mount(){this.addChild(this._overlay),this.addChild(this._backAnimationContainer),this._backAnimationContainer.addChild(this._winAnimation),this._backAnimationContainer.addChild(this._backgroundAnimation),this._backAnimationContainer.addChild(this._spinAnimation),this.addChild(this._textCurrentWin),this.addChild(this._textMaxWin),this.addChild(this._textMaxWinReached),this.addChild(this._textOr),this.addChild(this._wheels),this.addChild(this.header),this._wheels.addChild(new tV(1,18)),this._wheels.addChild(new tV(2,18)),this._wheels.addChild(new tV(3,18)),this.addChild(this._wheelDecore),this.addChild(this.decoreAnimation),this.addChild(this._buttonRisk),this.addChild(this._buttonCollect),this.addChild(this._cursor)}get wheelCursor(){return this._cursor}setEndPopup(t){this.riskEnd=t,this.addChild(this.riskEnd)}createCurrentWinText(){return new tR}createMaxWinText(){return new tW}setCurrentWin(t){this._textCurrentWin.setWin(t)}setMaxWin(t){this._textMaxWin.setWin(t)}setBaseBet(t){}hideButtonOpen(){this.buttonOpen.hide()}showButtonOpen(){this.buttonOpen.show()}enableButtonOpen(){this.buttonOpen.enable()}disableButtonOpen(){this.buttonOpen.disable()}disableButtonCollect(){this._buttonCollect.disable()}resetButtonStates(){this._buttonCollect.resetButtonState(),this._buttonRisk.resetButtonState()}disableButtons(){this._buttonCollect.disable(),this._buttonRisk.disable(),this._escKey.disable(),this._spaceKey.disable()}enableButtons(){this._buttonCollect.enable(),this._buttonRisk.enable(),this._escKey.enable(),this._spaceKey.enable()}max(t,e){this._buttonRisk.disable(),this._textMaxWinReached.show(),this._wheels.children[t].win(e)}win(t,e){this._wheels.children[t].win(e),this._winAnimation.renderable=!0,x.kX.fromTo(this._winAnimation,.3,{pixi:{alpha:0}},{pixi:{alpha:1}}),this._winAnimation.play("active",!0)}stopWinAnimation(){x.kX.fromTo(this._winAnimation,.3,{pixi:{alpha:1}},{pixi:{alpha:0},onComplete:()=>{this._winAnimation.renderable=!1,this._winAnimation.stop()}}),this._textCurrentWin.spinStart()}lose(t,e){this._wheels.children[t].lose(e)}open(t,e){this.hideButtonOpen(),this.setMaxWin(e),this._buttonRisk.enable(),this._textMaxWinReached.hide(),this._wheels.children[0].scale.set(1.1,1.1),this._wheels.children[1].scale.set(.6,.6),this._wheels.children[2].scale.set(.41,.41);for(let e=0;e<t.length;e++)this._wheels.children[e].setCells(t[e]),this._wheels.children[e].initSpin(),setTimeout(()=>{this._wheels.children[e].playAnimation()},500*e);this.resize(),this.show()}close(){this.hide(),this.stopWinAnimation(),this._wheels.children.forEach(t=>{t.reset(),t.stopAnimation()})}spin(t,e){var i=this;return(0,g._)(function*(){i._buttonCollect.disable(),i._escKey.disable(),i.stopWinAnimation(),i._textCurrentWin.spinStart(),i.resize(),0===t?(i._wheels.children[0].scale.set(1.1,1.1),i._wheels.children[1].scale.set(.6,.6),i._wheels.children[2].scale.set(.41,.41)):1===t?(i._wheels.children[0].scale.set(1.1,1.1),i._wheels.children[1].scale.set(1),i._wheels.children[2].scale.set(.41,.41)):2===t&&(i._wheels.children[0].scale.set(1.1,1.1),i._wheels.children[1].scale.set(1,1),i._wheels.children[2].scale.set(.9)),i._spinAnimation.renderable=!0,i._spinAnimation.state.setAnimation(0,"idle",!0),i._spinAnimation.state.setAnimation(1,"smoke",!0),i._spinAnimation.state.setAnimation(2,"sparks1",!0),i._spinAnimation.state.setAnimation(3,"sparks2",!0),x.kX.fromTo(i._spinAnimation,.3,{pixi:{alpha:0}},{pixi:{alpha:1}}),yield i._wheels.children[t].spin(e),x.kX.fromTo(i._spinAnimation,.3,{pixi:{alpha:1}},{pixi:{alpha:0},onComplete:()=>{i._spinAnimation.renderable=!1,i._spinAnimation.stop(),i._spinAnimation.state.clearTrack(0)}})})()}stopSpin(t){this._wheels.children[t].stopSpin()}expand(t){1===t?x.kX.to(this._wheels.children[1],.5,{pixi:{scale:1}}):2===t&&x.kX.to(this._wheels.children[2],.5,{pixi:{scale:.9}})}resize(){this.game.device.desktop||this.game.device.landscape?(this._spinAnimation.visible=!0,this._wheels.children[0].pivot.set(540),this._wheels.children[1].pivot.set(540),this._wheels.children[2].pivot.set(540),this._textOr.scale.set(1),tf({width:95,height:70},this._textOr),this._textCurrentWin.scale.set(1),tf({width:700,height:200},this._textCurrentWin),this._textMaxWin.scale.set(1),tf({width:1e3,height:300},this._textMaxWin),this._textMaxWinReached.scale.set(1),tf({width:600,height:100},this._textMaxWinReached),this._textMaxWinReached.position.set(this.game.viewport.width/2-100,625),this._wheels.angle=0,this.game.leftHand.enabled?(this._backAnimationContainer.position.set((this.game.getRootMask()?0:-this.game.viewport.paddingX)+40,0),this._winAnimation.pivot.x=580,this._winAnimation.position.set(0),this._backgroundAnimation.pivot.x=560,this._backgroundAnimation.position.set(0),this._spinAnimation.scale.x=-1,this._spinAnimation.position.set(600,0),this.decoreAnimation.scale.set(-1,1),this.decoreAnimation.angle=0,this.decoreAnimation.position.set((this.game.getRootMask()?0:-this.game.viewport.paddingX)+195,347),this._wheels.scale.set(-1,1),this._wheels.position.set(this.game.getRootMask()?0:-this.game.viewport.paddingX,this.game.viewport.height/2),this._wheelDecore.scale.x=-1,this._wheelDecore.position.set(this.game.getRootMask()?0:-this.game.viewport.paddingX,this.game.viewport.height/2),this._textCurrentWin.position.set(this.game.viewport.width/2+100,this.game.viewport.height/2-250),this._textMaxWin.position.set(this.game.viewport.width/2+100,this.game.viewport.height/2+150),this._textOr.position.set(this.game.viewport.width/2+100,this.game.viewport.height/2),this._textMaxWinReached.position.set(this.game.viewport.width/2+100,625),this._buttonRisk.scale.set(1),this._buttonRisk.position.set(this.game.viewport.width/2-125,this.game.viewport.height/2),this._buttonCollect.scale.set(1),this._buttonCollect.position.set(this.game.viewport.width/2+330,this.game.viewport.height/2),this._cursor.pivot.x=-this._cursor.width/2,this._cursor.position.set((this.game.getRootMask()?0:-this.game.viewport.paddingX)+490,540)):(this._backAnimationContainer.position.set((this.game.getRootMask()?0:this.game.viewport.paddingX)-40,0),this._winAnimation.pivot.x=-580,this._winAnimation.position.set(876,0),this._backgroundAnimation.pivot.x=-560,this._backgroundAnimation.position.set(800,0),this._spinAnimation.scale.x=1,this._spinAnimation.position.set(1400,0),this.decoreAnimation.scale.set(1),this.decoreAnimation.angle=0,this.decoreAnimation.position.set((this.game.getRootMask()?0:this.game.viewport.paddingX)+1734,347),this._wheels.scale.set(1),this._wheels.position.set(this.game.viewport.width+(this.game.getRootMask()?0:this.game.viewport.paddingX),this.game.viewport.height/2),this._wheelDecore.scale.x=1,this._wheelDecore.position.set(this.game.viewport.width+(this.game.getRootMask()?0:this.game.viewport.paddingX),this.game.viewport.height/2),this._textCurrentWin.position.set(this.game.viewport.width/2-100,this.game.viewport.height/2-250),this._textMaxWin.position.set(this.game.viewport.width/2-100,this.game.viewport.height/2+150),this._textOr.position.set(this.game.viewport.width/2-100,this.game.viewport.height/2),this._buttonRisk.scale.set(1),this._buttonRisk.position.set(this.game.viewport.width/2+120,this.game.viewport.height/2),this._buttonCollect.scale.set(1),this._buttonCollect.position.set(this.game.viewport.width/2-320,this.game.viewport.height/2),this._cursor.pivot.x=this._cursor.width/2,this._cursor.position.set(this.game.viewport.width+(this.game.getRootMask()?0:this.game.viewport.paddingX)-490,540))):(this._backAnimationContainer.position.set(0,0),this._spinAnimation.visible=!1,this._backgroundAnimation.pivot.x=0,this._backgroundAnimation.position.set(0,1300+2*this.game.viewport.paddingY),this._winAnimation.pivot.x=0,this._winAnimation.position.set(0,1480+2*this.game.viewport.paddingY),this.decoreAnimation.angle=90,this.decoreAnimation.scale.set(1),this.decoreAnimation.position.set((this.game.getRootMask()?0:this.game.viewport.paddingX)+731.5,this.game.viewport.height-190+2*this.game.viewport.paddingY),this._wheels.children[0].pivot.set(540),this._wheels.children[1].pivot.set(540),this._wheels.children[2].pivot.set(540),this._textCurrentWin.scale.set(1),tf({width:800,height:170},this._textCurrentWin),this._textCurrentWin.position.set(this.game.viewport.width/2,this.game.viewport.height/2-740+2*this.game.viewport.paddingY),this._textMaxWin.position.set(this.game.viewport.width/2,this.game.viewport.height/2-550+2*this.game.viewport.paddingY),this._textOr.scale.set(1),tf({width:120,height:50},this._textOr),this._textOr.position.set(this.game.viewport.width/2+100,this.game.viewport.height/2),this._textOr.position.set(this.game.viewport.width/2,this.game.viewport.height/2-50+2*this.game.viewport.paddingY),this._textMaxWinReached.scale.set(1),tf({width:700,height:130},this._textMaxWinReached),this._textMaxWinReached.position.set(this.game.viewport.width/2,this.game.viewport.height/2+200+2*this.game.viewport.paddingY),this._wheels.angle=90,this._wheels.scale.set(1),this._wheels.position.set(this.game.viewport.width/2,1940+2*this.game.viewport.paddingY),this._wheelDecore.scale.x=1,this._wheelDecore.position.set(this.game.viewport.width/2,this.game.viewport.height+2*this.game.viewport.paddingY),this._buttonRisk.scale.set(1.4),this._buttonRisk.position.set(this.game.viewport.width/2,this.game.viewport.height/2-50+120+2*this.game.viewport.paddingY),this._buttonCollect.scale.set(1.4),this._buttonCollect.position.set(this.game.viewport.width/2,this.game.viewport.height/2-50-120+2*this.game.viewport.paddingY),this._cursor.pivot.x=0,this._cursor.position.set(540,300+this.game.viewport.height/2+2*this.game.viewport.paddingY))}constructor(){super(),this.visible=!1,this.interactive=!0,this.init(),this.mount()}}class tU extends tl{init(){}enter(){this.game.action.emit("state:finish_enter"),this.game.applyNetPosition()}exit(){this.game.action.emit("state:finish_exit")}}class tX extends tl{init(){}enter(){var t=this;return(0,g._)(function*(){t.game.isNextFeature("basic")&&!t.game.isNextAction("drop")&&(yield t.game.showAddMoreFreeRounds()),t.game.action.emit("state:ready_enter")})()}exit(){this.game.action.emit("state:ready_exit")}}let tH={Any:0,Big:1,Mega:2,Giant:3};class t$ extends tl{init(){}enter(){var t=this;return(0,g._)(function*(){t.tryStopAutoPlay(),t.game.action.emit("state:reward_enter")})()}exit(){this.game.action.emit("state:reward_exit")}tryStopAutoPlay(){var t,e;(null==(t=this.game.autoPlay)?void 0:t.enabled)&&(this.stopIfWin||this.stopIfFreeSpins||this.stopIfBonus||this.stopIfBalanceInc||this.stopIfBalanceDec)&&(null==(e=this.game.autoPlay)||e.disable())}disableControls(){}breakBigWin(){this.disableControls(),this.game.bigWinAnimation.break()}breakAllPayment(){this.disableControls(),this.game.slot.animation.breakAllPayment()}showBigWin(){return(0,g._)(function*(){})()}allPayment(){return(0,g._)(function*(){})()}scatterPayment(){return(0,g._)(function*(){})()}freeStart(){return(0,g._)(function*(){})()}freeEnd(){return(0,g._)(function*(){})()}freeExtra(){return(0,g._)(function*(){})()}complete(){return(0,g._)(function*(){})()}nextState(){return"finish"}get rewards(){return[]}get scatters(){return{}}get isFreeStart(){return this.game.store.get("free:isStart",!1)}get isFreeEnd(){return this.game.store.get("free:isEnd",!1)}isFreeExtra(){return this.game.store.get("free:winAdditional",!1)}get stopIfBalanceInc(){var t;return(null==(t=this.stopItemBalance)?void 0:t.checked)&&this.game.wallet.balance>=this.stopItemBalance.value}get stopIfBalanceDec(){var t;return(null==(t=this.stopItemBalanceDrop)?void 0:t.checked)&&this.game.wallet.balance<=this.stopItemBalanceDrop.value}get stopIfWin(){var t,e;let{wallet:i}=this.game;return i.coins>0&&(null==(t=this.stopItemWin)?void 0:t.checked)&&(this.stopItemWin.type===tH.Any||(null==(e=this.game.bigWin)?void 0:e.available(i.coins))&&this.game.bigWin.type(i.coins)>=this.stopItemWin.type)}get stopIfBonus(){var t,e,i;return(null==(t=this.stopItemFeatureBonus)?void 0:t.checked)&&!!(null==(i=this.game.server.response)?void 0:null==(e=i.feature)?void 0:e.match(/bonus|feature|queen/g))}get stopIfFreeSpins(){var t,e,i;return(null==(t=this.stopItemFeatureFreeSpin)?void 0:t.checked)&&!!(null==(i=this.game.server.response)?void 0:null==(e=i.feature)?void 0:e.match(/freespin|WEREWOLF|VAMPIRE/g))}constructor(...t){super(...t),this.stopItemWin=this.get("StopItemWin"),this.stopItemFeatureFreeSpin=this.get("StopItemFeatureFreeSpin"),this.stopItemFeatureBonus=this.get("StopItemFeatureBonus"),this.stopItemBalance=this.get("StopItemBalance"),this.stopItemBalanceDrop=this.get("StopItemBalanceDrop")}}class tK extends tl{init(){this.fastStopLayout=this.get("FastStopLayout")}enter(){this.game.config.get("quickSpin.available",!0)&&this.enableFastSpin(),this.game.action.emit("state:spin_enter")}exit(){this.game.action.emit("state:spin_exit")}enableFastSpin(){var t;null==(t=this.fastStopLayout)||t.press(()=>{this.game.action.emit("spin:start")},!0)}}class tj extends tl{init(){this.fastStopLayout=this.get("FastStopLayout")}enter(){this.game.action.emit("state:stop_enter")}exit(){var t;null==(t=this.fastStopLayout)||t.disable(),this.game.action.emit("state:stop_exit")}}let tQ={counts:[10,25,50,100,150,300,1/0]};class tZ extends k.utils.EventEmitter{get available(){return this.counts.length>0}get counts(){return this.config.counts}get max(){return Math.max(...this.config.counts)}toggle(){this.enabled?this.disable():this.enable(),this.emit("toggle",this.enabled)}enable(){this.enabled=!0,this.emit("enable")}disable(){this.count=this.config.counts[0],this.enabled=!1,this.emit("disable")}setCount(t){this.count=t}constructor(t=tQ){super(),this.config=t,this.count=this.config.counts[0],this.enabled=!1}}class tq{available(t){return t>=this.bigMul*this.betLevel.toCoins()}type(t){return this.megaMul>0?t>=this.giantMul*this.betLevel.toCoins()?tH.Giant:t>=this.megaMul*this.betLevel.toCoins()?tH.Mega:tH.Big:t>=this.giantMul*this.betLevel.toCoins()?tH.Giant:tH.Big}constructor(t,e,i,s){this.bigMul=t,this.giantMul=e,this.megaMul=i,this.betLevel=s}}class tJ{checkAdditional(t){this.needAdd=this.left>0&&t>this.left-1||t>0&&this.left-1<0}setLeftCount(t){this.left=t,this.enabled=this.left>-1}setPlayedCount(t){this.played=t}setActionType(t){this.actionType=t}start(){return new Promise(t=>{this.left>=0?(this.enabled=!0,this.onStart.dispatch(this.left,t)):t()})}finish(){return new Promise(t=>{0===this.left?(this.enabled=!1,this.onFinish.dispatch(t)):t()})}constructor(){this.left=-1,this.played=0,this.enabled=!1,this.needAdd=!1,this.actionType="continue",this.onStart=new I.Z,this.onFinish=new I.Z}}class t0{get isMax(){return this.count>=this.config.get("quickSpin.maxWatcherCount",3)}watch(){this.active&&this.count++}unwatch(){this.count=0,this.active=!1}constructor(t){this.config=t,this.count=0,this.active=!0}}class t1{get available(){return!this.config.get("quickSpin.disabled",!1)}toggle(){this.enabled?this.disable():this.enable()}enable(){this.available&&(this.clear(),this.enabled=!0,this.onToggle.dispatch(this.enabled))}disable(){this.available&&(this.enabled=!1,this.onToggle.dispatch(this.enabled))}tryEnable(){return this.available&&this.watcher.isMax?new Promise(t=>{this.onTryEnable.dispatch(e=>{e?this.enable():this.clear(),t()})}):Promise.resolve()}update(){this.enabled||this.watcher.watch()}clear(){this.watcher.unwatch(),this.onTryEnable.detachAll()}constructor(t){this.config=t,this.enabled=!1,this.onToggle=new I.Z,this.onTryEnable=new I.Z,this.watcher=new t0(t)}}class t2{get balance(){var t,e;return null!=(e=null==(t=this.server.response)?void 0:t.balance)?e:0}get coins(){var t,e;return null!=(e=null==(t=this.server.response)?void 0:t.win)?e:0}get totalCoins(){var t,e;return null!=(e=null==(t=this.server.response)?void 0:t.totalWin)?e:0}get bonusCoins(){var t,e,i;return null!=(i=null==(e=this.server.response)?void 0:null==(t=e.bonus)?void 0:t.win)?i:0}get specialCoins(){var t,e,i;return null!=(i=null==(e=this.server.response)?void 0:null==(t=e.special)?void 0:t.win)?i:0}get scatterCoins(){var t,e,i;return null!=(i=null==(e=this.server.response)?void 0:null==(t=e.scatters)?void 0:t.win)?i:0}get freespinCoins(){var t,e,i;return null!=(i=null==(e=this.server.response)?void 0:null==(t=e.freespins)?void 0:t.win)?i:0}get dropCoins(){var t,e;return null!=(e=null==(t=this.server.response)?void 0:t.dropWin)?e:0}get progressCoinsWin(){var t,e;return null!=(e=null==(t=this.server.response)?void 0:t.coinsWin)?e:0}get preSpinWin(){var t,e,i;return null!=(i=null==(e=this.server.response)?void 0:null==(t=e.preSpin)?void 0:t.win)?i:0}constructor(t){this.server=t}}class t5 extends tr(k.Text){resize(){let{device:t,viewport:e}=this.game;t.desktop?(this.anchor.set(1,.5),this.scale.set(.82),this.position.set(1760,1062)):t.landscape?(this.anchor.set(1,.5),this.scale.set(1.6),this.position.set(1740,1055)):(this.anchor.set(.5,1),this.scale.set(1.8),this.position.set(540,2*e.paddingY+e.height-70))}constructor(){super("",{fill:16777215,fontSize:14,fontFamily:"Avenir-Medium"}),this.text=``,this.alpha=.5,this.anchor.set(1,.5)}}class t6 extends tr(k.Text){formatVal(t){return`0${Math.floor(t)}`.slice(-2)}updateTime(){let t=new Date;this.text=`${this.formatVal(t.getHours())}:${this.formatVal(t.getMinutes())}:${this.formatVal(t.getSeconds())}`}resize(){let{device:t,viewport:e}=this.game;t.desktop?(this.anchor.set(1,.5),this.scale.set(.82),this.position.set(1860,1062)):t.landscape?(this.anchor.set(1,.5),this.scale.set(1.6),this.position.set(1855,1055)):(this.anchor.set(.5,1),this.scale.set(1.8),this.position.set(this.game.config.get("demoModeEnabled",!1)?810:540,2*e.paddingY+e.height-32))}constructor(){super("",{fill:16777215,fontSize:14,fontFamily:"Avenir-Medium"}),this.alpha=.5,this.anchor.set(1,.5),this.updateTime(),setInterval(()=>this.updateTime(),1e3)}}class t8 extends tr(k.Text){formatVal(t){return`0${Math.floor(t)}`.slice(-2)}updateTime(){let t=new Date().getTime()-this.startDate.getTime(),e=Math.floor(t/1e3/60/60),i=Math.floor((t-=36e5*e)/1e3/60),s=Math.floor((t-=6e4*i)/1e3);t-=1e3*s,this.text=this.game.i18n.t("TimeElapsedTitle",`${this.formatVal(e)}:${this.formatVal(i)}:${this.formatVal(s)}`).toUpperCase()}resize(){let{device:t,viewport:e}=this.game;t.desktop?(this.anchor.set(0,.5),this.scale.set(.82),this.position.set(282,1062)):t.landscape?(this.anchor.set(0,.5),this.scale.set(1.6),this.position.set(238,1055)):(this.anchor.set(0,1),this.scale.set(1.8),this.position.set(40,2*e.paddingY+e.height-32))}constructor(){super("",{fill:16777215,fontSize:14,fontFamily:"Avenir-Medium"}),this.startDate=new Date,this.alpha=.5,this.anchor.set(0,.5),this.updateTime(),setInterval(()=>this.updateTime(),1e3)}}let t3=(t,e=!1)=>(e?t.toLowerCase():t).replace(/(?:^|\s|[&"'([{])+\S/g,t=>t.toUpperCase());class t7 extends tr(k.Container){clear(){this.onClick.detachAll()}enable(){this.buttonMode=!0,this.interactive=!0}disable(){this.buttonMode=!1,this.interactive=!1}constructor(){super(),this.useClickSound=!0,this.buttonMode=!0,this.interactive=!0,this.onClick=new I.Z,this.onClick.add(()=>{if(this.useClickSound){if(this.game.sound.handlers.has("click"))this.game.sound.play("click");else{var t;null==(t=this.game.sound.get("clickNormal"))||t.play()}}})}}class t4 extends t7{setChecked(t){this.checked=t,this.mark.renderable=t,this.background.tint=this.game.config.get(t?"colors.primary":"colors.checkboxBackground")}constructor(t){super(),this.checked=!1,this.background=this.addChild(new k.Sprite(this.game.loader.getAsset("iconCheckCircle"))),this.background.width=61,this.background.height=61,this.mark=this.addChild(new k.Sprite(this.game.loader.getAsset("iconCheckMark"))),this.mark.width=32,this.mark.height=30,this.mark.anchor.set(.5),this.mark.position.set(this.background.width/2,this.background.height/2),t&&(this.description=this.addChild(new k.Text(t3(this.game.i18n.t(t),!0),{fill:16777215,fontSize:28,fontFamily:"Avenir-Bold",wordWrap:!0,wordWrapWidth:500})),this.description.anchor.set(0,.5),this.description.position.set(80,this.background.height/2)),this.hitArea=new k.Rectangle(0,0,this.width,61),this.game.interaction.click(this,()=>{let t=!this.checked;this.setChecked(t),this.onClick.dispatch(t)}),this.game.interaction.hover(this,()=>{this.background.tint=this.game.config.get(this.checked?"colors.primaryHover":"colors.checkboxBackgroundHover")}),this.game.interaction.out(this,()=>{this.background.tint=this.game.config.get(this.checked?"colors.primary":"colors.checkboxBackground")}),this.setChecked(!1)}}class t9 extends t4{disable(){super.disable(),this.alpha=.3}enable(){super.enable(),this.alpha=1}resize(){this.description.style.wordWrap=this.game.device.landscape||this.game.device.desktop,this.game.device.desktop?(this.scale.set(1),this.position.set(-300,350)):(this.game.device.landscape,this.scale.set(1.8),this.position.set(-400,760))}constructor(){super("GameSettingsGamble"),this.name="GambleCheckbox",this.description.style.wordWrapWidth=220}}class et extends tr(k.Text){resize(){let{device:t,viewport:e}=this.game;t.desktop?(this.anchor.set(0,.5),this.scale.set(.82),this.position.set(492,1062)):t.landscape?(this.anchor.set(0,.5),this.scale.set(1.6),this.position.set(620,1055)):(this.anchor.set(1,1),this.scale.set(1.8),this.position.set(1030,2*e.paddingY+e.height-32))}constructor(t,e){super("",{fill:16777215,fontSize:14,fontFamily:"Avenir-Medium"}),this.alpha=.5,this.anchor.set(0,.5),t&&e?this.text=this.game.i18n.t("GlobalMaxWinTitle",t):(this.text="",this.hide())}}class ee extends tr(k.Text){resize(){let{device:t,viewport:e}=this.game;t.desktop?(this.anchor.set(0,.5),this.scale.set(.82),this.position.set(492,1062)):t.landscape?(this.anchor.set(0,.5),this.scale.set(1.6),this.position.set(620,1055)):(this.anchor.set(1,1),this.scale.set(1.8),this.position.set(1030,2*e.paddingY+e.height-32))}constructor(t,e){super("",{fill:16777215,fontSize:14,fontFamily:"Avenir-Medium"}),this.alpha=.5,this.anchor.set(0,.5),t&&e?this.text=this.game.i18n.t("GlobalMaxWinRateTitle",e):(this.text="",this.hide())}}let ei=["base","rnb"];class es extends tr(k.Text){getRtp(t){if(!isNaN(parseFloat(t)))return parseFloat(t);let e=null==t?void 0:t.split(":")[0];if(ei.includes(e)){var i;let s=parseFloat(null==t?void 0:null==(i=t.split(":")[1])?void 0:i.split(",")[0]);if("base"!==e||isNaN(s))return;return s}}resize(){let{device:t,viewport:e}=this.game;t.desktop?(this.anchor.set(0,.5),this.scale.set(.82),this.position.set(492,1062)):t.landscape?(this.anchor.set(0,.5),this.scale.set(1.6),this.position.set(620,1055)):(this.anchor.set(1,1),this.scale.set(1.8),this.position.set(1030,2*e.paddingY+e.height-32))}constructor(t){super("",{fill:16777215,fontSize:14,fontFamily:"Avenir-Medium"}),this.alpha=.5,this.anchor.set(0,.5);let e=t?this.getRtp(t+""):t;e?this.text=this.game.i18n.t("GlobalRTPTitle",e):(this.text="",this.hide())}}class en{start(){let t=this._values.filter(t=>t.visible);if(t.length<2)return;t.forEach(t=>t.alpha=0);let e=new x.TY({repeat:-1,repeatDelay:0});for(let i=0;i<t.length;i++)e.to(t[i],.3,{pixi:{alpha:.5},ease:x.oY.Linear.easeIn}),e.to(t[i],.3,{delay:3,pixi:{alpha:0},ease:x.oY.Linear.easeOut})}constructor(t){this._values=t}}class ea extends tr(k.Text){update(t){this.text=this.game.i18n.t("NetPositionTitle",this.game.helpers.toMoney(t)).toUpperCase()}resize(){let{device:t,viewport:e}=this.game;t.desktop?(this.anchor.set(0,.5),this.scale.set(.82),this.position.set(492,1062)):t.landscape?(this.anchor.set(0,.5),this.scale.set(1.6),this.position.set(620,1055)):(this.anchor.set(1,1),this.scale.set(1.8),this.position.set(1030,2*e.paddingY+e.height-32))}constructor(){super("",{fill:16777215,fontSize:14,fontFamily:"Avenir-Medium"}),this.alpha=.5,this.anchor.set(0,.5)}}class eo extends td{get enabled(){return this._enabled}setEnabled(t){this._enabled=t}save(t){this.enabled&&(this._netPositionValue=t)}apply(){var t;this.enabled&&(null==(t=this.view)||t.update(this._netPositionValue))}toView(t){let e=super.toView(t);return this.apply(),e}constructor(...t){super(...t),this._netPositionValue=0,this._enabled=!1}}class eh extends tr(k.Text){resize(){this.game.device.desktop?(this.anchor.set(.5,.5),this.scale.set(.82),this.position.set(75,1062)):this.game.device.landscape?(this.anchor.set(.5,.5),this.scale.set(1.6),this.position.set(294,1055)):(this.anchor.set(.5,1),this.scale.set(1.8),this.position.set(270,2*this.game.viewport.paddingY+this.game.viewport.height-32))}constructor(){super("",{fill:16777215,fontSize:14,fontFamily:"Avenir-Medium"}),this.text=this.game.i18n.t("PlayForFun").toUpperCase(),this.alpha=.5,this.visible=this.game.config.get("demoModeEnabled",!1)}}class er extends t4{resize(){this.game.device.desktop?this.scale.set(1):(this.game.device.landscape,this.scale.set(1.8))}constructor(){super("GameSettingsBackgroundSounds"),this.name="BackgroundSoundsCheckbox"}}class el extends t4{resize(){this.game.device.desktop?(this.scale.set(1),this.visible=!0):this.visible=!1}constructor(){super("GameSettingsFullscreen"),this.name="FullscreenCheckbox"}}class ed extends t4{resize(){this.description.style.wordWrap=this.game.device.landscape||this.game.device.desktop,this.game.device.desktop?this.scale.set(1):(this.game.device.landscape,this.scale.set(1.8))}constructor(){super("GameSettingsGameSounds"),this.name="GameSoundsCheckbox",this.description.style.wordWrapWidth=220}}class ec extends t4{resize(){this.description.style.wordWrap=this.game.device.landscape||this.game.device.desktop,this.game.device.desktop?(this.scale.set(1),this.position.set(-300,350)):(this.game.device.landscape,this.scale.set(1.8),this.position.set(-400,760))}constructor(){super("GameSettingsIntroScreen"),this.name="IntroScreenCheckbox",this.description.style.wordWrapWidth=220}}class eu extends t4{resize(){this.description.style.wordWrap=this.game.device.landscape||this.game.device.desktop,this.game.device.desktop?this.visible=!1:(this.game.device.landscape,this.scale.set(1.8),this.visible=!0)}constructor(){super("GameSettingsLeftHand"),this.name="LeftHandCheckbox",this.description.style.wordWrapWidth=300}}class ep extends t4{resize(){this.game.device.desktop?this.scale.set(1):(this.game.device.landscape,this.scale.set(1.8))}constructor(){super("GameSettingsQuickSpin"),this.name="QuickSpinCheckbox"}}class eg extends t4{disable(){super.disable(),this.alpha=.3}enable(){super.enable(),this.alpha=1}resize(){this.game.device.desktop?this.scale.set(1):(this.game.device.landscape,this.scale.set(1.8))}constructor(){super("GameSettingsRiskFeatureCheckbox"),this.name="RiskFeatureCheckbox",this.game.interaction.click(this,()=>this.game.action.emit("RiskFeature.CheckboxClick"))}}i(7859);let em=i.p+"assets/ui_2020/lazy/launcher_logo.png";class eb extends tr(k.Container){resize(){this.game.options.preventScaling?this.scale.set(this.game.device.desktop?.8:.5):this.game.device.desktop||this.game.device.landscape?this.scale.set(this.game.device.desktop?1:1.5):this.scale.set(1.5),this.game.device.desktop||this.game.device.landscape?this.position.set((this.game.viewport.width-this.width)/2,(this.game.viewport.height-this.height)/2):this.position.set((this.game.viewport.width-this.width)/2,(2*this.game.viewport.paddingY+this.game.viewport.height-this.height)/2)}updateProgress(t){this._tweeenProgress.updateTo({pixi:{scaleX:t}},!0)}reset(){this._tweeenProgress.kill(),this.game.loader.reset()}constructor(){super(),this.logo=k.Sprite.from(em),this.logo.width=207,this.logo.height=243,this.progress=new k.Graphics,this.progress.beginFill(16717864),this.progress.drawRect(0,263,207,4),this.progress.endFill(),this.progress.scale.x=0,this.addChild(this.logo),this.addChild(this.progress),this._tweeenProgress=new x.kX(this.progress,.5,{onComplete:()=>{this.progress.scale.x>=1&&this.emit("load")}})}}let ew=i.p+"assets/ui_2020/lazy/popup_content_background.png",ey=i.p+"assets/ui_2020/lazy/popup_icon_failure.png",ef=i.p+"assets/ui_2020/lazy/popup_icon_question.png",ev={PopupIconSuccess:i.p+"assets/ui_2020/lazy/popup_icon_success.png",PopupIconFailure:ey,PopupIconQuestion:ef,PopupContentBackground:ew};class ek extends k.Text{setText(t){this.text=t.toUpperCase()}constructor(t,e={}){super(t.toUpperCase(),(0,O._)({fill:16777215,fontSize:35,fontFamily:"Avenir-Bold"},e)),this.buttonMode=!0,this.interactive=!0}}class ex extends tr(k.Sprite){constructor(t){var e;super(),this.texture=null!=(e=this.game.loader.getAsset(t))?e:k.Texture.EMPTY}}class eS extends k.Text{setText(t){this.text=t}constructor(t,e={}){super(t,(0,O._)({fill:16777215,fontSize:38,fontFamily:"Avenir-Regular",align:"center"},e))}}class e_ extends k.Text{setText(t){this.text=t.toUpperCase()}constructor(t,e={}){super(t.toUpperCase(),(0,O._)({fill:10066329,fontSize:40,fontFamily:"Avenir-Bold"},e))}}let eC=class extends q{resize(){this.icon.position.set(0,0),this.title.style.wordWrapWidth=this.game.device.portrait?600:1100,this.title.scale.set(1),tf({width:this.game.device.portrait?600:1100,height:100},this.title),this.title.position.set(0,this.icon.y+this.icon.height+10),this.message.style.wordWrapWidth=this.game.device.portrait?600:1100,this.message.scale.set(1),tf({width:this.game.device.portrait?600:1100,height:200},this.message),this.message.position.set(0,this.title.y+this.title.height+10),this.actionButton.position.set(0,this.message.y+this.message.height+20),this.game.device.desktop||this.game.device.landscape?(this.content.scale.set(this.game.device.desktop?1:1.5),this.content.position.set(.5*this.game.viewport.width|0,(this.game.viewport.height-this.content.height)*.5|0)):(this.content.scale.set(1.6),this.content.position.set(.5*this.game.viewport.width|0,(2*this.game.viewport.paddingY+this.game.viewport.height-this.content.height)*.5|0))}show(t=-1){this.game.keyboard.stop();let e="continue"===this.game.config.get("freeRoundsOnEnd","continue");return this.title.setText(t>-1?this.game.i18n.t("PopupFreeRoundStartTitle"):this.game.i18n.t("PopupFreeRoundEndTitle")),this.message.setText(t>-1?this.game.i18n.t(0===t?"PopupFreeRoundLastMessage":"PopupFreeRoundStartMessage",t):this.game.i18n.t(e?"PopupFreeRoundEndMessage":"")),this.actionButton.setText(t>-1?this.game.i18n.t("PopupActionContinue"):this.game.i18n.t(e?"PopupActionContinue":"PopupActionClose")),this.game.interaction.clickOnce(this.actionButton,t>-1?this.hide:e?this.hide:this.exit,this),this.resize(),new Promise(t=>this.resolver=t)}exit(){let t=this.game.config.get("homeURL.url","javascript:history.back()"),e=this.game.config.get("homeURL.target","self");this.game.openUrl(t,e)}hide(){this.game.keyboard.restore(),this.resolver&&(this.resolver(),this.resolver=null)}constructor(){super(),this.name="PopupFreeRound",this.resolver=null,this.overlay=new tw,this.content=new k.Container,this.icon=new ex(ev.PopupIconSuccess),this.icon.anchor.x=.5,this.title=new e_(this.game.i18n.t("PopupFreeRoundStartTitle"),{align:"center",wordWrap:!0,wordWrapWidth:600}),this.title.anchor.x=.5,this.message=new eS("",{wordWrap:!0,wordWrapWidth:600}),this.message.anchor.x=.5,this.actionButton=new ek(this.game.i18n.t("PopupActionContinue"),{fill:16777215}),this.actionButton.anchor.x=.5,this.game.interaction.out(this.actionButton,()=>this.actionButton.style.fill=16777215),this.game.interaction.hover(this.actionButton,()=>this.actionButton.style.fill=10066329),this.content.addChild(this.icon),this.content.addChild(this.title),this.content.addChild(this.message),this.content.addChild(this.actionButton),this.addChild(this.overlay),this.addChild(this.content)}},eT=class extends q{resize(){this.overlay.resize(),this.title.position.set(0,0),this.message.position.set(0,this.title.y+this.title.height+30),this.message.style.wordWrapWidth=this.game.device.desktop||this.game.device.landscape?700:600,this.actionReload.position.set(0,this.message.y+this.message.height+30),this.game.device.desktop||this.game.device.landscape?(this.content.scale.set(this.game.device.desktop?1:1.5),this.content.position.set(.5*this.game.viewport.width|0,(this.game.viewport.height-this.content.height)*.5|0),this.background.scale.set(this.game.device.desktop?1:1.5),this.background.position.set(.5*this.game.viewport.width|0,.5*this.game.viewport.height|0)):(this.content.scale.set(1.65),this.content.position.set(.5*this.game.viewport.width|0,(2*this.game.viewport.paddingY+this.game.viewport.height-this.content.height)*.5|0),this.background.scale.set(1.65),this.background.position.set(.5*this.game.viewport.width|0,(2*this.game.viewport.paddingY+this.game.viewport.height)*.5|0))}show(){return this.game.keyboard.stop(),this.title.setText(this.game.i18n.t("PopupFreeRoundAddMoreTitle")),this.message.setText(this.game.i18n.t("PopupFreeRoundAddMoreMessage")),this.actionReload.setText(this.game.i18n.t("PopupActionReload")),this.resize(),new Promise(t=>this.resolver=t)}hide(){window.location.reload()}constructor(){super(),this.name="PopupFreeRoundAddMore",this.resolver=null,this.overlay=new tw(.7),this.content=new k.Container,this.background=new k.Sprite(this.game.loader.getAsset(ev.PopupContentBackground)),this.background.anchor.set(.5),this.background.interactive=!0,this.background.name="PopupBackground",this.title=new e_(this.game.i18n.t("PopupFreeRoundAddMoreTitle")),this.title.anchor.x=.5,this.message=new eS(this.game.i18n.t("PopupFreeRoundAddMoreMessage"),{wordWrap:!0}),this.message.anchor.x=.5,this.actionReload=new ek(this.game.i18n.t("PopupActionReload"),{fill:10066329}),this.actionReload.anchor.x=.5,this.game.interaction.out(this.actionReload,()=>this.actionReload.style.fill=10066329),this.game.interaction.hover(this.actionReload,()=>this.actionReload.style.fill=16777215),this.game.interaction.click(this.actionReload,()=>this.hide()),this.content.addChild(this.title),this.content.addChild(this.message),this.content.addChild(this.actionReload),this.addChild(this.overlay),this.addChild(this.background),this.addChild(this.content)}},eA=class extends q{resize(){this.overlay.resize(),this.title.scale.set(1),tf({width:550,height:50},this.title),this.title.position.set(0,0),this.message.scale.set(1),tf({width:550,height:200},this.message),this.message.position.set(0,this.title.y+this.title.height+30),this.message.style.wordWrapWidth=this.game.device.desktop||this.game.device.landscape?700:600,this.actionExit.position.set(0,this.message.y+this.message.height+30),this.game.device.desktop||this.game.device.landscape?(this.content.scale.set(this.game.device.desktop?1:1.5),this.content.position.set(.5*this.game.viewport.width|0,(this.game.viewport.height-this.content.height)*.5|0),this.background.scale.set(this.game.device.desktop?1:1.5),this.background.position.set(.5*this.game.viewport.width|0,.5*this.game.viewport.height|0)):(this.content.scale.set(1.65),this.content.position.set(.5*this.game.viewport.width|0,(2*this.game.viewport.paddingY+this.game.viewport.height-this.content.height)*.5|0),this.background.scale.set(1.65),this.background.position.set(.5*this.game.viewport.width|0,(2*this.game.viewport.paddingY+this.game.viewport.height)*.5|0))}show(){return this.game.keyboard.stop(),this.title.setText(this.game.i18n.t("PopupGameSessionUnavailableTitle")),this.message.setText(this.game.i18n.t("PopupGameSessionUnavailableMessage")),this.actionExit.setText(this.game.i18n.t("PopupActionExit")),this.resize(),new Promise(t=>this.resolver=t)}hide(){let t=this.game.config.get("homeURL.url","javascript:history.back()"),e=this.game.config.get("homeURL.target","self");this.game.openUrl(t,e)}constructor(){super(),this.name="PopupGameSessionUnavailable",this.resolver=null,this.overlay=new tw(.7),this.content=new k.Container,this.background=new k.Sprite(this.game.loader.getAsset(ev.PopupContentBackground)),this.background.anchor.set(.5),this.background.interactive=!0,this.background.name="PopupBackground",this.title=new e_(this.game.i18n.t("PopupGameSessionUnavailableTitle")),this.title.anchor.x=.5,this.message=new eS(this.game.i18n.t("PopupGameSessionUnavailableMessage"),{wordWrap:!0}),this.message.anchor.x=.5,this.actionExit=new ek(this.game.i18n.t("PopupActionExit"),{fill:10066329}),this.actionExit.anchor.x=.5,this.game.interaction.out(this.actionExit,()=>this.actionExit.style.fill=10066329),this.game.interaction.hover(this.actionExit,()=>this.actionExit.style.fill=16777215),this.game.interaction.click(this.actionExit,()=>this.hide()),this.content.addChild(this.title),this.content.addChild(this.message),this.content.addChild(this.actionExit),this.addChild(this.overlay),this.addChild(this.background),this.addChild(this.content)}},eB=class extends q{resize(){this.title.scale.set(1),tf({width:550,height:100},this.title),this.title.position.set(0,0),this.message.scale.set(1),tf({width:550,height:400},this.message),this.message.position.set(0,this.title.y+this.title.height+40),this.actionContinue.position.set(0,this.message.y+this.message.height+40),this.overlay.resize(),this.game.device.desktop||this.game.device.landscape?(this.content.scale.set(this.game.device.desktop?1:1.5),this.background.scale.set(this.game.device.desktop?1:1.5),this.message.style.wordWrapWidth=660,this.background.position.set(.5*this.game.viewport.width|0,.5*this.game.viewport.height|0),this.content.position.set(.5*this.game.viewport.width|0,(this.game.viewport.height-this.content.height)*.5|0)):(this.content.scale.set(1.65),this.background.scale.set(1.65),this.message.style.wordWrapWidth=this.game.device.width+200,this.background.position.set(.5*this.game.viewport.width|0,(2*this.game.viewport.paddingY+this.game.viewport.height)*.5|0),this.content.position.set(.5*this.game.viewport.width|0,(2*this.game.viewport.paddingY+this.game.viewport.height-this.content.height)*.5|0))}show(){return this.game.keyboard.stop(),this.title.setText(this.game.i18n.t("PopupMaxLimitTitle")),this.message.setText(this.game.i18n.t("PopupMaxLimitMessage")),this.actionContinue.setText(this.game.i18n.t("PopupActionReload")),this.resize(),new Promise(t=>this.resolver=t)}hide(){window.location.reload()}constructor(){super(),this.name="PopupMaxLimit",this.resolver=null,this.overlay=new tw(.7),this.content=new k.Container,this.background=new k.Sprite(this.game.loader.getAsset(ev.PopupContentBackground)),this.background.anchor.set(.5),this.background.interactive=!0,this.background.name="PopupBackground",this.title=new e_(this.game.i18n.t("PopupMaxLimitTitle")),this.title.anchor.x=.5,this.message=new eS(this.game.i18n.t("PopupMaxLimitMessage"),{wordWrap:!0}),this.message.anchor.x=.5,this.actionContinue=new ek(this.game.i18n.t("PopupActionReload"),{fill:10066329}),this.actionContinue.anchor.x=.5,this.game.interaction.out(this.actionContinue,()=>this.actionContinue.style.fill=10066329),this.game.interaction.hover(this.actionContinue,()=>this.actionContinue.style.fill=16777215),this.game.interaction.click(this.actionContinue,()=>this.hide()),this.content.addChild(this.title),this.content.addChild(this.message),this.content.addChild(this.actionContinue),this.addChild(this.overlay),this.addChild(this.background),this.addChild(this.content)}},eP=class extends q{resize(){this.icon.position.set(0,0),this.title.position.set(0,this.icon.y+this.icon.height+10),this.title.style.wordWrap=this.game.device.portrait,this.title.style.wordWrapWidth=this.game.device.width*this.game.renderer.dpr-150,this.message.scale.set(1),tf({width:550,height:400},this.message),this.message.position.set(0,this.title.y+this.title.height+10),this.actionReload.position.set(0,this.message.y+this.message.height+20),this.game.device.desktop||this.game.device.landscape?(this.content.scale.set(this.game.device.desktop?1:1.5),this.content.position.set(.5*this.game.viewport.width|0,(this.game.viewport.height-this.content.height)*.5|0)):(this.content.scale.set(1.65),this.content.position.set(.5*this.game.viewport.width|0,(2*this.game.viewport.paddingY+this.game.viewport.height-this.content.height)*.5|0))}show(){return this.title.setText(this.game.i18n.t("PopupNetworkErrorTitle")),this.message.setText(this.game.i18n.t("PopupNetworkErrorMessage")),this.actionReload.setText(this.game.i18n.t("PopupActionReload")),this.resize(),new Promise(t=>this._resolver=t)}hide(){window.location.reload()}constructor(){super(),this.name="PopupNetworkError",this._resolver=null,this.overlay=this.addChild(new tw),this.content=this.addChild(new k.Container),this.icon=new ex(ev.PopupIconFailure),this.icon.anchor.x=.5,this.title=new e_(this.game.i18n.t("PopupNetworkErrorTitle"),{align:"center"}),this.title.anchor.x=.5,this.message=new eS(this.game.i18n.t("PopupNetworkErrorMessage"),{fontSize:36}),this.message.anchor.x=.5,this.actionReload=new ek(this.game.i18n.t("PopupActionReload"),{fill:16777215}),this.actionReload.anchor.x=.5,this.game.interaction.out(this.actionReload,()=>this.actionReload.style.fill=16777215),this.game.interaction.hover(this.actionReload,()=>this.actionReload.style.fill=10066329),this.game.interaction.click(this.actionReload,()=>this.hide()),this.content.addChild(this.icon),this.content.addChild(this.title),this.content.addChild(this.message),this.content.addChild(this.actionReload),this.addChild(this.overlay),this.addChild(this.content)}};class eR extends q{resize(){this.title.position.set(0,0);let t=Math.max(this.actionEnable.width,this.actionClose.width)>160?126:100;this.actionEnable.position.set(t,this.message.y+this.message.height+30),this.actionClose.position.set(-t,this.message.y+this.message.height+30),this.game.device.desktop||this.game.device.landscape?(this.message.scale.set(1),tf({width:700,height:400},this.message),this.message.position.set(0,this.title.y+this.title.height+30),this.content.scale.set(this.game.device.desktop?1:1.5),this.background.scale.set(this.game.device.desktop?1.1:1.5),this.background.position.set(.5*this.game.viewport.width|0,.5*this.game.viewport.height|0),this.content.position.set(.5*this.game.viewport.width|0,(this.game.viewport.height-this.content.height)*.5|0)):(this.message.scale.set(1),tf({width:580,height:400},this.message),this.message.position.set(0,this.title.y+this.title.height+30),this.content.scale.set(1.65),this.background.scale.set(1.75),this.background.position.set(.5*this.game.viewport.width|0,(2*this.game.viewport.paddingY+this.game.viewport.height)*.5|0),this.content.position.set(.5*this.game.viewport.width|0,(2*this.game.viewport.paddingY+this.game.viewport.height-this.content.height)*.5|0))}show(){return this.game.keyboard.stop([this.escKey,this.enterKey]),this.title.setText(this.game.i18n.t("PopupQuickSpinTitle")),this.message.setText(this.game.i18n.t("PopupQuickSpinMessage")),this.actionEnable.setText(this.game.i18n.t("PopupActionEnable")),this.actionClose.setText(this.game.i18n.t("PopupActionClose")),this.resize(),this.escKey.enable(),this.enterKey.enable(),new Promise(t=>this.resolver=t)}hide(t){this.game.keyboard.restore(),this.resolver&&(this.resolver(t),this.resolver=null),this.escKey.disable(),this.enterKey.disable()}constructor(){super(),this.name="PopupQuickSpin",this.resolver=null,this.overlay=new tw(.7),this.content=new k.Container,this.background=new k.Sprite(this.game.loader.getAsset(ev.PopupContentBackground)),this.background.anchor.set(.5),this.background.interactive=!0,this.background.name="PopupBackground",this.title=new e_(this.game.i18n.t("PopupQuickSpinTitle")),this.title.anchor.x=.5;let t=["it","pt","uk"].includes(this.game.i18n.language)?450:["fr","ro","sr","tr"].includes(this.game.i18n.language)?500:["es"].includes(this.game.i18n.language)?550:["bg","de"].includes(this.game.i18n.language)?680:780;this.message=new eS(this.game.i18n.t("PopupQuickSpinMessage"),{fontSize:35,wordWrap:!0,wordWrapWidth:t}),this.message.anchor.x=.5,this.actionEnable=new ek(this.game.i18n.t("PopupActionEnable"),{fill:10066329}),this.actionEnable.anchor.x=.5,this.game.interaction.out(this.actionEnable,()=>this.actionEnable.style.fill=10066329),this.game.interaction.hover(this.actionEnable,()=>this.actionEnable.style.fill=16777215),this.game.interaction.click(this.actionEnable,()=>this.hide(!0)),this.actionClose=new ek(this.game.i18n.t("PopupActionClose"),{fill:10066329}),this.actionClose.anchor.x=.5,this.game.interaction.out(this.actionClose,()=>this.actionClose.style.fill=10066329),this.game.interaction.hover(this.actionClose,()=>this.actionClose.style.fill=16777215),this.game.interaction.click(this.actionClose,()=>this.hide(!1)),this.escKey=this.game.keyboard.register(this.game.keyboard.KEY_CODE.Escape),this.escKey.disable(),this.escKey.onPress.add(()=>this.hide(!1)),this.enterKey=this.game.keyboard.register(this.game.keyboard.KEY_CODE.Enter),this.enterKey.disable(),this.enterKey.onPress.add(()=>this.hide(!0)),this.content.addChild(this.title),this.content.addChild(this.message),this.content.addChild(this.actionEnable),this.content.addChild(this.actionClose),this.addChild(this.overlay),this.addChild(this.background),this.addChild(this.content)}}let eW=class extends q{resize(){this.icon.position.set(0,0),this.message.scale.set(1),tf({width:550,height:400},this.message),this.message.position.set(0,this.icon.y+this.icon.height+10),this.actionContinue.position.set(0,this.message.y+this.message.height+15),this.game.device.desktop||this.game.device.landscape?(this.content.scale.set(this.game.device.desktop?1:1.5),this.content.position.set(.5*this.game.viewport.width|0,(this.game.viewport.height-this.content.height)*.5|0)):(this.content.scale.set(1.65),this.content.position.set(.5*this.game.viewport.width|0,(2*this.game.viewport.paddingY+this.game.viewport.height-this.content.height)*.5|0))}show(){return this.game.keyboard.stop(),this.message.setText(this.game.i18n.t("PopupRestoreMessage")),this.actionContinue.setText(this.game.i18n.t("PopupActionContinue")),this.resize(),new Promise(t=>this.resolver=t)}hide(){this.game.keyboard.restore(),this.resolver&&(this.resolver(),this.resolver=null)}constructor(){super(),this.name="PopupRestore",this.resolver=null,this.overlay=this.addChild(new tw),this.content=this.addChild(new k.Container),this.icon=new ex(ev.PopupIconSuccess),this.icon.anchor.x=.5,this.message=new eS(this.game.i18n.t("PopupRestoreMessage"),{wordWrap:!0,wordWrapWidth:320}),this.message.anchor.x=.5,this.actionContinue=new ek(this.game.i18n.t("PopupActionContinue"),{fill:16777215}),this.actionContinue.anchor.x=.5,this.game.interaction.out(this.actionContinue,()=>this.actionContinue.style.fill=16777215),this.game.interaction.hover(this.actionContinue,()=>this.actionContinue.style.fill=10066329),this.game.interaction.click(this.actionContinue,()=>this.hide()),this.content.addChild(this.icon),this.content.addChild(this.message),this.content.addChild(this.actionContinue),this.addChild(this.overlay),this.addChild(this.content)}},eF=class extends q{resize(){this.title.position.set(0,0),this.message.position.set(0,this.title.y+this.title.height+10),this.game.device.desktop||this.game.device.landscape?(this.content.scale.set(this.game.device.desktop?1:1.5),this.background.scale.set(this.game.device.desktop?1:1.5),this.background.position.set(.5*this.game.viewport.width|0,.5*this.game.viewport.height|0),this.message.style.wordWrapWidth=this.background.width-(this.game.device.desktop?100:550),this.actionNo.position.set(70,this.message.y+this.message.height+10),this.actionYes.position.set(-70,this.message.y+this.message.height+10),this.content.position.set(.5*this.game.viewport.width|0,(this.game.viewport.height-this.content.height)*.5|0)):(this.content.scale.set(1.65),this.background.scale.set(1.65),this.background.position.set(.5*this.game.viewport.width|0,(2*this.game.viewport.paddingY+this.game.viewport.height)*.5|0),this.message.style.wordWrapWidth=this.background.width-650,this.actionNo.position.set(70,this.message.y+this.message.height+10),this.actionYes.position.set(-70,this.message.y+this.message.height+10),this.content.position.set(.5*this.game.viewport.width|0,(2*this.game.viewport.paddingY+this.game.viewport.height-this.content.height)*.5|0))}show(t,e,i,s){this.game.keyboard.stop([this.escKey,this.enterKey]);let n=this.game.i18n.currency({withSpace:!0});return this.title.setText(this.game.i18n.t(i?"PopupRiskNBuyTitleRisk":"PopupRiskNBuyTitleBuy")),this.message.scale.set(1),tf({width:550,height:100},this.message),this.message.setText(this.game.i18n.t(i?"PopupRiskNBuyContentRisk":"PopupRiskNBuyContentBuy",`${this.game.helpers.toMoneySS(i?t:s.bet)}${n}`,`${this.game.helpers.toMoneySS(e)}${n}`)),this.message.scale.set(1),tf({width:550,height:400},this.message),this.actionYes.setText(this.game.i18n.t("PopupActionYes")),this.actionNo.setText(this.game.i18n.t("PopupActionNo")),this.resize(),this.escKey.enable(),this.enterKey.enable(),new Promise(t=>this.resolver=t)}hide(t=!1){this.game.keyboard.restore(),this.resolver&&(this.resolver(t),this.resolver=null),this.actionYes.style.fill=16777215,this.actionNo.style.fill=16777215,this.escKey.disable(),this.enterKey.disable()}constructor(){super(),this.name="PopupRiskNBuy",this.resolver=null,this.overlay=new tw(.7),this.content=new k.Container,this.background=new k.Sprite(this.game.loader.getAsset(ev.PopupContentBackground)),this.background.anchor.set(.5),this.background.interactive=!0,this.background.name="PopupBackground",this.title=new e_("RISK FEATURE"),this.title.anchor.x=.5,this.message=new eS("",{wordWrap:!0,whiteSpace:"normal",breakWords:!0}),this.message.anchor.x=.5,this.actionYes=new ek(this.game.i18n.t("PopupActionYes"),{fill:16777215}),this.actionYes.anchor.x=.5,this.game.interaction.out(this.actionYes,()=>this.actionYes.style.fill=16777215),this.game.interaction.hover(this.actionYes,()=>this.actionYes.style.fill=10066329),this.game.interaction.click(this.actionYes,()=>{this.hide(!0)}),this.actionNo=new ek(this.game.i18n.t("PopupActionNo"),{fill:16777215}),this.actionNo.anchor.x=.5,this.game.interaction.out(this.actionNo,()=>this.actionNo.style.fill=16777215),this.game.interaction.hover(this.actionNo,()=>this.actionNo.style.fill=10066329),this.game.interaction.click(this.actionNo,()=>{this.hide(!1)}),this.escKey=this.game.keyboard.register(this.game.keyboard.KEY_CODE.Escape),this.escKey.disable(),this.escKey.onPress.add(()=>this.hide(!1)),this.enterKey=this.game.keyboard.register(this.game.keyboard.KEY_CODE.Enter),this.enterKey.disable(),this.enterKey.onPress.add(()=>this.hide(!0)),this.content.addChild(this.title),this.content.addChild(this.message),this.content.addChild(this.actionNo),this.content.addChild(this.actionYes),this.addChild(this.overlay),this.addChild(this.background),this.addChild(this.content)}},eE=class extends q{resize(){this.icon.position.set(0,0),this.message.style.wordWrapWidth=this.game.device.width,this.message.scale.set(1),tf({width:600,height:200},this.message),this.message.position.set(0,this.icon.y+this.icon.height+10),this.actionYes.position.set(0,this.message.y+this.message.height+15),this.actionNo.position.set(this.actionYes.x+this.actionYes.width+35,this.message.y+this.message.height+15),this.actionContainer.pivot.set(this.actionContainer.width/2,0),this.game.device.desktop||this.game.device.landscape?(this.content.scale.set(this.game.device.desktop?1:2),this.content.position.set(.5*this.game.viewport.width|0,(this.game.viewport.height-this.content.height)*.5|0)):(this.content.scale.set(2),this.content.position.set(.5*this.game.viewport.width|0,(2*this.game.viewport.paddingY+this.game.viewport.height-this.content.height)*.5|0))}show(){return this.message.setText(this.game.i18n.t("PopupSoundMessage")),this.actionYes.setText(this.game.i18n.t("PopupActionYes")),this.actionNo.setText(this.game.i18n.t("PopupActionNo")),this.resize(),new Promise(t=>this.resolver=t)}hide(t=!1){this.game.store.set("gameSoundEnabled",t),this.resolver&&(this.resolver(t),this.resolver=null)}constructor(){super(),this.name="PopupSound",this.resolver=null,this.overlay=new tw,this.content=new k.Container,this.icon=new ex(ev.PopupIconQuestion),this.icon.anchor.x=.5,this.message=new eS(this.game.i18n.t("PopupSoundMessage"),{wordWrap:!0}),this.message.anchor.x=.5,this.actionContainer=new k.Container,this.actionYes=new ek(this.game.i18n.t("PopupActionYes"),{fill:16777215}),this.game.interaction.out(this.actionYes,()=>this.actionYes.style.fill=16777215),this.game.interaction.hover(this.actionYes,()=>this.actionYes.style.fill=10066329),this.game.interaction.click(this.actionYes,()=>this.hide(!0)),this.actionNo=new ek(this.game.i18n.t("PopupActionNo"),{fill:16777215}),this.game.interaction.out(this.actionNo,()=>this.actionNo.style.fill=16777215),this.game.interaction.hover(this.actionNo,()=>this.actionNo.style.fill=10066329),this.game.interaction.click(this.actionNo,()=>this.hide(!1)),this.content.addChild(this.icon),this.content.addChild(this.message),this.content.addChild(this.actionContainer),this.actionContainer.addChild(this.actionNo),this.actionContainer.addChild(this.actionYes),this.addChild(this.overlay),this.addChild(this.content)}},eM=class extends q{resize(){this.title.scale.set(1),tf({width:550,height:100},this.title),this.title.position.set(0,0),this.message.style.wordWrapWidth=this.game.device.width+200,this.message.scale.set(1),tf({width:600,height:200},this.message),this.message.position.set(0,this.title.y+this.title.height+10),this.actionContinue.position.set(0,this.message.y+this.message.height+10),this.overlay.resize(),this.game.device.desktop||this.game.device.landscape?(this.content.scale.set(this.game.device.desktop?1:1.5),this.background.scale.set(this.game.device.desktop?1:1.5),this.background.position.set(.5*this.game.viewport.width|0,.5*this.game.viewport.height|0),this.content.position.set(.5*this.game.viewport.width|0,(this.game.viewport.height-this.content.height)*.5|0)):(this.content.scale.set(1.65),this.background.scale.set(1.65),this.background.position.set(.5*this.game.viewport.width|0,(2*this.game.viewport.paddingY+this.game.viewport.height)*.5|0),this.content.position.set(.5*this.game.viewport.width|0,(2*this.game.viewport.paddingY+this.game.viewport.height-this.content.height)*.5|0))}show(){return this.game.keyboard.stop(),this.title.setText(this.game.i18n.t("PopupSpendingBudgetTitle")),this.message.setText(this.game.i18n.t("PopupSpendingBudgetMessage")),this.actionContinue.setText(this.game.i18n.t("PopupActionContinue")),this.resize(),new Promise(t=>this.resolver=t)}hide(){this.game.keyboard.restore(),this.resolver&&(this.resolver(),this.resolver=null)}constructor(){super(),this.name="PopupSpendingBudget",this.resolver=null,this.overlay=new tw(.7),this.content=new k.Container,this.background=new k.Sprite(this.game.loader.getAsset(ev.PopupContentBackground)),this.background.anchor.set(.5),this.background.interactive=!0,this.background.name="PopupBackground",this.title=new e_(this.game.i18n.t("PopupSpendingBudgetTitle")),this.title.anchor.x=.5,this.message=new eS(this.game.i18n.t("PopupSpendingBudgetMessage"),{wordWrap:!0}),this.message.anchor.x=.5,this.actionContinue=new ek(this.game.i18n.t("PopupActionContinue"),{fill:10066329}),this.actionContinue.anchor.x=.5,this.game.interaction.out(this.actionContinue,()=>this.actionContinue.style.fill=10066329),this.game.interaction.hover(this.actionContinue,()=>this.actionContinue.style.fill=16777215),this.game.interaction.click(this.actionContinue,()=>this.hide()),this.content.addChild(this.title),this.content.addChild(this.message),this.content.addChild(this.actionContinue),this.addChild(this.overlay),this.addChild(this.background),this.addChild(this.content)}},eI=class extends q{resize(){this.title.scale.set(1),tf({width:630,height:100},this.title),this.title.position.set(0,0),this.title.scale.set(1),tf({width:630,height:200},this.title),this.title.position.set(0,0),this.message.position.set(0,this.title.y+this.title.height+10),this.actionContinue.position.set(0,this.message.y+this.message.height+10),this.game.device.desktop||this.game.device.landscape?(this.content.scale.set(this.game.device.desktop?1:1.5),this.background.scale.set(this.game.device.desktop?1:1.5),this.background.position.set(.5*this.game.viewport.width|0,.5*this.game.viewport.height|0),this.content.position.set(.5*this.game.viewport.width|0,(this.game.viewport.height-this.content.height)*.5|0)):(this.content.scale.set(1.55),this.background.scale.set(1.65),this.background.position.set(.5*this.game.viewport.width|0,(2*this.game.viewport.paddingY+this.game.viewport.height)*.5|0),this.content.position.set(.5*this.game.viewport.width|0,(2*this.game.viewport.paddingY+this.game.viewport.height-this.content.height)*.5|0))}show(){return this.title.setText(this.game.i18n.t("PopupUnexpectedErrorTitle")),this.message.setText(this.game.i18n.t("PopupUnexpectedErrorMessage")),this.actionContinue.setText(this.game.i18n.t("PopupActionReload")),this.resize(),new Promise(t=>this._resolver=t)}hide(){window.location.reload()}constructor(){super(),this.name="PopupUnexpectedError",this._resolver=null,this.overlay=new tw(.7),this.content=new k.Container,this.background=new k.Sprite(this.game.loader.getAsset(ev.PopupContentBackground)),this.background.anchor.set(.5),this.background.interactive=!0,this.background.name="PopupBackground",this.title=new e_(this.game.i18n.t("PopupUnexpectedErrorTitle")),this.title.anchor.x=.5,this.message=new eS(this.game.i18n.t("PopupUnexpectedErrorMessage")),this.message.anchor.x=.5,this.actionContinue=new ek(this.game.i18n.t("PopupActionReload"),{fill:10066329}),this.actionContinue.anchor.x=.5,this.game.interaction.out(this.actionContinue,()=>this.actionContinue.style.fill=10066329),this.game.interaction.hover(this.actionContinue,()=>this.actionContinue.style.fill=16777215),this.game.interaction.click(this.actionContinue,()=>this.hide()),this.content.addChild(this.title),this.content.addChild(this.message),this.content.addChild(this.actionContinue),this.addChild(this.overlay),this.addChild(this.background),this.addChild(this.content)}};class eN extends q{resize(){this.title.scale.set(1),tf({width:590,height:170},this.title),this.title.position.set(0,0),this.message.scale.set(1),tf({width:590,height:170},this.message),this.message.position.set(0,this.title.y+this.title.height+30);let t=Math.max(this.actionEnable.width,this.actionClose.width)>160?126:100;this.actionEnable.position.set(t,this.message.y+this.message.height+30),this.actionClose.position.set(-t,this.message.y+this.message.height+30),this.game.device.desktop||this.game.device.landscape?(this.content.scale.set(this.game.device.desktop?1:1.5),this.background.scale.set(this.game.device.desktop?1.1:1.5),this.background.position.set(.5*this.game.viewport.width|0,.5*this.game.viewport.height|0),this.content.position.set(.5*this.game.viewport.width|0,(this.game.viewport.height-this.content.height)*.5|0)):(this.content.scale.set(1.65),this.background.scale.set(1.75),this.background.position.set(.5*this.game.viewport.width|0,(2*this.game.viewport.paddingY+this.game.viewport.height)*.5|0),this.content.position.set(.5*this.game.viewport.width|0,(2*this.game.viewport.paddingY+this.game.viewport.height-this.content.height)*.5|0))}show(){return this.game.keyboard.stop([this.escKey,this.spaceKey]),this.title.setText(this.game.i18n.t("PopupWildsTitle")),this.message.setText(this.game.i18n.t("PopupWildsMessage")),this.actionEnable.setText(this.game.i18n.t("PopupActionYes")),this.actionClose.setText(this.game.i18n.t("PopupActionNo")),this.resize(),this.escKey.enable(),this.spaceKey.enable(),new Promise(t=>this.resolver=t)}hide(t){this.game.keyboard.restore(),this.resolver&&(this.resolver(t),this.resolver=null),this.escKey.disable(),this.spaceKey.disable()}constructor(){super(),this.name="PopupWilds",this.resolver=null,this.overlay=new tw(.7),this.content=new k.Container,this.background=new k.Sprite(this.game.loader.getAsset(ev.PopupContentBackground)),this.background.anchor.set(.5),this.background.interactive=!0,this.background.name="PopupBackground",this.title=new e_(this.game.i18n.t("PopupWildsTitle"),{fontSize:40,wordWrap:!0,wordWrapWidth:600,breakWords:"ja"===this.game.i18n.language||"cn"===this.game.i18n.language,align:"center"}),this.title.anchor.x=.5,this.message=new eS(this.game.i18n.t("PopupWildsMessage"),{fontSize:35,wordWrap:!0,wordWrapWidth:600}),this.message.anchor.x=.5,this.actionEnable=new ek(this.game.i18n.t("PopupActionYes"),{fill:10066329}),this.actionEnable.anchor.x=.5,this.game.interaction.out(this.actionEnable,()=>this.actionEnable.style.fill=10066329),this.game.interaction.hover(this.actionEnable,()=>this.actionEnable.style.fill=16777215),this.game.interaction.click(this.actionEnable,()=>this.hide(!0)),this.actionClose=new ek(this.game.i18n.t("PopupActionNo"),{fill:10066329}),this.actionClose.anchor.x=.5,this.game.interaction.out(this.actionClose,()=>this.actionClose.style.fill=10066329),this.game.interaction.hover(this.actionClose,()=>this.actionClose.style.fill=16777215),this.game.interaction.click(this.actionClose,()=>this.hide(!1)),this.escKey=this.game.keyboard.register(this.game.keyboard.KEY_CODE.Escape),this.escKey.disable(),this.escKey.onPress.add(()=>this.hide(!1)),this.spaceKey=this.game.keyboard.register(this.game.keyboard.KEY_CODE.Enter),this.spaceKey.disable(),this.spaceKey.onPress.add(()=>this.hide(!0)),this.content.addChild(this.title),this.content.addChild(this.message),this.content.addChild(this.actionEnable),this.content.addChild(this.actionClose),this.addChild(this.overlay),this.addChild(this.background),this.addChild(this.content)}}let eL=class extends q{resize(){this.title.position.set(0,0),this.message.position.set(0,this.title.y+this.title.height+10),this.message.style.wordWrapWidth=this.game.device.desktop||this.game.device.landscape?700:600,this.actionContinue.position.set(0,this.message.y+this.message.height+10),this.overlay.resize(),this.game.device.desktop||this.game.device.landscape?(this.content.scale.set(this.game.device.desktop?1:1.5),this.background.scale.set(this.game.device.desktop?1:1.5),this.background.position.set(.5*this.game.viewport.width|0,.5*this.game.viewport.height|0),this.content.position.set(.5*this.game.viewport.width|0,(this.game.viewport.height-this.content.height)*.5|0)):(this.content.scale.set(1.65),this.background.scale.set(1.65),this.background.position.set(.5*this.game.viewport.width|0,(2*this.game.viewport.paddingY+this.game.viewport.height)*.5|0),this.content.position.set(.5*this.game.viewport.width|0,(2*this.game.viewport.paddingY+this.game.viewport.height-this.content.height)*.5|0))}show({action:t}={action:"continue"}){return this.game.keyboard.stop(),this.title.setText(this.game.i18n.t("PopupZeroBalanceTitle")),this.message.setText(this.game.i18n.t("PopupZeroBalanceMessage")),"reload"===t?(this.actionContinue.setText(this.game.i18n.t("PopupActionReload")),this.game.interaction.clickOnce(this.actionContinue,()=>window.location.reload())):(this.actionContinue.setText(this.game.i18n.t("PopupActionContinue")),this.game.interaction.clickOnce(this.actionContinue,()=>this.hide())),this.resize(),new Promise(t=>this.resolver=t)}hide(){this.game.keyboard.restore(),this.actionContinue.style.fill=10066329,this.resolver&&(this.resolver(),this.resolver=null)}constructor(){super(),this.name="PopupZeroBalance",this.resolver=null,this.overlay=new tw(.7),this.content=new k.Container,this.background=new k.Sprite(this.game.loader.getAsset(ev.PopupContentBackground)),this.background.anchor.set(.5),this.background.interactive=!0,this.background.name="PopupBackground",this.title=new e_(this.game.i18n.t("PopupZeroBalanceTitle")),this.title.anchor.x=.5,this.message=new eS(this.game.i18n.t("PopupZeroBalanceMessage"),{wordWrap:!0}),this.message.anchor.x=.5,this.actionContinue=new ek(this.game.i18n.t("PopupActionContinue"),{fill:10066329}),this.actionContinue.anchor.x=.5,this.game.interaction.out(this.actionContinue,()=>this.actionContinue.style.fill=10066329),this.game.interaction.hover(this.actionContinue,()=>this.actionContinue.style.fill=16777215),this.game.interaction.click(this.actionContinue,()=>this.hide()),this.content.addChild(this.title),this.content.addChild(this.message),this.content.addChild(this.actionContinue),this.addChild(this.overlay),this.addChild(this.background),this.addChild(this.content)}};class eO extends th{init(t,e){var i=this;return(0,g._)(function*(){i.initPopups(),yield i.connect(t),i.initModules(e),yield i.initSound(),yield i.showIntroScreen(),i.initViews(),i.mountViews(),i.initCommands(),i.initStates(),i.initUI(),i.start()})()}initPopups(){this.popupManager.add([new eE,new eR,new eW,new eC,new eT,new eL,new eP,new eA,new eM,new eI,new eF,new eB,new eN])}loadAssets(t){return new Promise((e,i)=>{this.loader.on("error",t=>i(t)),this.loader.on("progress",({progress:t})=>this.launcher.updateProgress(t)),this.launcher.on("load",e),this.loader.load(t)})}loadTranslations(t={}){var e=this;return(0,g._)(function*(){if("en"===e.i18n.language){e.i18n.setTranslations(t);return}let i="cn"===e.i18n.language?"zh_CN":"ex"===e.i18n.language?"xxc":e.i18n.language;try{let[s,n]=yield Promise.all([fetch(`translations/strings_${i}.json`).then(t=>t.json()),fetch(`translations/shared/strings_${i}.json`).then(t=>t.json())]);e.i18n.setTranslations((0,O._)({},t,n,s))}catch(i){e.i18n.setTranslations(t)}})()}initRequest(){var t=this;return(0,g._)(function*(){try{var e;let i=yield t.server.request({action:"init"});return t.preferences.init(null!=(e=i.gameConfig.settings)?e:{}),i}catch(e){throw t.launcher.reset(),e}})()}createLauncher(){return new eb}connect(t){var e=this;return(0,g._)(function*(){e.launcher=e.rootNode.addChild(e.createLauncher());try{yield e.initRequest(),yield Promise.all([e.loadTranslations(),e.loadAssets(t)])}catch(t){throw e.catchError(t),t}finally{e.rootNode.removeChild(e.launcher)}})()}initModules(t){var e,i,s,n;let a=this.store.get("server:response.init");this.config.merge(t,(0,O._)({gameId:null!=(e=null==a?void 0:a.gameId)?e:"",gameName:null!=(i=null==a?void 0:a.gameName)?i:"",homeURL:null!=(n=null!=(s=window.homeURL)?s:null==a?void 0:a.homeURL)?n:"javascript:history.back()",demoModeEnabled:window.isDemo,freeRoundsOnEnd:window.freeRoundsOnEnd},null==a?void 0:a.gameConfig,{showHistory:a.gameConfig.showHistory&&"ex"!==this.i18n.language}))}showIntroScreen(){return(0,g._)(function*(){})()}initSound(){var t=this;return(0,g._)(function*(){if(t.device.desktop)t.sound.init(!1);else{let e=yield t.popupManager.show("PopupSound");t.sound.init(!e)}})()}initViews(){}mountViews(){}initCommands(){}initStates(){}initUI(){}start(){this.action.on("openHistory",()=>this.toHistory())}isAction(t){return this.store.get("server:action")===t}isNextAction(t){return this.store.get("server:nextAction")===t}isFeature(t){return this.store.get("server:feature")===t}isNextFeature(t){return this.store.get("server:nextFeature")===t}onProcessError(t){return(0,g._)(function*(){})()}onServerResponse(t){}onPreferencesSave(t){try{this.server.saveSettings(t)}catch(t){}}toHistory(){var t=this;return(0,g._)(function*(){try{let{data:e}=yield t.server.getHistory(),i=new URL(e.url),s=window.location.host,n=s.slice(0,s.indexOf("."));t.openUrl(`${i.origin}?t=${e.token}&s=${n}&l=${t.i18n.language}`,"blank")}catch(e){t.catchError(e)}})()}enhanceServer(t){return this.store.set("server:action",""),this.store.set("server:nextAction",""),this.store.set("server:availableActions",[]),this.store.set("server:feature",""),this.store.set("server:nextFeature",""),t.on("response",t=>{this.store.set("server:action",t.action),this.store.set("server:response.current",t),this.store.set(`server:response.${t.action}`,t),t.feature&&(this.store.set("server:feature",this.store.get("server:nextFeature")||t.feature),this.store.set("server:nextFeature",t.feature)),t.nextAction&&this.store.set("server:nextAction",t.nextAction),t.availableActions&&this.store.set("server:availableActions",t.availableActions)}),t.transformRequest([t=>(0,O._)({},t,{action:"spin"===t.action?this.store.get("server:nextAction"):t.action})]),t}constructor(t){super(t);var e=this;this.catchError=(0,g._)(function*(t){var i,s,n;if([Y.SPENDING_BUDGET_EXCEEDED,Y.INSUFFICIENT_BALANCE,Y.MAX_BET_LIMIT_EXCEEDED,Y.GAME_SESSION_ERROR].includes(null==t?void 0:t.message)){let[i]=yield Promise.all([null==(s=e.popupManager)?void 0:s.show({[Y.SPENDING_BUDGET_EXCEEDED]:"PopupSpendingBudget",[Y.MAX_BET_LIMIT_EXCEEDED]:"PopupMaxLimit",[Y.INSUFFICIENT_BALANCE]:"PopupZeroBalance",[Y.GAME_SESSION_ERROR]:"PopupGameSessionUnavailable"}[null==t?void 0:t.message]),e.onProcessError(null==t?void 0:t.message)]);return i}null==(n=e.sound)||n.mute("all",!0,!1);let[a]=yield Promise.all([null==(i=e.popupManager)?void 0:i.show(window.navigator.onLine&&(null==t?void 0:t.message)!=="Network Error"?"PopupUnexpectedError":"PopupNetworkError"),e.onProcessError(null==t?void 0:t.message)]);return a}),this.server=this.enhanceServer(new U),this.server.on("response",this.onServerResponse,this),this.preferences.on("save",this.onPreferencesSave,this)}}class ez extends eO{init(t,e){return this.freeRound=new tJ,super.init(t,e)}initModules(t){var e,i,s;super.initModules(t);let n=this.server.response;this.wallet=new t2(this.server),this.betLevel=new Z(null==n?void 0:n.bet,null==n?void 0:n.bets,null!=(i=null==n?void 0:n.betCoins)?i:1),this.autoPlay=new tZ({counts:this.config.get("autoPlay.counts",[10,25,50,100,150,300,-1]).map(t=>{let e=Number(t);return -1===e?1/0:e}).filter(t=>t>0)}),this.quickSpin=new t1(this.config),this.bigWin=new tq(this.config.get("bigWin.bigMultiplier"),this.config.get("bigWin.giantMultiplier"),this.config.get("bigWin.megaMultiplier"),this.betLevel),this.config.set("autoPlay.available",this.autoPlay.available),this.config.set("quickSpin.available",this.quickSpin.available),this.netPosition.setEnabled(null!=(s=null==n?void 0:null==(e=n.gameConfig)?void 0:e.netPosition)&&s)}initViews(){super.initViews(),this.currentTime=new t6,this.elapsedTime=new t8,this.copyright=new t5,this.playForFun=new eh}mountViews(){super.mountViews(),this.netPosition.enabled&&(this.globalMaxWin=new et(this.config.get("maxWin"),this.config.get("maxWinRate")),this.globalMaxWinRate=new ee(this.config.get("maxWin"),this.config.get("maxWinRate")),this.globalRTP=new es(this.config.get("trtp")),this.rootNode.addChild(this.globalMaxWin),this.rootNode.addChild(this.globalMaxWinRate),this.rootNode.addChild(this.globalRTP),this.rootNode.addChild(this.netPosition.toView(new ea)),this.rootNode.addChild(this.elapsedTime),this.globalValuesSwitch=new en([this.netPosition.view,this.globalMaxWin,this.globalMaxWinRate,this.globalRTP])),this.rootNode.addChild(this.currentTime),this.rootNode.addChild(this.copyright),this.rootNode.addChild(this.playForFun)}start(){var t;super.start(),null==(t=this.globalValuesSwitch)||t.start(),this.freeRound.enabled&&(this.freeRound.onStart.once(this.onFreeRoundStart,this),this.freeRound.onFinish.once(this.onFreeRoundFinish,this))}spinRequest(t,e=!0){var i=this;return(0,g._)(function*(){let s=i.config.get("spinDelay",0),[n]=yield Promise.all([i.server.request({action:"spin",bet:t}),e&&s>0&&i.delay(s)].filter(Boolean));return n})()}checkBalance(){return Promise.resolve()}applyNetPosition(){this.netPosition.apply()}onServerResponse(t){var e;super.onServerResponse(t);let i=(0,_.Z)(t,"freeRounds",(0,_.Z)(t,"preSpin.freeRounds",-1));"init"!==t.action&&!this.freeRound.needAdd&&("spin"!==t.action&&i>this.freeRound.left||"spin"===t.action&&i>=this.freeRound.left)&&this.freeRound.checkAdditional(i),this.freeRound.setLeftCount(i),this.freeRound.setPlayedCount((0,_.Z)(t,"freeRoundsTotal",0)),this.freeRound.setActionType(null!=(e=window.freeRoundsOnEnd)?e:"continue"),(null==t?void 0:t.netPosition)&&this.netPosition.save(null==t?void 0:t.netPosition)}onFreeRoundStart(){this.autoPlaySettings.stopSection.hideItem("StopItemBalance"),this.autoPlaySettings.stopSection.hideItem("StopItemBalanceDrop")}onFreeRoundFinish(){this.autoPlaySettings.stopSection.showItem("StopItemBalance"),this.autoPlaySettings.stopSection.showItem("StopItemBalanceDrop")}onRNBStart(){this.applyNetPosition(),this.controls.onRNBStart()}onPopupShow(){this.menu.close(),this.betSettings.close(),this.autoPlaySettings.close(),this.controls.onPopupShow()}onPopupHide(){this.controls.onPopupHide()}onProcessError(t){var e=this;return(0,g._)(function*(){[Y.SPENDING_BUDGET_EXCEEDED,Y.INSUFFICIENT_BALANCE,Y.MAX_BET_LIMIT_EXCEEDED].includes(t)&&(e.autoPlay.disable(),e.action.emit("update:balance",e.wallet.balance))})()}createQuickSpinCheckbox(){return this.checkboxQuickSpin=new ep,this.checkboxQuickSpin.onClick.add(()=>{this.quickSpin.toggle()}),this.checkboxQuickSpin}createFullscreenCheckbox(){return this.checkboxFullscreen=new el,this.checkboxFullscreen.onClick.add(()=>{this.fullscreen.toggle()}),this.fullscreen.on("change",t=>{var e;return null==(e=this.checkboxFullscreen)?void 0:e.setChecked(t)}),this.checkboxFullscreen}createLeftHandCheckbox(){return this.checkboxLeftHand=new eu,this.checkboxLeftHand.onClick.add(()=>{this.leftHand.toggle()}),this.checkboxLeftHand}createGameSoundsCheckbox(){return this.checkboxGameSounds=new ed,this.checkboxGameSounds.onClick.add(()=>{this.sound.toggle("effects")}),this.checkboxGameSounds}createBackgroundSoundsCheckbox(){return this.checkboxBackgroundSounds=new er,this.checkboxBackgroundSounds.onClick.add(()=>{this.sound.toggle("background")}),this.checkboxBackgroundSounds}createRiskFeatureCheckbox(){if(this.config.get("rnb",!0))return this.checkboxRiskFeature=new eg,this.checkboxRiskFeature.setChecked(this.preferences.get("showRiskFeature",!0)),this.checkboxRiskFeature.onClick.add(t=>{var e,i;this.preferences.set("showRiskFeature",t),(null==(e=this.riskFeature)?void 0:e.visible)&&this.riskFeature.hide(),(null==(i=this.nextRiskFeature)?void 0:i.visible)&&this.nextRiskFeature.hide()}),this.checkboxRiskFeature}createIntroScreenCheckbox(){return this.checkboxIntroScreen=new ec,this.checkboxIntroScreen.setChecked(this.preferences.get("showIntroScreen",!0)),this.checkboxIntroScreen.onClick.add(t=>{this.preferences.set("showIntroScreen",t)}),this.checkboxIntroScreen}createGambleCheckbox(){return this.checkboxGamble=new t9,this.checkboxGamble.setChecked(this.preferences.get("showGamble",!0)),this.checkboxGamble.onClick.add(t=>{this.preferences.set("showGamble",t)}),this.checkboxGamble}showAddMoreFreeRounds(){var t=this;return(0,g._)(function*(){t.freeRound.needAdd&&(yield t.popupManager.show("PopupFreeRoundAddMore"))})()}constructor(...t){super(...t),this.defaultMenuOpenIndex=0,this.netPosition=new eo}}class eD extends t7{changeColor(t){this.icon.tint=t}changeIcon(t){this.icon.texture=t}showBackground(t){this.background.renderable=t}setBackgroundAlpha(t){this.background.alpha=t}setBackgroundSize(t){this.background.width=t,this.background.height=t}setBackgroundColor(t){this.background.tint=t}enable(){super.enable(),this.wrapper.alpha=1}disable(){super.disable(),this.wrapper.alpha=.5}constructor(t="",e=90,i=!0){super(),this.wrapper=this.addChild(new k.Container),this.background=this.wrapper.addChild(new k.Sprite(this.game.loader.getAsset("icon90x90White"))),this.background.anchor.set(.5),this.setBackgroundAlpha(.2),this.setBackgroundSize(e),this.showBackground(i),this.icon=this.wrapper.addChild(new k.Sprite(t?this.game.loader.getAsset(t):k.Texture.EMPTY)),this.icon.anchor.set(.5),this.game.interaction.click(this,()=>this.onClick.dispatch())}}class eG extends eD{constructor(){super("iconClose")}}class eV extends k.Container{get opened(){return this.visible}toggle(...t){this.opened?this.close():this.open()}open(){this.visible=!0,this.emit("open")}close(){this.opened&&this.emit("close"),this.visible=!1}constructor(){super(),this.visible=!1}}class eY extends tr(k.Container,{preventResize:!0}){setFill(t){this.value.style?this.value.style.fill=t:this.value.tint=t}constructor(t){super(),t===1/0?this.value=new k.Sprite(this.game.loader.getAsset("iconAutoInfinityCount")):this.value=new k.Text(t,{fill:16777215,fontSize:28,fontFamily:"Avenir-Bold"}),this.value.anchor.set(.5),this.addChild(this.value)}}class eU extends t7{unselect(){this.actived=!1,this.value.setFill(this.game.config.get("colors.white")),this.backgroundFill.tint=this.game.config.get("colors.white"),this.backgroundFill.alpha=1,this.backgroundFill.renderable=!1,this.backgroundOutline.renderable=!0}enable(){super.enable(),this.alpha=1}disable(){super.disable(),this.alpha=.5}constructor(t,e){super(),this.select=()=>{this.actived=!0,this.value.setFill(this.game.config.get("colors.black")),this.backgroundFill.tint=this.game.config.get("colors.primary"),this.backgroundFill.alpha=1,this.backgroundFill.renderable=!0,this.backgroundOutline.renderable=!1},this.realValue=t,this.selected=!1,this.backgroundFill=this.addChild(new k.Sprite(this.game.loader.getAsset("btnFill"))),this.backgroundFill.anchor.set(.5),this.backgroundFill.width=208,this.backgroundFill.height=61,this.backgroundOutline=this.addChild(new k.Sprite(this.game.loader.getAsset("btnOutline"))),this.backgroundOutline.anchor.set(.5),this.backgroundOutline.width=208,this.backgroundOutline.height=61,this.value=this.addChild(new eY("function"==typeof e?e(t):t)),this.game.interaction.click(this,()=>this.onClick.dispatch()),this.game.interaction.hover(this,()=>{this.actived?this.backgroundFill.tint=this.game.config.get("colors.primaryHover"):(this.backgroundFill.tint=this.game.config.get("colors.white"),this.backgroundFill.alpha=.3,this.backgroundFill.renderable=!0)}),this.game.interaction.out(this,()=>{this.actived?this.backgroundFill.tint=this.game.config.get("colors.primary"):(this.backgroundFill.tint=this.game.config.get("colors.white"),this.backgroundFill.alpha=1,this.backgroundFill.renderable=!1)})}}class eX extends tr(k.Container){addValues(t,e=null){this.removeChildren(),this._values=t,this.addChild(...t.map(t=>{let i=new eU(t,e);return i.onClick.add(()=>this.emit("pick",t)),i}))}select(t){let e=this._values.indexOf(t);e>-1&&this.children.forEach((t,i)=>{e===i?t.select():t.unselect()})}filter(t){this.children.forEach(e=>{e.realValue>t?e.disable():e.enable()})}get rowHeight(){return this.game.device.desktop?90:this.game.device.landscape?130:140}resize(){let t=this.children.length,{device:e}=this.game;if(e.landscape||e.desktop){let i=e.desktop?4:3,s=0,n=e.desktop?240:380;this.children.forEach((a,o)=>{o%i==0&&(s=o+i>t?n*(i-(t-o))/2:0),a.position.set(s,(o/i|0)*this.rowHeight),a.scale.set(e.desktop?1:1.6),s+=n}),this.pivot.set((n*i-n)/2,0)}else{let e=0;this.children.forEach((i,s)=>{s%2==0&&(e=s+2>t?420*(2-(t-s))/2:0),i.scale.set(1.8),i.position.set(e,(s/2|0)*this.rowHeight),e+=420}),this.pivot.set(210,0)}}constructor(){super(),this._values=[]}}class eH extends tr(k.Text){resize(){this.style.wordWrapWidth=this.game.viewport.width/2}constructor(t,e={}){super(t,(0,O._)({fill:16777215,fontSize:24,fontFamily:"Avenir-Regular",wordWrap:!0,align:"center"},e))}}class e$ extends t7{resize(){this.scale.set(this.game.device.desktop?1:1.6)}active(t){this.state=t,this.interactive=t,this.alpha=t?1:.75}constructor(){super(),this.name="AutoPlaySettingsStopCondButtonReset",this.state=!1,this.background=this.addChild(new k.Sprite(this.game.loader.getAsset("assets/ui_2020/chip.png"))),this.background.anchor.set(.5),this.background.width=200,this.background.height=71,this.text=this.addChild(new k.Text(this.game.i18n.t("AutoPlaySettingsStopCondButtonReset"),{fontFamily:"Avenir-Bold"})),this.text.anchor.set(.5),this.game.interaction.click(this,()=>{this.onClick.dispatch()})}}class eK extends tr(k.Container){get itemsActive(){return this.items.children.some(t=>t.active)}addItem(t){let e=this.items.addChild(t);return e.onChange.add(()=>this.resetButton.active(this.itemsActive)),this.resize(),e}showItem(t){this.items.getChildByName(t).visible=!0,this.alignItems(),this.resize()}hideItem(t){this.items.getChildByName(t).visible=!1,this.alignItems(),this.resize()}reset(){for(let t of this.items.children)t.reset();this.resetButton.active(!1)}alignItems(){let t=0;this.items.children.filter(t=>t.visible).forEach(e=>{e.resize(),e.position.set(0,t),t+=e.height+20})}resize(){this.game.device.desktop?(this.title.scale.set(1),this.title.position.set(0,0),this.items.position.set(0,80),this.items.pivot.set(466,0)):this.game.device.landscape?(this.title.scale.set(1.6),this.title.position.set(0,0),this.items.position.set(0,180),this.items.pivot.set(this.game.leftHand.enabled?600:800,0)):(this.title.scale.set(1.6),this.title.position.set(0,0),this.items.position.set(0,this.title.y+this.title.height+30),this.items.pivot.set(418,0)),this.alignItems(),this.resetButton.position.set(0,this.items.y+this.items.height+(this.game.device.desktop?80:100))}constructor(){super(),this.title=this.addChild(new eH(this.game.i18n.t("AutoPlaySettingsStopCondTitle").toUpperCase(),{fontFamily:"Avenir-Bold",fontSize:28})),this.title.anchor.set(.5,0),this.items=this.addChild(new k.Container),this.resetButton=this.addChild(new e$),this.resetButton.onClick.add(this.reset,this),this.resetButton.active(this.itemsActive)}}class ej extends tr(eV){get opened(){return this.visible}setAutoPlayCounts(t){t.length<1||(this.autoPlayValues.on("pick",t=>this.emit("pickAutoPlayCount",t)),this.autoPlayValues.addValues(t),this.setAutoPlayCount(t[0]))}setAutoPlayCount(t){this.autoPlayValues.select(t)}open(){super.open(),this.resize(),this.spaceKey.enable(),this.scrollView.scrollTo(0,0),this.game.fullscreen.lock()}close(){this.visible&&(super.close(),this.spaceKey.disable(),this.game.fullscreen.unlock())}resize(){let{device:t,viewport:e}=this.game;if(this.overlay.resize(),this.bottom.width=this.game.viewport.width+2*this.game.viewport.paddingX,this.bottom.position.x=-this.game.viewport.paddingX,t.desktop)this.bottom.texture=this.bottomBackgroundTexture,this.bottom.y=860,this.closeButton.scale.set(.8),this.closeButton.position.set(1838,60),this.title.position.set(0,62),this.title.scale.set(1),this.subTitle.position.set(0,this.title.y+this.title.height+60),this.subTitle.scale.set(1),this.autoPlayValues.position.set(0,this.subTitle.y+this.subTitle.height+80),this.autoPlayValues.resize(),this.stopSection.position.set(0,this.autoPlayValues.y+this.autoPlayValues.height+40),this.content.position.set(e.width/2,0),this.scrollView.paddingBottom=100,this.scrollView.position.set(0,0),this.scrollView.resize(e.width,960);else if(t.landscape)this.bottom.texture=this.bottomBackgroundTexture,this.bottom.y=860,this.closeButton.scale.set(1.6),this.closeButton.position.set(this.game.leftHand.enabled?120:1780,120),this.title.position.set(0,120),this.title.scale.set(1.6),this.subTitle.position.set(0,this.title.y+this.title.height+60),this.subTitle.scale.set(1.6),this.autoPlayValues.position.set(0,this.subTitle.y+this.subTitle.height+120),this.autoPlayValues.resize(),this.stopSection.position.set(0,this.autoPlayValues.y+this.autoPlayValues.height+40),this.content.position.set(e.width/2,0),this.scrollView.paddingBottom=100,this.scrollView.position.set(0,0),this.scrollView.resize(e.width,960);else{let t=e.height+2*e.paddingY;this.bottom.texture=this.bottomBackgroundMobileTexture,this.bottom.y=t-830,this.closeButton.scale.set(1.6),this.closeButton.position.set(955,t-318),this.title.position.set(0,100),this.title.scale.set(1.6),this.subTitle.position.set(0,this.title.y+this.title.height+60),this.subTitle.scale.set(1.6),this.autoPlayValues.position.set(0,this.subTitle.y+this.subTitle.height+140),this.autoPlayValues.resize(),this.stopSection.position.set(0,this.autoPlayValues.y+this.autoPlayValues.height+40),this.content.position.set(e.width/2,0),this.scrollView.paddingBottom=100,this.scrollView.position.set(0,0),this.scrollView.resize(e.width,t-710)}}constructor(){super(),this.name="AutoPlaySettings",this.bottomBackgroundTexture=this.game.loader.getAsset("assets/ui_2020/menu-bottom-bg.png"),this.bottomBackgroundMobileTexture=this.game.loader.getAsset("assets/ui_2020/mobile-portrait-bottom-menu-bg.png"),this.overlay=this.addChild(new tw),this.scrollView=this.addChild(new tk),this.bottom=this.addChild(new k.Sprite(this.bottomBackgroundMobileTexture)),this.content=this.scrollView.addChild(new k.Container),this.autoPlayValues=this.content.addChild(new eX),this.title=this.content.addChild(new tx(this.game.i18n.t("AutoPlaySettingsTitle").toUpperCase())),this.title.withGameName(),this.title.anchor.set(.5,0),this.subTitle=this.content.addChild(new eH(this.game.i18n.t("AutoPlaySettingsSubTitle"))),this.subTitle.anchor.set(.5,0),this.stopSection=this.content.addChild(new eK),this.closeButton=this.addChild(new eG),this.closeButton.onClick.add(()=>this.close()),this.spaceKey=this.game.keyboard.register(this.game.keyboard.KEY_CODE.Escape),this.spaceKey.onPress.add(this.close,this),this.spaceKey.disable()}}class eQ extends t7{setInteractive(t){this.interactive=t,this.alpha=t?1:.75}active(t){this.state=t,this.background.tint=t?16777215:3025203,this.text.style.fill=t?0:16777215}constructor(t,e,i){super(),this.state=!1,this.background=this.addChild(new k.Sprite(this.game.loader.getAsset("assets/ui_2020/chip.png"))),this.text=this.addChild(new k.Text(e,(0,O._)({},i,{fontFamily:"Avenir-Bold"}))),this.text.anchor.set(.5),this.text.position.set(this.background.width/2,this.background.height/2),this.game.interaction.click(this,()=>this.onClick.dispatch(t)),this.active(!1),this.setInteractive(!1)}}class eZ extends tr(k.Container,{preventResize:!0}){get checked(){return this.checkbox.checked}get active(){return"active"===this.state}get value(){return this.balance+this.chipValue/100*this.balance}setStartBalance(t){this.balance=t}reset(){this.state="inactive",this.checkbox.setChecked(!1),this.chips.children.forEach((t,e)=>{t.active(0===e),t.setInteractive(!1)})}resize(){this.scale.set(this.game.device.desktop?1:1.5),this.chips.position.set(0,80),this.game.device.desktop||this.game.device.landscape?this.chips.children.forEach((t,e)=>{t.position.set(180*e,0)}):this.chips.children.forEach((t,e)=>{t.position.set(e%3*180,(e/3|0)*80)})}constructor(){super(),this.name="StopItemBalance",this.state="inactive",this.chipValue=10,this.balance=0,this.onClickCheckbox=new I.Z,this.onClickChip=new I.Z,this.onChange=new I.Z,this.checkbox=this.addChild(new t4("AutoPlaySettingsStopCondCheckboxBalance")),this.chips=this.addChild(new k.Container),this.chips.addChild(new eQ(this.chipValue,"10%")).active(!0),this.chips.addChild(new eQ(25,"25%")),this.chips.addChild(new eQ(50,"50%")),this.chips.addChild(new eQ(75,"75%")),this.chips.addChild(new eQ(100,"100%")),this.checkbox.onClick.add(()=>{this.state=this.checked?"active":"inactive",this.chips.children.forEach(t=>t.setInteractive(this.checked)),this.onClickCheckbox.dispatch(),this.onChange.dispatch(this.checked)}),this.chips.children.forEach(t=>t.onClick.add(e=>{this.state=this.checked?"active":"inactive",this.chips.children.forEach(t=>t.active(!1)),this.chipValue=e,t.active(!0),this.onClickChip.dispatch(this.chipValue),this.onChange.dispatch(this.checked)}))}}class eq extends tr(k.Container,{preventResize:!0}){get checked(){return this.checkbox.checked}get active(){return"active"===this.state}get value(){return this.balance-this.chipValue/100*this.balance}setStartBalance(t){this.balance=t}reset(){this.state="inactive",this.checkbox.setChecked(!1),this.chips.children.forEach((t,e)=>{t.active(0===e),t.setInteractive(!1)})}resize(){this.scale.set(this.game.device.desktop?1:1.5),this.chips.position.set(0,80),this.game.device.desktop||this.game.device.landscape?this.chips.children.forEach((t,e)=>{t.position.set(180*e,0)}):this.chips.children.forEach((t,e)=>{t.position.set(e%3*180,(e/3|0)*80)})}constructor(){super(),this.name="StopItemBalanceDrop",this.state="inactive",this.chipValue=10,this.balance=0,this.onClickCheckbox=new I.Z,this.onClickChip=new I.Z,this.onChange=new I.Z,this.checkbox=this.addChild(new t4("AutoPlaySettingsStopCondCheckboxBalanceDrop")),this.chips=this.addChild(new k.Container),this.chips.addChild(new eQ(this.chipValue,"10%")).active(!0),this.chips.addChild(new eQ(25,"25%")),this.chips.addChild(new eQ(50,"50%")),this.chips.addChild(new eQ(75,"75%")),this.chips.addChild(new eQ(100,"100%")),this.checkbox.onClick.add(()=>{this.state=this.checked?"active":"inactive",this.chips.children.forEach(t=>t.setInteractive(this.checked)),this.onClickCheckbox.dispatch(),this.onChange.dispatch(this.checked)}),this.chips.children.forEach(t=>t.onClick.add(e=>{this.state=this.checked?"active":"inactive",this.chips.children.forEach(t=>t.active(!1)),this.chipValue=e,t.active(!0),this.onClickChip.dispatch(this.chipValue),this.onChange.dispatch(this.checked)}))}}class eJ extends tr(k.Container,{preventResize:!0}){get checked(){return this.checkbox.checked}get active(){return"active"===this.state}reset(){this.state="inactive",this.checkbox.setChecked(!1)}resize(){this.scale.set(this.game.device.desktop?1:1.5)}constructor(){super(),this.name="StopItemFeatureFreeSpin",this.state="inactive",this.onClickCheckbox=new I.Z,this.onChange=new I.Z,this.checkbox=this.addChild(new t4("AutoPlaySettingsStopCondCheckboxFeatureFreeSpin")),this.checkbox.onClick.add(()=>{this.state=this.checked?"active":"inactive",this.onClickCheckbox.dispatch(),this.onChange.dispatch(this.checked)})}}let e0={fontSize:22};class e1 extends tr(k.Container,{preventResize:!0}){get checked(){return this.checkbox.checked}get active(){return"active"===this.state}get type(){return this.chipType}reset(){this.state="inactive",this.chipType=tH.Any,this.checkbox.setChecked(!1),this.chips.children.forEach((t,e)=>{t.active(0===e),t.setInteractive(!1)})}resize(){this.scale.set(this.game.device.desktop?1:1.5),this.game.device.desktop||this.game.device.landscape?(this.chips.position.set(this._isMega?0:this.game.device.desktop?410:360,this._isMega?80:0),this.chips.children.forEach((t,e)=>{t.position.set(180*e,0)})):(this.chips.position.set(0,80),this.chips.children.forEach((t,e)=>{t.position.set(e%3*180,(e/3|0)*80)}))}constructor(t=!1){super(),this._isMega=t,this.name="StopItemWin",this.state="inactive",this.chipType=tH.Any,this.onClickCheckbox=new I.Z,this.onClickChip=new I.Z,this.onChange=new I.Z,this.checkbox=this.addChild(new t4("AutoPlaySettingsStopCondCheckboxWin")),this.chips=this.addChild(new k.Container),this.chips.addChild(new eQ(this.chipType,t3(this.game.i18n.t("AutoPlaySettingsStopCondCheckboxWinAny")),e0)).active(!0),this.chips.addChild(new eQ(tH.Big,t3(this.game.i18n.t("AutoPlaySettingsStopCondCheckboxWinBig")),e0)),this._isMega&&this.chips.addChild(new eQ(tH.Mega,t3(this.game.i18n.t("AutoPlaySettingsStopCondCheckboxWinMega")),e0)),this.chips.addChild(new eQ(tH.Giant,t3(this.game.i18n.t("AutoPlaySettingsStopCondCheckboxWinGiant")),e0)),this.checkbox.onClick.add(()=>{this.state=this.checked?"active":"inactive",this.chips.children.forEach(t=>t.setInteractive(this.checked)),this.onClickCheckbox.dispatch(),this.onChange.dispatch(this.checked)}),this.chips.children.forEach(t=>t.onClick.add(e=>{this.state=this.checked?"active":"inactive",this.chips.children.forEach(t=>t.active(!1)),this.chipType=e,t.active(!0),this.onClickChip.dispatch(this.chipType),this.onChange.dispatch(this.checked)}))}}class e2 extends tr(tT){updateValue(t,e){this.text=this.game.i18n.t("lines"===t?"BetSettingsLines":"BetSettingsWays",e)}constructor(){super("",{default:{align:"center",fill:16777215,fontSize:24,fontFamily:"Avenir-Bold"},value:{fontSize:64,fontFamily:"Avenir-Regular"},description:{fontSize:24}}),this.anchor.set(.5,0)}}class e5 extends tr(tT){updateValue(t,e,i){this.text=this.game.i18n.t("lines"===t?"BetSettingsLinesDescription":"BetSettingsWaysDescription",e,this.game.helpers.toMoneySS(i))}resize(){this.game.device.desktop?this.setTagStyle("default",{wordWrap:!1}):(this.game.device.landscape,this.setTagStyle("default",{wordWrap:!0,wordWrapWidth:600}))}constructor(){super("",{default:{align:"center",fill:16777215,fontSize:24,fontFamily:"Avenir-Bold"},value:{fontSize:64,fontFamily:"Avenir-Regular"},description:{fontSize:24}}),this.anchor.set(.5,0)}}class e6 extends tr(eV){get opened(){return this.visible}hidePayLines(){this.payLines.visible=!1}hideBetDescription(){this.betDescription.visible=!1}setPayLines(t,e="lines",i=1){this.linesType=e,this.linesCount=t,this.payLines.updateValue(e,this.linesCount),this.betDescription.updateValue(this.linesType,"lines"===this.linesType?this.linesCount:this.betCoins,i)}updatePayLines(t){this.payLines.updateValue(this.linesType,this.linesCount),this.betDescription.updateValue(this.linesType,"lines"===this.linesType?this.linesCount:this.betCoins,t)}setBet(t){this.betItems.select(t),this.betDescription.updateValue(this.linesType,"lines"===this.linesType?this.linesCount:this.betCoins,t)}setBets(t,e){this.bets=t,this.betCoins=e,this.betItems.addValues(t,t=>`${this.game.helpers.toMoneySS(t*e)}`),this.betItems.on("pick",this.pickBet,this),this.setBet(t[0])}pickBet(t){this.emit("pickBet",t),this.updatePayLines(t)}toggle(t){this.betItems.filter(Math.max(...this.bets.filter(e=>e*this.betCoins<=t))),super.toggle()}open(){super.open(),this.resize(),this.spaceKey.enable(),this.scrollView.scrollTo(0,0),this.game.fullscreen.lock()}close(){this.visible&&(super.close(),this.spaceKey.disable(),this.game.fullscreen.unlock())}resize(){let{device:t,viewport:e}=this.game;if(this.overlay.resize(),this.bottom.width=e.width+2*e.paddingX,this.bottom.position.x=-e.paddingX,t.desktop)this.bottom.texture=this.bottomBackgroundTexture,this.bottom.y=900,this.closeButton.scale.set(.8),this.closeButton.position.set(1838,60),this.title.position.set(0,62),this.title.scale.set(1),this.betItems.position.set(1,this.title.y+this.title.height+120),this.betItems.resize(),this.payLines.position.set(this.hasCurrency?-240:0,this.betItems.y+this.betItems.height+100),this.payLines.scale.set(1),this.currency.position.set(240,this.betItems.y+this.betItems.height+100),this.currency.scale.set(1),this.betDescription.position.set(0,this.payLines.y+this.payLines.height+50),this.betDescription.scale.set(1),this.content.position.set(e.width/2,0),this.scrollView.paddingBottom=30,this.scrollView.position.set(0,0),this.scrollView.resize(e.width,960);else if(t.landscape)this.bottom.texture=this.bottomBackgroundTexture,this.bottom.y=900,this.closeButton.scale.set(1.6),this.closeButton.position.set(this.game.leftHand.enabled?120:1780,120),this.title.position.set(0,120),this.title.scale.set(1.6),this.betItems.resize(),this.betItems.position.set(1,this.title.y+this.title.height+120),this.payLines.position.set(this.hasCurrency?-240:0,this.betItems.y+this.betItems.height),this.payLines.scale.set(1.6),this.currency.position.set(240,this.betItems.y+this.betItems.height),this.currency.scale.set(1.6),this.betDescription.position.set(0,this.payLines.y+this.payLines.height+50),this.betDescription.scale.set(1.6),this.content.position.set(e.width/2,0),this.scrollView.paddingBottom=100,this.scrollView.position.set(0,0),this.scrollView.resize(e.width,960);else{let t=e.height+2*e.paddingY;this.bottom.texture=this.bottomBackgroundMobileTexture,this.bottom.y=e.height+2*e.paddingY-830,this.closeButton.scale.set(1.6),this.closeButton.position.set(955,t-318),this.title.scale.set(1.6),this.title.position.set(0,100),this.betItems.resize(),this.betItems.position.set(1,this.title.y+this.title.height+120),this.payLines.position.set(this.hasCurrency?-240:0,this.betItems.y+this.betItems.height),this.payLines.scale.set(1.8),this.currency.position.set(240,this.betItems.y+this.betItems.height),this.currency.scale.set(1.8),this.betDescription.position.set(0,this.payLines.y+this.payLines.height+50),this.betDescription.scale.set(1.8),this.content.position.set(e.width/2,0),this.scrollView.paddingBottom=100,this.scrollView.position.set(0,0),this.scrollView.resize(e.width,t-710)}}constructor(){super(),this.name="BetSettings",this.bets=[],this.betCoins=0,this.linesType="",this.linesCount=0,this.hasCurrency=!1,this.bottomBackgroundTexture=this.game.loader.getAsset("assets/ui_2020/menu-bottom-bg.png"),this.bottomBackgroundMobileTexture=this.game.loader.getAsset("assets/ui_2020/mobile-portrait-bottom-menu-bg.png"),this.overlay=this.addChild(new tw),this.scrollView=this.addChild(new tk),this.bottom=this.addChild(new k.Sprite(this.bottomBackgroundMobileTexture)),this.content=this.scrollView.addChild(new k.Container),this.title=this.content.addChild(new tx(this.game.i18n.t("BetSettingsTitle").toUpperCase())),this.title.withGameName(),this.title.anchor.set(.5,0),this.betItems=this.content.addChild(new eX),this.payLines=this.content.addChild(new e2),this.currency=new tT(this.game.i18n.t("Currency",this.game.i18n.currency()),{default:{align:"center",fill:16777215,fontSize:24,fontFamily:"Avenir-Bold"},value:{fontSize:64,fontFamily:"Avenir-Regular"}}),this.currency.anchor.set(.5,0),this.betDescription=this.content.addChild(new e5),this.closeButton=this.addChild(new eG),this.closeButton.onClick.add(()=>this.close()),this.spaceKey=this.game.keyboard.register(this.game.keyboard.KEY_CODE.Escape),this.spaceKey.onPress.add(this.close,this),this.spaceKey.disable(),this.game.i18n.hasCurrency()&&(this.hasCurrency=!0,this.content.addChild(this.currency))}}class e8 extends tw{press(t,e=!1){"function"==typeof this.handlerRef&&this.handlerRef(),this.handlerRef=this.game.interaction.clickOnce(this,()=>{this.interactive=!1,e&&x.kX.to(this,.1,{pixi:{alpha:.3},yoyo:!0,repeat:1}),t()}),this.interactive=!0}disable(){this.interactive=!1}constructor(){super(1,13421772),this.name="FastStopLayout",this.handlerRef=null,this.alpha=0,this.interactive=!1}}class e3 extends tr(tT){get isEmpty(){return""===this.text}resize(){this.game.device.desktop?this.scale.set(1.2):this.game.device.landscape?(this.scale.set(2.2),this.setTagStyle("default",{wordWrapWidth:670})):(this.scale.set(2.2),this.setTagStyle("default",{wordWrapWidth:400}))}constructor(t){super(t,{default:{fill:"white",fontSize:21,fontFamily:"Avenir-Regular",wordWrap:!0,wordWrapWidth:940},bold:{fontFamily:"Avenir-Bold"}}),this.scale.set(1.2),this.setTagStyle("default",{breakWords:["cn","ja"].includes(this.game.i18n.language)}),this.setTagStyle("bold",{fill:this.game.config.get("colors.primary")})}}class e7 extends tr(k.Text){resize(){this.game.device.desktop?(this.scale.set(1),this.style.wordWrapWidth=1150):this.game.device.landscape?(this.scale.set(1.6),this.style.wordWrapWidth=900):(this.scale.set(1.6),this.style.wordWrapWidth=600)}constructor(t){super(t.toUpperCase(),{fontSize:34,fontFamily:"Avenir-Bold",wordWrap:!0,wordWrapWidth:1150}),this.style.fill=this.game.config.get("colors.primary")}}class e4 extends tr(k.Container){resize(){this.content.position.set(0,this.title.y+this.title.height+30)}constructor(){super(),this.title=this.addChild(new e7(this.game.i18n.t("GameRulesAdvancedAutoPlayTitle"))),this.content=this.addChild(new e3(this.game.i18n.t("GameRulesAdvancedAutoPlayContent")))}}class e9 extends tr(k.Container){resize(){this.content.position.set(0,this.title.y+this.title.height+30)}constructor(){super(),this.title=this.addChild(new e7(this.game.i18n.t("GameRulesAutoPlayTitle"))),this.content=this.addChild(new e3(this.game.i18n.t("GameRulesAutoPlayContent")))}}class it extends tr(k.Container){resize(){this.content.position.set(0,0)}constructor(){super(),this.content=this.addChild(new e3(this.game.i18n.t("GameRulesBestExperience")))}}class ie extends tr(k.Sprite){resize(){this.game.device.desktop?(this.height=4,this.width=1120):this.game.device.landscape?(this.height=6,this.width=1580):(this.height=6,this.width=950)}constructor(){super(k.Texture.WHITE),this.tint=2763563}}let ii=["base","rnb"];class is extends tr(k.Container){setBaseRtp(t){var e,i,s;let n=this.game.i18n.t("GameRulesGeneralRTP","number"==typeof t?t:null==t?void 0:null==(e=t.base)?void 0:e.rtp);this.gameTRTP=this._optionalTextsContainer.addChild(new e3(n)),this.gameTRTP.visible="number"==typeof t?!!t:!!(null==t?void 0:t.base);let a="number"==typeof t?this.game.config.get("tRtpCalculatedDate"):null==t?void 0:null==(i=t.base)?void 0:i.date;try{let e=new Intl.DateTimeFormat(this.game.i18n.language,{year:"numeric",month:"long"}).format(new Date(a)),i="number"==typeof t?this.game.i18n.t("GameRulesGeneralRTPInfo",e):this.game.i18n.t("GameRulesGeneralRTPStringTypeInfo",null==t?void 0:null==(s=t.base)?void 0:s.spins,e);this.gameRTPInfo=this._optionalTextsContainer.addChild(new e3(i)),this.gameRTPInfo.visible="number"==typeof t?!!a:!!(null==t?void 0:t.base)}catch(t){}}setRnBRtp(t){var e,i,s;if("number"!=typeof t){this.gameTRTPRnB=this._optionalTextsContainer.addChild(new e3(this.game.i18n.t("GameRulesGeneralRTPRnB",null==t?void 0:null==(e=t.rnb)?void 0:e.rtp))),this.gameTRTPRnB.visible=!!(null==t?void 0:t.rnb);try{if(null==t?void 0:t.rnb){let e=new Intl.DateTimeFormat(this.game.i18n.language,{year:"numeric",month:"long"}).format(new Date(null==t?void 0:null==(i=t.rnb)?void 0:i.date));this.gameRTPRnBInfo=this._optionalTextsContainer.addChild(new e3(this.game.i18n.t("GameRulesGeneralRTPStringTypeInfo",null==t?void 0:null==(s=t.rnb)?void 0:s.spins,e))),this.gameRTPRnBInfo.visible=!!(null==t?void 0:t.rnb)}}catch(t){}}}getRtp(t){var e;return isNaN(parseFloat(t))?null==t?void 0:null==(e=t.split(";"))?void 0:e.reduce((t,e)=>{let i=null==e?void 0:e.split(":")[0];if(ii.includes(i)){var s,n,a,o;let h=null==e?void 0:null==(s=e.split(":")[1])?void 0:s.split(",");if(h)return(0,O._)({},t,{[i]:{rtp:null!=(n=h[0])?n:"",spins:null!=(a=h[1])?a:"",date:null!=(o=h[2])?o:""}})}return t},{}):parseFloat(t)}resize(){this.gameName.position.set(0,this.title.y+this.title.height+30);let t=this.gameName.height+this.gameName.y;this._optionalTextsContainer.children.forEach(e=>{e.position.set(0,t+30),t=e.visible?e.height+e.y:t})}constructor(){super(),this._optionalTextsContainer=this.addChild(new k.Container),this.title=this.addChild(new e7(this.game.i18n.t("GameRulesGeneralTitle"))),this.gameName=this.addChild(new e3(this.game.config.get("gameName")));let t=this.game.config.get("trtp"),e=t?this.getRtp(t+""):t;this.setBaseRtp(e),this.setRnBRtp(e);let i=this.game.config.get("netPosition"),s=this.game.config.get("maxWin"),n=this.game.config.get("maxWinRate");this.gameMaxWin=this._optionalTextsContainer.addChild(new e3(this.game.i18n.t("GameRulesGeneralMaxWin",s,n))),this.gameMaxWin.visible=!!i&&!!s&&!!n}}class ia extends tr(k.Container,{preventResize:!0}){resize(){this.game.device.desktop?(this.icon.scale.set(1),this.icon.position.set(0,0),this.text.x=260,this.text.style.wordWrapWidth=740):this.game.device.landscape?(this.icon.scale.set(2),this.icon.position.set(0,0),this.text.x=380,this.text.style.wordWrapWidth=500):(this.icon.scale.set(1.8),this.icon.position.set(0,0),this.text.x=this.icon.x+this.icon.width+30,this.text.style.wordWrapWidth=280),this.text.height>=this.icon.height?(this.text.y=0,this.icon.y=(this.text.height-this.icon.height)/2):(this.text.y=(this.icon.height-this.text.height)/2,this.icon.y=0)}constructor(t,e,i){super(),this.name=i,this.icon=this.addChild(new k.Sprite(e)),this.text=this.addChild(new e3(t))}}class io extends tr(k.Container){addItems(){this.addChild(new ia(this.game.i18n.t("GameRulesInterfaceSpin"),this.game.loader.getAsset("gameRulesButtonSpin"),"itemSpin")),this.addChild(new ia(this.game.i18n.t("GameRulesInterfaceMenu"),this.game.loader.getAsset("iconMenu"),"itemMenu"));let t=new ia(this.game.i18n.t("GameRulesInterfaceQuickSpin"),this.game.loader.getAsset("iconQuickSpin"),"itemQuickSpin");this.game.config.get("quickSpin.available",!0)&&this.addChild(t);let e=new ia(this.game.i18n.t("GameRulesInterfaceAutoPlay"),this.game.loader.getAsset("iconAuto"),"itemAutoPlay");this.game.config.get("autoPlay.available",!0)&&this.addChild(e),this.addChild(new ia(this.game.i18n.t("GameRulesInterfaceBetLevel"),this.game.loader.getAsset("iconBetLevel"),"itemBetLevel")),this.game.config.get("showHistory",!0)&&this.addChild(new ia(this.game.i18n.t("GameRulesInterfaceGameHistory"),this.game.loader.getAsset("iconGameHistory"),"itemGameHistory")),this.addChild(new ia(this.game.i18n.t("GameRulesInterfaceSound"),this.game.loader.getAsset("gameRulesButtonSound"),"itemSound"))}resize(){let t=0;this.children.forEach(e=>{e.resize(),e.position.set(0,t),t+=e.height+30})}constructor(){super(),this.title=this.addChild(new e7(this.game.i18n.t("GameRulesInterfaceTitle"))),this.content=this.addChild(new e3(this.game.i18n.t("GameRulesInterfaceContent"))),this.addItems()}}class ih extends tr(k.Container){resize(){let t;this.children.filter(t=>t.visible&&!t.isEmpty).forEach(e=>{t?e.position.set(0,t.y+t.height+30):e.position.set(0),t=e})}constructor(){super(),this.title=this.addChild(new e7(this.game.i18n.t("GameRulesSettingsTitle"))),this.content=this.addChild(new e3(this.game.i18n.t("GameRulesSettingsContent"))),this.game.config.get("quickSpin.available",!0)&&(this.itemQuickSpin=this.addChild(new e3(this.game.i18n.t("GameRulesSettingsContentItemQuickSpin")))),this.itemFullscreen=this.addChild(new e3(this.game.i18n.t("GameRulesSettingsContentItemFullscreen"))),this.itemGameSound=this.addChild(new e3(this.game.i18n.t("GameRulesSettingsContentItemGameSound"))),this.itemBackgroundSound=this.addChild(new e3(this.game.i18n.t("GameRulesSettingsContentItemBackgroundSound")))}}class ir extends tr(k.Container){resize(){let t=0;this.children.forEach(e=>{e.resize(),e.position.set(0,t),t+=e.height+30})}constructor(){super(),this.title=this.addChild(new e7(this.game.i18n.t("GameRulesTermsTitle"))),this.content=this.addChild(new e3(this.game.i18n.t("GameRulesTermsDescription"))),this.hide()}}class il extends tr(k.Container){resize(){var t;null==(t=this.content)||t.position.set(0,0)}constructor(){var t,e;super(),this.content=this.addChild(new e3(`${null!=(t=window.RELEASE_VERSION)?t:""}
${null!=(e=window.RELEASE_DATE)?e:""}`))}}class id extends tr(k.Container){addSections(){this.content.addChild(new is),this.content.addChild(new io),this.content.addChild(this.sectionTerms),this.content.addChild(new ih),this.addAutoPlaySection(),this.content.addChild(new ie),this.content.addChild(new it),this.content.addChild(new il)}addAutoPlaySection(){this.game.config.get("autoPlay.available",!0)&&(this.content.addChild(new e9),this.content.addChild(new e4))}addAdditionalSection(t,e){this.content.addChildAt(t,e)}addTermItem(t){"en"!==this.game.i18n.language&&(this.sectionTerms.show(),this.sectionTerms.addChild(t))}open(){this.visible=!0,this.resize(),this.scrollView.scrollTo(0,0)}close(){this.visible&&(this.visible=!1)}alignSection(t=0){let e=-t,i=0;this.content.children.filter(t=>t.visible).forEach(s=>{s.resize&&s.resize(),s.y=e+i+t,e=s.y,i=s.height})}resize(){let{device:t,viewport:e,leftHand:i}=this.game;this.alignSection(50),t.desktop?(this.title.position.set(e.width/2,62),this.scrollView.hitAreaOffsetLeft=0,this.scrollView.hitAreaOffsetRight=0,this.scrollView.resize(e.width,960),this.scrollView.position.set(0,0),this.content.position.set(380,this.title.y+this.title.height+60)):t.landscape?(this.title.position.set(e.width/2+e.paddingX,120),i.enabled?(this.scrollView.hitAreaOffsetLeft=e.paddingX+180,this.scrollView.hitAreaOffsetRight=e.paddingX,this.content.position.set(e.paddingX+220,this.title.y+this.title.height+60)):(this.scrollView.hitAreaOffsetLeft=e.paddingX,this.scrollView.hitAreaOffsetRight=e.paddingX+180,this.content.position.set(e.paddingX+60,this.title.y+this.title.height+60)),this.scrollView.resize(e.width+2*e.paddingX,940),this.scrollView.position.set(-e.paddingX,0)):(this.title.position.set(e.width/2+e.paddingX,100),this.content.position.set(e.paddingX+60,this.title.y+this.title.height+60),this.scrollView.resize(e.width+2*e.paddingX,2*e.paddingY+e.height-390),this.scrollView.position.set(-e.paddingX,0),this.scrollView.hitAreaOffsetLeft=0,this.scrollView.hitAreaOffsetRight=0)}constructor(){super(),this.name="GameRules",this.visible=!1,this.interactive=!0,this.scrollView=this.addChild(new tk),this.scrollView.paddingBottom=120,this.title=this.scrollView.addChild(new tx(this.game.i18n.t("MenuGameRules").toUpperCase())),this.title.withGameName(),this.title.anchor.set(.5,0),this.content=this.scrollView.addChild(new k.Container),this.sectionTerms=new ir,this.addSections()}}class ic extends tr(eV){addItem(t){t&&this.content.addChild(t)}resize(){if(this.game.device.desktop){for(let t=0,e=0;t<this.content.children.length;t++){let i=this.content.children[t];i.visible&&(i.position.set(e%2*400,100*Math.floor(e/2)),e++)}this.title.position.set(this.game.viewport.width/2,62),this.content.pivot.set(this.content.width/2,0),this.content.position.set(this.game.viewport.width/2,this.title.y+this.title.height+60),this.scrollView.paddingBottom=100,this.scrollView.position.set(0,0),this.scrollView.resize(this.game.viewport.width,960)}else if(this.game.device.landscape){for(let t=0,e=0;t<this.content.children.length;t++){let i=this.content.children[t];i.visible&&(i.position.set(e%2*700,140*Math.floor(e/2)),e++)}this.title.position.set(this.game.viewport.width/2,120),this.content.pivot.set(this.content.width/2,0),this.content.position.set(this.game.viewport.width/2,this.title.y+this.title.height+60),this.scrollView.paddingBottom=100,this.scrollView.position.set(0,0),this.scrollView.resize(this.game.viewport.width,960)}else{for(let t=0,e=0;t<this.content.children.length;t++){let i=this.content.children[t];i.visible&&(i.position.set(0,140*e),e++)}this.title.position.set(this.game.viewport.width/2,100),this.content.pivot.set(this.content.width/2,0),this.content.position.set(this.game.viewport.width/2,this.title.y+this.title.height+60),this.scrollView.paddingBottom=100,this.scrollView.position.set(0,0),this.scrollView.resize(this.game.viewport.width,this.game.viewport.height+2*this.game.viewport.paddingY-510)}}constructor(){super(),this.name="GameSettings",this.scrollView=this.addChild(new tk),this.title=this.scrollView.addChild(new tx(this.game.i18n.t("GameSettingsTitle").toUpperCase())),this.title.withGameName(),this.title.anchor.set(.5,0),this.content=this.scrollView.addChild(new k.Container)}}class iu extends eD{constructor(){super("iconHistory"),this.visible=this.game.config.get("showHistory",!1)}}class ip extends eD{constructor(){super("iconHome");let t=this.game.config.get("homeURL.url","javascript:history.back()"),e=this.game.config.get("homeURL.target","self");this.visible=this.game.config.get("homeURL.show",!0),this.onClick.add(()=>this.game.openUrl(t,e))}}class ig extends t7{setActive(t){this.icon.tint=t?this.game.config.get("colors.primary"):this.game.config.get("colors.white"),this.border.tint=t?this.game.config.get("colors.primary"):3025203}resize(){let{device:t,leftHand:e}=this.game;t.desktop?(this.border.texture=this.game.loader.getAsset("iconBorderV"),this.icon.scale.set(1),this.icon.hitArea=new k.Rectangle(0,-30,110,150),this.icon.position.set(20,(this.border.height-this.icon.height)/2)):t.landscape?(this.icon.scale.set(2),this.icon.hitArea=null,this.border.texture=this.game.loader.getAsset("iconBorderV"),e.enabled?(this.border.position.set(0,0),this.icon.position.set(0,0)):(this.icon.position.set(-100,0),this.border.position.set(this.icon.width+this.icon.x,0))):(this.icon.scale.set(1.8),this.icon.position.set(0,0),this.icon.hitArea=null,this.border.texture=this.game.loader.getAsset("iconBorderH"),this.border.position.set(0,this.icon.height))}constructor(t){super(),this.preventAutoResize=!0,this.border=this.addChild(new k.Sprite(this.game.loader.getAsset("iconBorderV"))),this.icon=this.addChild(new k.Sprite(t)),this.game.interaction.click(this,()=>{this.onClick.dispatch()})}}class im extends tr(k.Container){get opened(){return this.visible}get visibleItems(){return this.items.children.filter(t=>t.visible)}get activeItemName(){var t,e,i;return null!=(i=null==(e=this.contentItems)?void 0:null==(t=e.children[this.currentIndex])?void 0:t.name)?i:""}enable(){this.interactive=!0}disable(){this.interactive=!1}enableItem(t){let e=this.contentItems.getChildByName(t),i=this.contentItems.children.indexOf(e);i>-1&&this.items.children[i].show(),this.resize()}disableItem(t){let e=this.contentItems.getChildByName(t),i=this.contentItems.children.indexOf(e);i>-1&&this.items.children[i].hide(),this.resize()}addItem(t,e){let i=this.items.addChild(new ig(t));return this.contentItems.addChild(e),i.onClick.add(()=>{this.open(this.contentItems.children.indexOf(e)),this.emit("pickItem")}),this.resize(),i}open(t){if(this.currentIndex=null!=t?t:this.items.children.indexOf(this.visibleItems[0]),this.currentIndex>-1){var e,i,s;this.spaceKey.enable(),this.items.children.forEach((t,e)=>t.setActive(e===this.currentIndex)),this.contentItems.children.forEach((t,e)=>{e===this.currentIndex?t.open():t.close()}),this.visible=!0,this.emit("open",null!=(s=null==(i=this.contentItems)?void 0:null==(e=i.children[this.currentIndex])?void 0:e.name)?s:"")}this.resize()}close(){this.spaceKey.disable(),this.items.children[this.currentIndex].setActive(!1),this.contentItems.children[this.currentIndex].close(),this.visible=!1,this.emit("close")}resize(){let{device:t,viewport:e,leftHand:i}=this.game;if(this.overlay.resize(),this.items.scale.set(1),this.bottom.width=e.width+2*e.paddingX,this.bottom.position.x=-e.paddingX,t.desktop)this.bottom.texture=this.bottomBackgroundTexture,this.bottom.y=860,this.homeButton.scale.set(.8),this.homeButton.position.set(77,60),this.historyButton.scale.set(.8),this.historyButton.position.set(77,900),this.closeButton.scale.set(.8),this.closeButton.position.set(1838,60),this.visibleItems.forEach((t,e)=>{t.resize(),t.position.set(0,150*e)}),this.items.position.set(0,(this.game.viewport.height-this.items.height)/2);else if(t.landscape)this.bottom.texture=this.bottomBackgroundTexture,this.bottom.y=860,this.visibleItems.length>3&&this.items.scale.set(.8),this.homeButton.scale.set(1.6),this.historyButton.scale.set(1.6),this.closeButton.scale.set(1.6),this.visibleItems.forEach((t,e)=>{t.resize(),t.position.set(0,150*e)}),(null==i?void 0:i.enabled)?(this.homeButton.position.set(1780,120),this.historyButton.position.set(1780,780),this.closeButton.position.set(120,120),this.items.position.set(50,(this.game.viewport.height-this.items.height)/2-80)):(this.homeButton.position.set(120,120),this.historyButton.position.set(120,780),this.closeButton.position.set(1780,120),this.items.position.set(1770,(this.game.viewport.height-this.items.height)/2-80));else{let t=e.height+2*e.paddingY;this.items.scale.set(1),this.bottom.texture=this.bottomBackgroundMobileTexture,this.bottom.y=t-520,this.homeButton.scale.set(1.6),this.homeButton.position.set(110,100),this.historyButton.scale.set(1.6),this.historyButton.position.set(110,t-488),this.closeButton.scale.set(1.6),this.closeButton.position.set(955,t-318),this.visibleItems.forEach((t,e)=>{t.resize(),t.position.set(150*e,0)}),this.items.position.set((e.width-this.items.width)/2,t-420)}}constructor(){super(),this.name="Menu",this.currentIndex=0,this.visible=!1,this.interactive=!0,this.bottomBackgroundTexture=this.game.loader.getAsset("assets/ui_2020/menu-bottom-bg.png"),this.bottomBackgroundMobileTexture=this.game.loader.getAsset("assets/ui_2020/mobile-portrait-bottom-menu-bg.png"),this.overlay=this.addChild(new tw),this.contentItems=this.addChild(new k.Container),this.bottom=this.addChild(new k.Sprite(this.bottomBackgroundMobileTexture)),this.items=this.addChild(new k.Container),this.homeButton=this.addChild(new ip),this.historyButton=this.addChild(new iu),this.historyButton.onClick.add(()=>this.game.action.emit("openHistory")),this.closeButton=this.addChild(new eG),this.closeButton.onClick.add(()=>this.close()),this.spaceKey=this.game.keyboard.register(this.game.keyboard.KEY_CODE.Escape),this.spaceKey.onPress.add(this.close,this),this.spaceKey.disable()}}let ib={background_normal:.4,background_free:.4,bonus_start:.6,bonus_end:.6,big_win:1,giant_win:1,win_normal_1:.5,win_normal_2:.5,win_normal_3:.5,win_free_1:.5,win_free_2:.5,win_free_3:.5,spin_start:.3,spin_fast:.3,click_normal:.1,wheel_stop:.3,scatter_win:1,scatter_reel:1},iw={get:t=>ib[t],set(t,e){}},iy=[{url:"assets/ui_2020/chip.png",metadata:{platform:["phone","tablet","desktop"]}},{url:"assets/ui_2020/paytable_betlines_normal.png",metadata:{platform:["phone","tablet","desktop"]}},{url:"assets/ui_2020/paytable_betlines_win.png",metadata:{platform:["phone","tablet","desktop"]}},{url:"assets/ui_2020/menu-bottom-bg.png",metadata:{}},{url:"assets/ui_2020/mobile-portrait-bottom-menu-bg.png",metadata:{}},{name:"Avenir-Medium",url:"assets/fonts/AvenirNextCyr-Medium.woff",metadata:{}},{name:"Avenir-Regular",url:"assets/fonts/AvenirNextCyr-Regular.woff",metadata:{}},{name:"Avenir-Bold",url:"assets/fonts/AvenirNextCyr-Bold.woff",metadata:{}},{name:"iconBetLevel",url:"assets/ui_2020/bet.png",metadata:{}},{name:"iconGameHistory",url:"assets/ui_2020/GameRulesGameHistory.png",metadata:{}},{name:"iconPaytable",url:"assets/ui_2020/paytable.png",metadata:{}},{name:"iconSettings",url:"assets/ui_2020/settings.png",metadata:{}},{name:"iconRules",url:"assets/ui_2020/rules.png",metadata:{}},{name:"iconAuto",url:"assets/ui_2020/auto.png",metadata:{}},{name:"iconAutoStop",url:"assets/ui_2020/auto-stop.png",metadata:{}},{name:"iconAutoInfinityCount",url:"assets/ui_2020/autoplay-infinity-count.png",metadata:{}},{name:"iconHome",url:"assets/ui_2020/home.png",metadata:{}},{name:"iconMenu",url:"assets/ui_2020/menu.png",metadata:{}},{name:"iconHistory",url:"assets/ui_2020/history.png",metadata:{}},{name:"iconQuickSpin",url:"assets/ui_2020/quick.png",metadata:{}},{name:"iconClose",url:"assets/ui_2020/close.png",metadata:{}},{name:"iconBorderH",url:"assets/ui_2020/menu-item-border-hor.png",metadata:{}},{name:"iconBorderV",url:"assets/ui_2020/menu-item-border-vert.jpg",metadata:{}},{name:"iconCheckCircle",url:"assets/ui_2020/check-circle.png",metadata:{}},{name:"iconCheckMark",url:"assets/ui_2020/check-mark.png",metadata:{}},{name:"iconCheckMarkBig",url:"assets/ui_2020/check-mark-big.png",metadata:{}},{name:"icon90x90White",url:"assets/ui_2020/90x90-white.png",metadata:{}},{name:"iconSliderBackground",url:"assets/ui_2020/slider-background.png",metadata:{}},{name:"iconSliderPoint",url:"assets/ui_2020/slider-point.png",metadata:{}},{name:"iconVolumeControlBackground",url:"assets/ui_2020/volume-control-background.png",metadata:{}},{name:"iconSoundOn",url:"assets/ui_2020/sound-on.png",metadata:{}},{name:"iconSoundOff",url:"assets/ui_2020/sound-off.png",metadata:{}},{name:"iconButtonSpinArrow",url:"assets/ui_2020/spin-arrow.png",metadata:{}},{name:"btnRounded",url:"assets/ui_2020/btn-rounded.png",metadata:{}},{name:"btnFill",url:"assets/ui_2020/btn-fill.png",metadata:{}},{name:"btnOutline",url:"assets/ui_2020/btn-outline.png",metadata:{}},{name:"gameRulesButtonSpin",url:"assets/ui_2020/gameRules-buttonSpin.png",metadata:{}},{name:"gameRulesButtonBetLevel_en",url:"assets/ui_2020/gameRules-buttonBetLevel_en.jpg",metadata:{}},{name:"gameRulesButtonBetLevel_ex",url:"assets/ui_2020/gameRules-buttonBetLevel_ex.jpg",metadata:{}},{name:"gameRulesButtonBetLevel_bg",url:"assets/ui_2020/gameRules-buttonBetLevel_bg.jpg",metadata:{}},{name:"gameRulesButtonSound",url:"assets/ui_2020/gameRules-ButtonSound.png",metadata:{}},{name:"gameRulesItemBalance_en",url:"assets/ui_2020/gameRules-itemBalance_en.jpg",metadata:{}},{name:"gameRulesItemBalance_bg",url:"assets/ui_2020/gameRules-itemBalance_bg.jpg",metadata:{}},{name:"gameRulesItemWin_en",url:"assets/ui_2020/gameRules-itemWin_en.jpg",metadata:{}},{name:"gameRulesItemWin_bg",url:"assets/ui_2020/gameRules-itemWin_bg.jpg",metadata:{}},{url:"assets/audio/backgroundCommon.mp3",name:"backgroundNormal",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"background",volume:iw.get("background_normal"),loop:!0}}},{url:"assets/audio/backgroundFree.mp3",name:"backgroundFree",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"background",volume:iw.get("background_free"),loop:!0}}},{url:"assets/audio/freeStart.mp3",name:"freeStart",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"background",volume:iw.get("bonus_end"),loop:!1}}},{url:"assets/audio/freeEnd.mp3",name:"freeEnd",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"background",volume:iw.get("bonus_start"),loop:!1}}},{url:"assets/audio/clickNormal.mp3",name:"clickNormal",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"effects",volume:iw.get("click_normal"),loop:!1}}},{url:"assets/audio/spinFast.mp3",name:"spinFast",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"effects",volume:iw.get("spin_fast"),loop:!1}}},{url:"assets/audio/spinStart.mp3",name:"spinStart",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"effects",volume:iw.get("spin_start"),loop:!1}}},{url:"assets/audio/wheelStop.mp3",name:"wheelStop",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"effects",volume:iw.get("wheel_stop"),loop:!1}}},{url:"assets/audio/giantWin.mp3",name:"giantWin",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"background",volume:iw.get("giant_win"),loop:!1}}},{url:"assets/audio/bigWin.mp3",name:"bigWin",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"background",volume:iw.get("big_win"),loop:!1}}},{url:"assets/audio/win_normal_1.mp3",name:"win_normal_1",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"effects",volume:iw.get("win_normal_1"),loop:!1}}},{url:"assets/audio/win_normal_2.mp3",name:"win_normal_2",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"effects",volume:iw.get("win_normal_2"),loop:!1}}},{url:"assets/audio/win_normal_3.mp3",name:"win_normal_3",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"effects",volume:iw.get("win_normal_3"),loop:!1}}},{url:"assets/audio/win_free_1.mp3",name:"win_free_1",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"effects",volume:iw.get("win_free_1"),loop:!1}}},{url:"assets/audio/win_free_2.mp3",name:"win_free_2",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"effects",volume:iw.get("win_free_2"),loop:!1}}},{url:"assets/audio/win_free_3.mp3",name:"win_free_3",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"effects",volume:iw.get("win_free_3"),loop:!1}}},{url:"assets/audio/scatterWin.mp3",name:"scatterWin",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"effects",volume:iw.get("scatter_win"),loop:!1}}},{url:"assets/audio/winFreeStart.mp3",name:"winFreeStart",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"effects",volume:iw.get("scatter_win"),loop:!1}}},{url:"assets/audio/winFreeStop.mp3",name:"winFreeStop",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"effects",volume:iw.get("scatter_win"),loop:!1}}},{url:"assets/audio/coinz.mp3",name:"coinz",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"effects",volume:1,loop:!1}}},{url:"assets/audio/featureWheelExpand.mp3",name:"riskWheel_expand",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"effects",volume:1,loop:!1}}},{url:"assets/audio/featureWheelWinCoins.mp3",name:"riskWheel_win",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"effects",volume:1,loop:!0}}},{url:"assets/audio/featureWheelLoss.mp3",name:"riskWheel_loss",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"effects",volume:1,loop:!1}}},{url:"assets/audio/featureWheelSpin.mp3",name:"riskWheel_spin",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"effects",volume:1,loop:!1}}},{url:"assets/audio/anticipantReel.mp3",name:"anticipantWheel",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"effects",volume:1,loop:!1}}},{url:"assets/audio/scatterReel.mp3",name:"scatterReel",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"effects",volume:1,loop:!1}}},{url:"assets/audio/wildReelShow.mp3",name:"wildReelShow",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"effects",volume:1,loop:!1}}},{url:"assets/audio/wildReelHide.mp3",name:"wildReelHide",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"effects",volume:1,loop:!1}}},{url:"assets/audio/riskWheelTotalWin.mp3",name:"riskWheelTotalWin",metadata:{platform:["phone","tablet","desktop"],audioMetadata:{type:"effects",volume:1,loop:!1}}},{url:"assets/images/background/bgln.jpg",name:"bgln",metadata:{platform:["phone","tablet","desktop"]}},{url:"assets/images/background/bglf.jpg",name:"bglf",metadata:{platform:["phone","tablet","desktop"]}},{url:"assets/images/background/bgpn.jpg",name:"bgpn",metadata:{platform:["desktop","phone","tablet"]}},{url:"assets/images/background/bgpf.jpg",name:"bgpf",metadata:{platform:["desktop","phone","tablet"]}},{url:"assets/images/background/logo.png",name:"logo",metadata:{platform:["desktop","phone","tablet"]}},{url:"assets/images/background/reel.png",name:"reel",metadata:{platform:["desktop","phone","tablet"]}},{url:"assets/images/background/effects/bgln/skeleton.json",name:"backgroundAnimationNormal",metadata:{platform:["phone","tablet","desktop"]}},{url:"assets/images/background/effects/bglf/skeleton.json",name:"backgroundAnimationFree",metadata:{platform:["phone","tablet","desktop"]}},{url:"assets/images/introScreen/texture.json",metadata:{platform:["phone","tablet","desktop"]}}],iv=[{name:"riskWheel_header",url:"assets/images/riskWheel/header.png",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_btn_collect",url:"assets/images/riskWheel/btnCollect.png",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_btn_risk",url:"assets/images/riskWheel/btnRisk.png",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_wheel_decore",url:"assets/images/riskWheel/wheelDecore.png",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_btn_risk_arrow",url:"assets/images/riskWheel/btnRiskArrow.png",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_wheel_bg",url:"assets/images/riskWheel/wheelBackground.png",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_wheel_cell_1",url:"assets/images/riskWheel/cells/cell1.png",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_wheel_cell_2",url:"assets/images/riskWheel/cells/cell2.png",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_wheel_cell_3",url:"assets/images/riskWheel/cells/cell3.png",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_wheel_cell_4",url:"assets/images/riskWheel/cells/cell4.png",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_wheel_cell_1_empty",url:"assets/images/riskWheel/cells/cellEmpty1.png",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_wheel_cell_2_empty",url:"assets/images/riskWheel/cells/cellEmpty2.png",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_wheel_cell_3_empty",url:"assets/images/riskWheel/cells/cellEmpty3.png",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_wheel_cell_1_mul",url:"assets/images/riskWheel/arrowWheel.png",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_wheel_cell_2_mul",url:"assets/images/riskWheel/mul/x2.png",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_wheel_cell_3_mul",url:"assets/images/riskWheel/mul/x3.png",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_wheel_cell_4_mul",url:"assets/images/riskWheel/mul/x4.png",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_wheel_cell_5_mul",url:"assets/images/riskWheel/mul/x5.png",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_wheel_cell_reload",url:"assets/images/riskWheel/iconReload.png",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_btn_open",url:"assets/images/riskWheel/animations/btnRisk/skeleton.json",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_wheel_cell_fx",url:"assets/images/riskWheel/animations/wheelWinFx/skeleton.json",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_wheel_background_animation",url:"assets/images/riskWheel/animations/wheelBack/skeleton.json",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_wheel_decore_animation",url:"assets/images/riskWheel/animations/wheelDecore/skeleton.json",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_wheel_spin_animation",url:"assets/images/riskWheel/animations/wheelSpinFx/skeleton.json",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_wheel_win_animation",url:"assets/images/riskWheel/animations/wheelWin/skeleton.json",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskWheel_wheel_frame_animation",url:"assets/images/riskWheel/animations/wheelBackground/skeleton.json",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskFeatureEndPopupFrame",url:"assets/images/riskWheel/animations/popupWheelWinBg/skeleton.json",metadata:{platform:["phone","tablet","desktop"]}},{name:"riskFeatureEndPopupAnimation",url:"assets/images/riskWheel/animations/coins/skeleton.json",metadata:{platform:["phone","tablet","desktop"]}},{url:"assets/images/labels/textFreeSpinsLeft.png",metadata:{platform:["phone","tablet","desktop"]}},{url:"assets/images/labels/textLastFreeSpin.png",metadata:{platform:["phone","tablet","desktop"]}},{url:"assets/bitmapFont/winFont.xml",name:"WinFont",metadata:{platform:["phone","tablet","desktop"]}},{url:"assets/images/symbols/static/texture.json",name:"symbols_static",metadata:{platform:["phone","tablet","desktop"]}},{url:"assets/images/symbols/effects/sym/skeleton.json",name:"symbolsAnimation",metadata:{platform:["phone","tablet","desktop"]}},{url:"assets/images/effects/spin/skeleton.json",name:"effectSpin",metadata:{platform:["phone","tablet","desktop"]}},{url:"assets/images/effects/bigGiantWin/skeleton.json",metadata:{platform:["phone","tablet","desktop"]}},{url:"assets/images/effects/frameReel/skeleton.json",metadata:{platform:["phone","tablet","desktop"]}},{url:"assets/images/paytable/paytable.json",name:"paytable",metadata:{platform:["phone","tablet","desktop"]}},{url:"assets/images/effects/coinsCollect/skeleton.json",metadata:{platform:["phone","tablet","desktop"]}},{url:"assets/images/effects/frameReelDecore/skeleton.json",metadata:{platform:["phone","tablet","desktop"]}},{url:"assets/images/effects/popupFreeSpins/skeleton.json",metadata:{platform:["phone","tablet","desktop"]}}],ik={name:"minotaurs_wilds",application:{view:"game",width:1920,height:1080},colors:{primary:16771346,primaryHover:16774819,secondary:2045999,secondaryHover:4482635},wheel:{deltaStop:20,durationSpin:.08,durationDelta:.12,durationQuickDelta:.16,durationStop:400,durationQuickStop:80,durationAnticipantStop:600},symbol:{x:250,y:200,width:250,height:200},slot:{size:[5,4],symbolsPositions:[[[0,-200],[0,0],[0,200],[0,400],[0,600],[0,800]],[[250,-200],[250,0],[250,200],[250,400],[250,600],[250,800]],[[500,-200],[500,0],[500,200],[500,400],[500,600],[500,800]],[[750,-200],[750,0],[750,200],[750,400],[750,600],[750,800]],[[1e3,-200],[1e3,0],[1e3,200],[1e3,400],[1e3,600],[1e3,800]],[[1250,-200],[1250,0],[1250,200],[1250,400],[1250,60],[1250,800]]],layout:{anticipantBlur:[{textureAtlas:"symbols_static",assetName:"0_scatBlurBlur"},{textureAtlas:"symbols_static",assetName:"1_wildBlurBlur"},{textureAtlas:"symbols_static",assetName:"2_tree1BlurBlur"},{textureAtlas:"symbols_static",assetName:"3_tree2BlurBlur"},{textureAtlas:"symbols_static",assetName:"4_tree3BlurBlur"},{textureAtlas:"symbols_static",assetName:"5_tree4BlurBlur"},{textureAtlas:"symbols_static",assetName:"6_gingerbread1BlurBlur"},{textureAtlas:"symbols_static",assetName:"7_gingerbread2BlurBlur"},{textureAtlas:"symbols_static",assetName:"8_gingerbread3BlurBlur"},{textureAtlas:"symbols_static",assetName:"9_gingerbread4BlurBlur"},{textureAtlas:"symbols_static",assetName:"10_orangeBlurBlur"},{textureAtlas:"symbols_static",assetName:"11_ballBlurBlur"},{textureAtlas:"symbols_static",assetName:"12_wildReelBlurBlur"}],blur:[{textureAtlas:"symbols_static",assetName:"0_scatBlur"},{textureAtlas:"symbols_static",assetName:"1_wildBlur"},{textureAtlas:"symbols_static",assetName:"2_tree1Blur"},{textureAtlas:"symbols_static",assetName:"3_tree2Blur"},{textureAtlas:"symbols_static",assetName:"4_tree3Blur"},{textureAtlas:"symbols_static",assetName:"5_tree4Blur"},{textureAtlas:"symbols_static",assetName:"6_gingerbread1Blur"},{textureAtlas:"symbols_static",assetName:"7_gingerbread2Blur"},{textureAtlas:"symbols_static",assetName:"8_gingerbread3Blur"},{textureAtlas:"symbols_static",assetName:"9_gingerbread4Blur"},{textureAtlas:"symbols_static",assetName:"10_orangeBlur"},{textureAtlas:"symbols_static",assetName:"11_ballBlur"},{textureAtlas:"symbols_static",assetName:"12_wildReelBlur"}],default:[{textureAtlas:"symbols_static",assetName:"0_scat",animation:{assetName:"symbolsAnimation",effectName:{normal:"win",free:"freeSpinsStart",freeStop:"freeSpinsEnd",spin:"wheelStop",idle:"idle",symbolsAppear:"symbolsAppear"},skin:"0_scat"}},{textureAtlas:"symbols_static",assetName:"1_wild",animation:{assetName:"symbolsAnimation",effectName:{normal:"win",spin:"wheelStop",idle:"idle",transformStart:"transformStart",transformEnd:"transformEnd"},skin:"1_wild"}},{textureAtlas:"symbols_static",assetName:"2_tree1",animation:{assetName:"symbolsAnimation",effectName:{normal:"win",spin:"wheelStop",idle:"idle",symbolsAppear:"symbolsAppear"},skin:"2_tree1"}},{textureAtlas:"symbols_static",assetName:"3_tree2",animation:{assetName:"symbolsAnimation",effectName:{normal:"win",spin:"wheelStop",idle:"idle",symbolsAppear:"symbolsAppear"},skin:"3_tree2"}},{textureAtlas:"symbols_static",assetName:"4_tree3",animation:{assetName:"symbolsAnimation",effectName:{normal:"win",spin:"wheelStop",idle:"idle",symbolsAppear:"symbolsAppear"},skin:"4_tree3"}},{textureAtlas:"symbols_static",assetName:"5_tree4",animation:{assetName:"symbolsAnimation",effectName:{normal:"win",spin:"wheelStop",idle:"idle",symbolsAppear:"symbolsAppear"},skin:"5_tree4"}},{textureAtlas:"symbols_static",assetName:"6_gingerbread1",animation:{assetName:"symbolsAnimation",effectName:{normal:"win",spin:"wheelStop",idle:"idle",symbolsAppear:"symbolsAppear"},skin:"6_gingerbread1"}},{textureAtlas:"symbols_static",assetName:"7_gingerbread2",animation:{assetName:"symbolsAnimation",effectName:{normal:"win",spin:"wheelStop",idle:"idle",symbolsAppear:"symbolsAppear"},skin:"7_gingerbread2"}},{textureAtlas:"symbols_static",assetName:"8_gingerbread3",animation:{assetName:"symbolsAnimation",effectName:{normal:"win",spin:"wheelStop",idle:"idle",symbolsAppear:"symbolsAppear"},skin:"8_gingerbread3"}},{textureAtlas:"symbols_static",assetName:"9_gingerbread4",animation:{assetName:"symbolsAnimation",effectName:{normal:"win",spin:"wheelStop",idle:"idle",symbolsAppear:"symbolsAppear"},skin:"9_gingerbread4"}},{textureAtlas:"symbols_static",assetName:"10_orange",animation:{assetName:"symbolsAnimation",effectName:{normal:"win",spin:"wheelStop",idle:"idle",symbolsAppear:"symbolsAppear"},skin:"10_orange"}},{textureAtlas:"symbols_static",assetName:"11_ball",animation:{assetName:"symbolsAnimation",effectName:{normal:"win",spin:"wheelStop",idle:"idle",symbolsAppear:"symbolsAppear"},skin:"11_ball"}},{textureAtlas:"symbols_static",assetName:"12_wildReel",animation:{assetName:"symbolsAnimation",effectName:{normal:"win",spin:"wheelStop",idle:"idle",transformStart:"transformStart",transformEnd:"transformEnd"},skin:"12_wildReel"}}]},width:1450,height:825},winFeature:{bigWinMultiplier:50,giantWinMultiplier:100}};class ix extends tr(k.Container){setupEvents(){this.game.action.on("state:setup_enter",()=>{this.game.store.get("free:isFree",!1)&&(this.backgroundAnimationNormal.renderable=!1,this.backgroundAnimationFree.renderable=!0,this.featureBackground.alpha=1,this.featureBackground.texture=this.game.device.portrait&&!this.game.device.desktop?this.backgroundPTextureFree:this.backgroundLTextureFree)}),this.game.action.on("free:select_start",()=>{this.backgroundAnimationNormal.renderable=!1,this.backgroundAnimationFree.renderable=!0,this.featureBackground.texture=this.game.device.portrait&&!this.game.device.desktop?this.backgroundPTextureFree:this.backgroundLTextureFree,x.kX.fromTo(this.featureBackground,this.game.store.get("free:isFree",!1)?0:.5,{pixi:{alpha:0}},{pixi:{alpha:1}})}),this.game.action.on("free:select_stop",()=>{this.backgroundAnimationNormal.renderable=!0,this.backgroundAnimationFree.renderable=!1,x.kX.fromTo(this.featureBackground,.5,{pixi:{alpha:1}},{pixi:{alpha:0}})})}onFreeRoundStart(){this.game.isFeature("freespin")&&(this.featureBackground.texture=this.game.device.portrait&&!this.game.device.desktop?this.backgroundPTextureFree:this.backgroundLTextureFree)}resize(){this.game.device.portrait&&!this.game.device.desktop?(this.logo.scale.set(1.3),this.logo.anchor.x=.5,this.logo.position.set(0,0),this.logo.position.set(this.game.viewport.width/2,40),this.background.texture=this.backgroundTexturePortrait,this.background.resize(),this.featureBackground.texture=this.backgroundPTextureFree,this.featureBackground.resize(),this.animationContainer.visible=!1):(this.logo.scale.set(1),this.logo.anchor.x=0,this.logo.position.set(this.game.leftHand.enabled?1591:10,this.game.device.desktop?62:10),this.background.texture=this.backgroundTextureLandscape,this.background.resize(),this.featureBackground.texture=this.backgroundLTextureFree,this.featureBackground.resize(),this.animationContainer.visible=!0,this.animationMask.width=this.background.width,this.animationMask.height=this.background.height,this.animationMask.scale.set(this.background.scale.x),this.animationMask.pivot.set(this.background.width/2,this.background.height/2),this.animationMask.position.set(this.background.x,this.background.y))}constructor(){super(),this.backgroundLTextureNormal=this.game.loader.getAsset("bgln"),this.backgroundLTextureFree=this.game.loader.getAsset("bglf"),this.backgroundPTextureNormal=this.game.loader.getAsset("bgpn"),this.backgroundPTextureFree=this.game.loader.getAsset("bgpf"),this.backgroundTextureLandscape=this.backgroundLTextureNormal,this.backgroundTexturePortrait=this.backgroundPTextureNormal,this.logo=new k.Sprite(this.game.loader.getAsset("logo")),this.logo.position.set(10,40),this.background=new tu(this.backgroundTextureLandscape),this.background.name="background",this.featureBackground=new tu(this.backgroundTexturePortrait),this.featureBackground.name="featureBackground",this.featureBackground.alpha=0,this.animationContainer=new tA,this.backgroundAnimationNormal=this.animationContainer.addChild(new tb(this.game.loader.getAsset("backgroundAnimationNormal"))),this.backgroundAnimationNormal.state.setAnimation(0,"fire",!0),this.backgroundAnimationNormal.state.addAnimation(1,"smoke",!0,0),this.backgroundAnimationNormal.state.addAnimation(2,"sparks",!0,0),this.backgroundAnimationNormal.x=-321,this.backgroundAnimationFree=this.animationContainer.addChild(new tb(this.game.loader.getAsset("backgroundAnimationFree"))),this.backgroundAnimationFree.state.setAnimation(0,"fire",!0),this.backgroundAnimationFree.state.addAnimation(1,"smoke",!0,0),this.backgroundAnimationFree.state.addAnimation(2,"sparks",!0,0),this.backgroundAnimationFree.renderable=!1,this.backgroundAnimationFree.x=-321,this.animationMask=this.animationContainer.addChild(new k.Graphics),this.animationMask.lineStyle(1,16777215,1,1),this.animationMask.beginFill(),this.animationMask.drawRect(0,0,2560,1080),this.animationMask.endFill(),this.animationContainer.mask=this.animationMask,this.addChild(this.background),this.addChild(this.featureBackground),this.addChild(this.animationContainer),this.addChild(this.logo),this.setupEvents()}}class iS extends q{show({count:t=-1,win:e=0,played:i=0,bet:s=0}){if(this.background.logo.alpha=0,this.actionButton.style.fill=16765440,this.game.keyboard.stop(),this.background.onFreeRoundStart(),t>0){let e=1===t||0===t;this.title.setText(this.game.i18n.t("PopupFreeRoundStartTitleNew")),this.message.setText(e?this.game.i18n.t("PopupFreeRoundLastMessageNew",`${this.game.helpers.toMoneySS(s)}`):this.game.i18n.t("PopupFreeRoundStartMessageNew",t,`${this.game.helpers.toMoneySS(s)}`)),this.actionButton.setText(this.game.i18n.t("PopupActionContinue")),this.game.interaction.clickOnce(this.actionButton,this.hide,this)}else{let t="continue"===this.game.config.get("freeRoundsOnEnd","continue");this.title.setText(this.game.i18n.t("PopupFreeRoundEndTitleNew")),this.message.setText(this.game.i18n.t(t?"PopupFreeRoundEndMessageNew":"PopupFreeRoundEndMessageNewExit",`${this.game.helpers.toMoneySS(e)}${this.game.i18n.currency({withSpace:!0})}`,`${this.game.helpers.toMoneySS(s)}`,i)),this.actionButton.setText(this.game.i18n.t(t?"PopupActionContinue":"PopupActionClose")),this.game.interaction.clickOnce(this.actionButton,t?this.hide:this.exit,this)}return this.title.scale.set(1),this.message.scale.set(1),tf({width:1e3,height:400},this.title),tf({width:900,height:500},this.message),this.resize(),new Promise(t=>this.resolver=t)}hide(){this.game.keyboard.restore(),this.resolver&&(this.resolver(),this.resolver=null)}exit(){let t=this.game.config.get("homeURL.url","javascript:history.back()"),e=this.game.config.get("homeURL.target","self");this.game.openUrl(t,e)}resize(){this.title.position.set(0,213),this.message.position.set(0,550),this.message.style.breakWords="ja"===this.game.i18n.language,this.actionButton.position.set(0,this.game.device.portrait&&!this.game.device.desktop?845:825),this.content.position.set(this.game.viewport.width/2,this.game.device.portrait&&!this.game.device.desktop?550:125),this._bgAnimation.position.set(!this.game.device.desktop&&this.game.device.portrait?536:960,this.game.viewport.height/2-35)}constructor(){super(),this.name="PopupFreeRound",this.resolver=null,this.overlay=new tw(.75),this.background=new ix,this._bgAnimation=new tm(this.game.loader.getAsset("assets/images/effects/popupFreeSpins/skeleton.json")),this._bgAnimation.scale.set(1.2),this.content=new k.Container,this.title=new e_(this.game.i18n.t("PopupFreeRoundStartTitle"),{fill:["#ffffff","#ffec3d"],fillGradientStops:[.4],fontFamily:"Avenir-Bold",fontSize:70,align:"center",stroke:"#960000",strokeThickness:16}),this.title.anchor.set(.5),this.message=new eS("",{fill:"#ffffff",fillGradientStops:[.4],fontFamily:"Avenir-Bold",align:"center",fontSize:45,lineJoin:"round",stroke:"#860000",strokeThickness:["es"].includes(this.game.i18n.language)?5:15,wordWrap:!0,wordWrapWidth:900}),this.message.anchor.set(.5),this.actionButton=new ek(this.game.i18n.t("PopupActionClose"),{fill:16765440,fontFamily:"Avenir-Bold",fontSize:65}),this.actionButton.anchor.x=.5,this.game.interaction.out(this.actionButton,()=>this.actionButton.style.fill=16765440),this.game.interaction.hover(this.actionButton,()=>this.actionButton.style.fill=16777215),this.content.addChild(this.title),this.content.addChild(this.message),this.content.addChild(this.actionButton),this.addChild(this.background),this.addChild(this.overlay),this.addChild(this._bgAnimation),this.addChild(this.content)}}let i_={fill:"#ffffff",fillGradientStops:[.4],fontFamily:"Avenir-Bold",align:"center",fontSize:60,lineJoin:"round",miterLimit:13,stroke:"#860000",strokeThickness:15,lineHeight:130},iC={fill:["#ffffff","#ffec3d"],fillGradientStops:[.4],fontFamily:"Avenir-Bold",fontSize:65,align:"center",wordWrap:!0,stroke:"#960000",strokeThickness:16},iT={default:{fill:[16772172,16743739],fillGradientType:k.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[.4,1],fontFamily:"Avenir-Bold",fontSize:80,fontWeight:"bold",stroke:0,strokeThickness:4,align:"center"}},iA={dropShadow:!0,dropShadowAngle:1.5,dropShadowColor:"#451c2b",dropShadowDistance:3,fill:["#ffffff","#feed78"],fillGradientStops:[.5],fontFamily:"Avenir-Bold",fontSize:52,miterLimit:0,stroke:"#451c2b",strokeThickness:6};o=v("RiskFeature.RiskEndOpen");class iB extends tY{resize(){super.resize(),this.header.title.scale.set(1),tf({width:360,height:75},this.header.title),this.header.title.y=35,this.header.background.y=30,this.riskEnd.title.scale.set(1),tf({width:400,height:95},this.riskEnd.title),this.buttonOpen.textOpen.position.set(-216,-127),this.buttonOpen.hitArea=new k.Rectangle(-120,-140,110,130),this.game.device.desktop?(this.buttonOpen.scale.set(1),this.buttonOpen.position.set(1159,1076),this.riskEnd.animation.position.set(960,550),this.riskEnd.frame.scale.set(1),this.riskEnd.frame.position.set(960,550),this.riskEnd.textContainer.scale.set(1),tf({width:800,height:500},this.riskEnd.textContainer),this.riskEnd.textContainer.position.set(960,250)):this.game.device.landscape?(this.buttonOpen.scale.set(1.4),this.buttonOpen.position.set(this.game.leftHand.enabled?211:1869,877),this.header.scale.set(1),this.riskEnd.animation.position.set(960,550),this.riskEnd.frame.scale.set(1),this.riskEnd.frame.position.set(960,550),this.riskEnd.textContainer.scale.set(1),tf({width:720,height:500},this.riskEnd.textContainer),this.riskEnd.textContainer.position.set(960,250)):(this.buttonOpen.scale.set(1.4),this.buttonOpen.position.set(841,1690+2*this.game.viewport.paddingY),this.header.scale.set(.8),this.riskEnd.animation.position.set(540,850),this.riskEnd.frame.scale.set(.8),this.riskEnd.frame.position.set(540,850),this.riskEnd.textContainer.scale.set(1),tf({width:540,height:400},this.riskEnd.textContainer),this.riskEnd.textContainer.position.set(540,600))}constructor(){super(),h(this),this.setEndPopup(new tP(iC,i_,iT)),this.header.mount(iA),this.header.setBackground("riskWheel_header")}}({e:[h]}=(0,m._)(iB,[[o,2,"resize"]],[]));class iP extends tr(k.Sprite){isTexture(t){return this.currentTextureIndex===t}overlay(){this.tint=6316128}removeOverlay(){this.tint=16777215}show(){this.alpha=1,this.tint=16777215}hide(){this.alpha=0,this.tint=16777215}constructor(t=-1){super(),this.currentTextureIndex=t}}let iR=new tA;class iW extends iP{replaceTexture(t){this.currentTextureIndex=t,this.data=this.game.config.get(`slot.layout.${this.layoutType}[${this.currentTextureIndex}]`,null),this.texture=this.game.loader.getAsset(this.data.textureAtlas,this.data.assetName)}playAnimation(t,e=0){let i=(0,O._)({},this.data.animation,t);if(!this.visible||this.symbolAnimation.renderable&&this.symbolAnimation.playing&&this.symbolAnimation.skinName===i.skin&&this.symbolAnimation.animationName===i.effectName)return;this.symbolAnimation.position.set(this.x,this.y),i.skin&&this.symbolAnimation.changeSkin(i.skin);let s="string"==typeof i.effectName[t]?i.effectName[t]:i.effectName[i.animationName]||i.effectName.normal;this.removeOverlay(),this.timeoutId=setTimeout(()=>{this.hide(),this.symbolAnimation.renderable=!0,this.symbolAnimation.state.setAnimation(0,s,"idle"===s)},0)}stopAnimation(){this.timeoutId&&clearTimeout(this.timeoutId),this.show(),this.symbolAnimation.stop(),this.symbolAnimation.state.clearTrack(0),this.symbolAnimation.renderable=!1}overlay(){this.tint=5460819}removeOverlay(){this.visible=!0,this.tint=16777215}get isPlaying(){return this.symbolAnimation.playing}blur(){this.layoutType="blur",this.replaceTexture(this.currentTextureIndex)}anticipantBlur(){this.layoutType="anticipantBlur",this.replaceTexture(this.currentTextureIndex)}unblur(){this.layoutType="default",this.replaceTexture(this.currentTextureIndex)}playStop(){var t=this;return(0,g._)(function*(){t.hide(),t.symbolAnimation.position.set(t.x,t.y),t.symbolAnimation.changeSkin(t.data.assetName),t.symbolAnimation.renderable=!0,t.symbolAnimation.state.setAnimation(0,"wheelStop",!1),t.game.isFree||t.symbolAnimation.state.addAnimation(0,"idle",!0,.333)})()}getCurrentTextureIndex(){return this.currentTextureIndex}constructor(t,e,i){super(i),this.position.set(t,e),this.layoutType="default",this.symbolAnimation=iR.addChild(new tb(this.game.loader.getAsset("symbolsAnimation"),!1,.25)),this.symbolAnimation.renderable=!1,this.symbolAnimation.stateData.defaultMix=.25,this.replaceTexture(i)}}class iF extends tr(k.Container){playStart(){this.visible=!0,this.sticky.play("transformEnd")}playWin(){this.sticky.play("win")}constructor(){super(),this.visible=!1,this.sticky=new tm(this.game.loader.getAsset("symbolsAnimation")),this.sticky.changeSkin("12_wildReel"),this.sticky.play("idle",!0),this.addChild(this.sticky)}}class iE extends tc{addSticky(t){let e=this.view.addChild(new iF);e.position.set(250*t,578);let i=this.game.reels[t].indexOf(1);return this.game.slot.getSymbolByPosition(t,i).playAnimation({animationName:"transformStart"}),e.playStart(),e}removeSticky(){this.view.removeChildren()}playWin(){this.view.children.forEach(t=>{t.playWin()})}constructor(t){super(t),this.game=t,this.view=new k.Container}}let iM={init(){function t(t){let e=(0,_.Z)(t,"freespins.win",0),i=(0,_.Z)(t,"feature",""),n=s.store.get("free:left",0),a=(0,_.Z)(t,"freespins.left",-1),o=(0,_.Z)(t,"freespins.played",-1);s.store.set("free:win",e),s.store.set("free:coins",(0,_.Z)(t,"freespins.coins",0)),s.store.set("free:left",a),s.store.set("free:played",o),s.store.set("free:count",a+o),s.store.set("free:multiplier",(0,_.Z)(t,"freespins.mul",0)),s.store.set("free:isStart",0===o),s.store.set("free:isEnd",0===a),s.store.set("free:isFree","freespin"===i),o>0&&(s.store.set("free:winAdditional",a>=n),s.store.set("free:winAdditionalCount",(0,_.Z)(t,"scatters.freespins",0)))}s.store.set("free:win",0),s.store.set("free:coins",0),s.store.set("free:count",0),s.store.set("free:left",-1),s.store.set("free:played",-1),s.store.set("free:multiplier",0),s.store.set("free:isStart",!1),s.store.set("free:isEnd",!1),s.store.set("free:isFree",!1),s.store.set("free:winAdditional",!1),s.server.on("response:init",t),s.server.on("response:spin",t),s.server.on("response:feature",t),s.server.on("response:buyin",t),s.server.on("response:risk",t)}};!function(t){t.Basic="basic",t.Auto="auto",t.Respin="respins",t.Freespin="freespin"}(r||(r={}));let iI=new class{set(t){this.currentFeature=t}isBasic(){return this.currentFeature.includes("basic")}isAuto(){return"auto"===this.currentFeature}isRespin(){return"respins"===this.currentFeature}isFreespin(){return"freespin"===this.currentFeature}},iN=[[6,6,9,11],[4,8,7,6],[10,6,4,4],[7,9,6,5],[7,0,9,6]],iL=[[7,2,6,9,7,7],[11,6,10,1,11,5],[6,1,5,8,3,6],[8,10,3,9,6,1],[8,9,10,6,4,5]],iO={init(){function t(t){let e=(0,_.Z)(t,"win",0),i=(0,_.Z)(t,"scatters",!1);s.store.set("reward:win",e),s.store.set("reward:lines",(0,_.Z)(t,"lines",[])),s.store.set("reward:reels",(0,_.Z)(t,"reels",t.error?iN:[])),s.store.set("reward:nReels",(0,_.Z)(t,"nReels",t.error?iL:[])),s.store.set("reward:fsReels",(0,_.Z)(t,"fsReels",[])),s.store.set("reward:preReels",(0,_.Z)(t,"preSpin.reels",[])),s.store.set("reward:preScatters",(0,_.Z)(t,"preSpin.scatters",[])),s.store.set("reward:scatters",i),s.store.set("reward:isWin",e>0||i);let n=(0,_.Z)(t,"feature",r.Basic);s.store.set("reward:feature",n)}s.store.set("reward:win",0),s.store.set("reward:isWin",!1),s.store.set("reward:lines",[]),s.store.set("reward:reels",[]),s.store.set("reward:nReels",[]),s.store.set("reward:fsReels",[]),s.store.set("reward:preReels",[]),s.store.set("reward:preScatters",[]),s.store.set("reward:scatters",!1),s.store.set("reward:feature",""),s.server.on("response:init",t),s.server.on("response:spin",t)}},iz={init(){s.store.set("spin:isSpin",!1),s.store.set("spin:isFast",!1),s.action.on("spin:start",function(t=!0){s.store.get("spin:isSpin")?t&&!s.store.get("spin:isFast")&&s.config.get("quickSpin.available",!0)&&(s.store.set("spin:isFast",!0),s.action.emit("spin:fast")):(s.store.set("spin:isSpin",!0),s.state.goTo("spin"))}),s.action.on("state:stop_exit",function(){s.store.set("spin:isSpin",!1),s.store.set("spin:isFast",!1)})}},iD={init(){iM.init(),iz.init(),iO.init()}};class iG extends to.$u{_setupEvents(){this.game.action.on("sound:win",t=>{let e=this.game.isFree;this.currentWinSound=this[`${e?"winFree":"winNormal"}${t}`],this.currentWinSound.play()}),this.game.action.on("sound:bigWin",()=>{this.bigWin.play()}),this.game.action.on("sound:giantWin",()=>{this.bigWin.stop(),this.giantWin.play()}),this.game.action.on("sound:scatterReel",()=>{this.scatterReel.play()}),this.game.action.on("sound:WildReelShow",()=>{this.wildReelShow.play()}),this.game.action.on("sound:WildReelHide",()=>{this.wildReelHide.play()}),this.game.action.on("sound:riskWheelTotalWin",()=>{this.riskWheelTotalWin.play()}),this.game.action.on("state:spin_enter",this._onSpinEnter,this),this.game.action.on("state:finish_enter",this._onFinishEnter,this),this.game.action.on("sound:spinFast",this._onFastSpin,this),this.game.action.on("wheel:stop_down",this._onWheelStop,this),this.game.action.on("sound:click",this.click,this),this.game.action.on("sound:free_start",this._onFreeStart,this),this.game.action.on("sound:free_stop",this._onFreeStop,this),this.game.action.on("free:select_start",this._onSelectFreeStart,this),this.game.action.on("free:select_stop",this._onSelectFreeStop,this),this.game.action.on("sound:articipantWheel",()=>{this.anticipantWheel.play()}),this.game.action.on("sound:coinz",()=>{this.coinz.play()}),this.game.action.on("sound:winFreeStart",()=>{this.winFreeStart.play()}),this.game.action.on("sound:winFreeStop",()=>{this.winFreeStop.play()})}stopBigWin(){this.bigWin.stop(),this.giantWin.stop()}_onSpinEnter(){this.currentWinSound&&(this.currentWinSound.stop(),this.currentWinSound=null);let t=this.game.isFree,e=this.game.autoPlay.enabled;t||e||this.spinStart.play()}_onWheelStop(){this.game.store.get("spin:isFast",!1)||this.wheelStop.play()}click(){this.clickNormal.play()}_onFastSpin(){this.spinFast.playing()||this.spinFast.play()}_onFreeStart(){this.currentWinSound&&(this.currentWinSound.stop(),this.currentWinSound=null),this.backgroundNormal.stop(),this.bonusStart.once("end",()=>{this.backgroundFree.fade(1),this.backgroundFree.volume(iw.get("background_free"))}),this.bonusStart.play()}_onFreeStop(){this.currentWinSound&&(this.currentWinSound.stop(),this.currentWinSound=null),this.backgroundFree.stop(),this.bonusEnd.once("end",()=>{this.backgroundNormal.fade(1),this.backgroundNormal.volume(iw.get("background_normal"))}),this.bonusEnd.play()}_onSelectFreeStart(){this.bonusStart.stop(),this.backgroundFree.playing()||(this.backgroundFree.fade(2),this.backgroundFree.volume(iw.get("background_free")))}_onSelectFreeStop(){this.bonusEnd.stop(),this.backgroundNormal.playing()||(this.backgroundNormal.fade(2),this.backgroundNormal.volume(iw.get("background_normal")))}_onFinishEnter(){this.currentWinSound&&(this.currentWinSound.stop(),this.currentWinSound=null)}constructor(t){super(t.device,t.visibility,t.preferences),this.game=t,this.backgroundNormal=this.get("backgroundNormal"),this.backgroundFree=this.get("backgroundFree"),this.bonusStart=this.get("freeStart"),this.bonusEnd=this.get("freeEnd"),this.winFreeStart=this.get("winFreeStart"),this.winFreeStop=this.get("winFreeStop"),this.winNormal1=this.get("win_normal_1"),this.winNormal2=this.get("win_normal_2"),this.winNormal3=this.get("win_normal_3"),this.winFree1=this.get("win_free_1"),this.winFree2=this.get("win_free_2"),this.winFree3=this.get("win_free_3"),this.bigWin=this.get("bigWin"),this.giantWin=this.get("giantWin"),this.spinStart=this.get("spinStart"),this.spinFast=this.get("spinFast"),this.clickNormal=this.get("clickNormal"),this.wheelStop=this.get("wheelStop"),this.scatterWin=this.get("scatterWin"),this.scatterReel=this.get("scatterReel"),this.wildReelShow=this.get("wildReelShow"),this.wildReelHide=this.get("wildReelHide"),this.anticipantWheel=this.get("anticipantWheel"),this.coinz=this.get("coinz"),this.riskWheelTotalWin=this.get("riskWheelTotalWin"),this.currentWinSound=null,this._setupEvents()}}class iV extends tU{enter(){var t=this,e=()=>super.enter;return(0,g._)(function*(){if(e().call(t),iI.set(t.game.store.get("reward:feature")),t.game.autoPlay.count<=0&&t.game.autoPlay.disable(),t.game.controls.onFinishEnter(),t.game.isNextFeature("freespin")||(yield t.game.freeRound.finish()),t.game.autoPlay.enabled)try{yield t.game.checkBalance(),t.game.state.goTo("ready")}catch(e){t.game.autoPlay.disable(),t.game.state.goTo("ready")}else t.game.state.goTo("ready")})()}}let iY={reward_flush:1800,reward_scatter:1e3,before_spin_auto:200,afterFreeSpins:700,beforeFreeSpins:200,inFreeSpins:200},iU={get:t=>iY[t],set(t,e){}};class iX extends tX{enter(){var t=this,e=()=>super.enter;return(0,g._)(function*(){e().call(t),t.game.fastStopLayout.disable(),t.game.isFree?setTimeout(()=>{t.game.action.emit("spin:start")},t.game.store.get("free:isStart",!1)?iU.get("beforeFreeSpins"):iU.get("inFreeSpins")):t.game.autoPlay.enabled&&(yield t.game.delay(iU.get("before_spin_auto")),t.game.action.emit("spin:start")),("init"===t.game.server.response.action||t.game.afterFree)&&t.game.slot.playIdle()})()}}class iH extends t${nextState(){return"finish"}get rewards(){return this.game.store.get("reward:lines",[])}get scatters(){return this.game.store.get("reward:scatters",void 0)}enter(){var t=this;return(0,g._)(function*(){t.tryStopAutoPlay(),t.game.action.emit("state:reward_enter"),t.disableControls(),yield t.showSticky(),yield t.showBigWin(),yield t.allPayment(),yield t.scatterPayment(),yield t.complete(),t.game.showRiskButton(),t.removeSticky(),yield t.game.freeSpin.checkFree(),t.game.state.goTo(t.nextState())})()}showSticky(){var t=this;return(0,g._)(function*(){t.game.wildReels&&(t.game.slot.animation.stop(),t.game.slot.overlay(),t.game.action.emit("sound:WildReelShow"),t.game.wildReels.forEach(e=>{t.game.stickyWilds.addSticky(e)}),yield t.game.delay(500),t.game.wildReels.forEach(e=>t.game.slot.hideSymbols(e)),yield t.game.delay(1e3))})()}showBigWin(){var t=this;return(0,g._)(function*(){var e;(null==(e=t.game.bigWin)?void 0:e.available(t.game.wallet.coins))&&(t.game.bigWinAnimation.press(t.breakBigWin.bind(t)),t.game.controls.pressButtonSpin(t.breakBigWin.bind(t)),yield t.game.bigWinAnimation.show(t.game.bigWin.type(t.game.wallet.coins),t.game.wallet.coins),t.game.sound.stopBigWin(),t.disableControls())})()}allPayment(){var t=this;return(0,g._)(function*(){(t.rewards.length>0||t.game.wallet.scatterCoins)&&(t.game.slot.animation.stop(),t.game.controls.disableButtonSpin(),t.game.slot.textTotalWin.once("show",()=>{t.game.fastStopLayout.press(t.breakAllPayment.bind(t),!1),t.game.controls.pressButtonSpin(t.breakAllPayment.bind(t))}),t.game.stickyWilds.playWin(),yield t.game.slot.animation.allPayment(t.rewards),t.disableControls())})()}removeSticky(){var t=this;return(0,g._)(function*(){t.game.wildReels&&(t.game.stickyWilds.removeSticky(),t.game.wildReels.forEach(e=>{let i=t.game.slot.getReelByIndex(e).visibleSymbols[0];i.replaceTexture(12),i.visible=!0,i.removeOverlay()}))})()}scatterPayment(){var t=this;return(0,g._)(function*(){t.scatters&&(yield t.game.slot.animation.scatterPayment(t.scatters))})()}complete(){var t=this;return(0,g._)(function*(){t.game.slot.lines.disable(),t.game.slot.animation.complete(),t.game.action.emit("update:balance")})()}disableControls(){this.game.fastStopLayout.disable(),this.game.controls.disableButtonSpin()}}class i$ extends tl{init(){this.setupSound(),this.setupQuickSpin(),this.bindAutoPlay(),this.setupMenu()}enter(){this.game.action.emit("state:setup_enter")}exit(){this.game.action.emit("state:setup_exit")}setupSound(){let{sound:t}=this.game,e=(e,i)=>{let s=this.game.sound.volume;"all"===e?(this.buttonSound.toggle(!i,s),this.checkboxGameSounds.setChecked(!i),this.checkboxBackgroundSounds.setChecked(!i)):"effects"===e?(this.buttonSound.toggle(!t.mutedAll||!i,s),this.checkboxGameSounds.setChecked(!i)):"background"===e&&(this.buttonSound.toggle(!t.mutedAll||!i,s),this.checkboxBackgroundSounds.setChecked(!i))};this.buttonSound.onChangeVolume.add(t=>{this.game.sound.volume=t}),this.buttonSound.onClick.add(()=>{this.game.sound.toggle("all")}),t.onChangeMute.add(e),t.onChangeVolume.add(e=>{this.buttonSound.toggle(e>0,this.game.sound.volume),this.checkboxGameSounds.setChecked(e>0&&!t.muted("effects")),this.checkboxBackgroundSounds.setChecked(e>0&&!t.muted("background"))}),e("all",t.mutedAll)}setupQuickSpin(){let{quickSpin:t}=this.game;null==(e=this.buttonQuickSpin)||e.onClick.add(()=>{t.toggle()}),t.onToggle.add(t=>{var e;this.checkboxQuickSpin.setChecked(t),null==(e=this.buttonQuickSpin)||e.setActive(t)});var e,i=this;t.onTryEnable.once((0,g._)(function*(t){t((yield i.game.popupManager.show("PopupQuickSpin")))}))}bindAutoPlay(){var t,e,i;null==(t=this.buttonAutoPlayAccept)||t.onClick.add(this.handleClickAutoPlayAccept),null==(e=this.buttonAutoPlay)||e.onEnterClick.add(this.handleClickEnterKey),null==(i=this.buttonAutoPlay)||i.onClick.add(this.handleClickAutoPlay)}setupMenu(){this.menu.on("open",this.onMenuOpen),this.menu.on("close",this.onMenuClose),this.buttonMenu.onClick.add(this.handleClickMenu)}constructor(...t){super(...t),this.slot=this.get("Slot"),this.menu=this.get("Menu"),this.betSettings=this.get("BetSettings"),this.autoPlaySettings=this.get("AutoPlaySettings"),this.riskFeature=this.get("RiskFeature"),this.controls=this.get("Controls"),this.buttonMenu=this.get("ButtonMenu"),this.buttonSound=this.get("ButtonSound"),this.buttonAutoPlay=this.get("ButtonAutoPlay"),this.buttonQuickSpin=this.get("ButtonQuickSpin"),this.buttonAutoPlayAccept=this.get("ButtonAutoPlayAccept"),this.stopItemBalance=this.get("StopItemBalance"),this.stopItemBalanceDrop=this.get("StopItemBalanceDrop"),this.checkboxQuickSpin=this.get("QuickSpinCheckbox"),this.checkboxLeftHand=this.get("LeftHandCheckbox"),this.checkboxFullscreen=this.get("FullscreenCheckbox"),this.checkboxGameSounds=this.get("GameSoundsCheckbox"),this.checkboxBackgroundSounds=this.get("BackgroundSoundsCheckbox"),this.checkboxRiskFeature=this.get("RiskFeatureCheckbox"),this.checkboxIntroScreen=this.get("IntroScreenCheckbox"),this.onMenuOpen=()=>{var t,e;null==(e=this.slot)||null==(t=e.hide)||t.call(e),this.betSettings.close(),this.autoPlaySettings.close(),this.controls.onMenuOpen(),this.game.fullscreen.lock()},this.onMenuClose=()=>{var t,e;null==(e=this.slot)||null==(t=e.show)||t.call(e),this.controls.onMenuClose(),this.game.fullscreen.unlock()},this.handleClickMenu=()=>{this.menu.opened?this.menu.close():this.menu.open(this.game.defaultMenuOpenIndex)};var e=this;this.handleClickAutoPlayAccept=(0,g._)(function*(){e.autoPlaySettings.opened&&(yield e.game.checkBalance(),e.autoPlaySettings.close(),e.stopItemBalance.setStartBalance(e.game.wallet.balance),e.stopItemBalanceDrop.setStartBalance(e.game.wallet.balance),e.game.autoPlay.enable(),e.game.action.emit("spin:start",!1))}),this.handleClickAutoPlay=()=>{if(this.game.autoPlay.enabled)this.game.autoPlay.disable();else{var t;this.menu.close(),this.betSettings.close(),null==(t=this.buttonAutoPlay)||t.setCount(this.game.autoPlay.count),this.autoPlaySettings.setAutoPlayCount(this.game.autoPlay.count),this.autoPlaySettings.toggle()}};var i=this;this.handleClickEnterKey=(0,g._)(function*(){i.game.autoPlay.enabled?i.game.autoPlay.disable():(i.menu.close(),i.betSettings.close(),i.autoPlaySettings.close(),yield i.game.checkBalance(),i.game.autoPlay.setCount(i.game.autoPlay.max),i.stopItemBalance.setStartBalance(i.game.wallet.balance),i.stopItemBalanceDrop.setStartBalance(i.game.wallet.balance),i.game.autoPlay.enable(),i.game.action.emit("spin:start",!1))})}}class iK extends i${}class ij extends tK{enter(){var t=this,e=()=>super.enter;return(0,g._)(function*(){e().call(t),t.game.riskWheel.hideButtonOpen(),t.game.slot.animation.stop(),t.game.slot.lines.disable(),t.game.autoPlay.enabled&&!t.game.store.get("free:isFree",!1)&&(t.game.autoPlay.setCount(t.game.autoPlay.count-1),t.game.controls.setAutoPlayCount(t.game.autoPlay.count)),t.game.controls.onSpinEnter();try{t.game.slot.textTotalWin.hide(),yield t.game.beforeSpin(),t.game.slot.reels.forEach(t=>t.start()),t.game.isFree&&(yield t.game.freeSpin.updateFreeLeft()),yield t.game.spinRequest(t.game.betLevel.bet),t.game.state.goTo("stop")}catch(e){t.game.riskWheel.setRiskBet(0),yield t.game.catchError(e),((null==e?void 0:e.message)===Y.INSUFFICIENT_BALANCE||(null==e?void 0:e.message)===Y.SPENDING_BUDGET_EXCEEDED)&&t.game.state.goTo("stop")}})()}}class iQ extends tj{init(){this._stopReelCounter=0,this._scatterCounter=0,this.game.action.on("wheel:stop",this._onStopWheel,this),this.game.action.on("wheel:stop_down",this._onWheelStopDown,this)}enter(){var t=this,e=()=>super.enter;return(0,g._)(function*(){e().call(t),t._stopReelCounter=0,t._scatterCounter=0;let i=t.game.quickSpin.enabled?t.game.config.get("wheel.durationQuickStop"):t.game.config.get("wheel.durationStop"),s=t.game.config.get("wheel.durationFastStop"),n=t.game.config.get("wheel.durationAnticipantStop");for(let e in t.game.slot.reels){let a=t.game.slot.reels[e];!(t._scatterCounter>0)||t.game.store.get("spin:isFast",!1)||"4"!==e||t.game.isFree||(t.game.slot.playAnticipant(e),a.anticipant(),t.game.action.emit("sound:articipantWheel"),yield t.game.delay(n)),a.stop(),yield t.game.delay(t.game.store.get("spin:isFast",!1)?s:a.isStickyReel?0:i),t.game.slot.stopAnticipant(),a.existScatter()&&t._scatterCounter++}})()}exit(){this.game.store.set("spin:isSpin",!1),this.game.store.set("spin:isFast",!1)}_onWheelStopDown(t){!this.game.store.get("spin:isFast",!1)&&!this.game.isFree&&this.game.slot.reels[t].existScatter()&&this.game.action.emit("sound:scatterReel")}_onStopWheel(t){var e=this;return(0,g._)(function*(){try{e._stopReelCounter++,e.game.slot.playStop(t),e._stopReelCounter>=e.game.slot.reels.length&&("spin"===e.game.server.response.nextAction&&e.game.store.get("spin:isFast",!1)&&e.game.slot.playIdle(),e.game.afterReelsStop(),e.game.state.goTo("reward"))}catch(t){return t}})()}}let iZ=JSON.parse('{"AutoPlaySettingsStopCondButtonReset":"Reset","AutoPlaySettingsStopCondCheckboxBalance":"If Balance Increases By","AutoPlaySettingsStopCondCheckboxBalanceDrop":"If Balance Decreases By","AutoPlaySettingsStopCondCheckboxFeatureBonus":"If Bonus Game Won","AutoPlaySettingsStopCondCheckboxFeatureFreeSpin":"If Free Spins Won","AutoPlaySettingsStopCondCheckboxWin":"If Win","AutoPlaySettingsStopCondCheckboxWinAny":"Any","AutoPlaySettingsStopCondCheckboxWinBig":"Big","AutoPlaySettingsStopCondCheckboxWinGiant":"Giant","AutoPlaySettingsStopCondCheckboxWinMega":"Mega","AutoPlaySettingsStopCondTitle":"STOP AUTOPLAY","AutoPlaySettingsSubTitle":"Setup your best autoplay conditions","AutoPlaySettingsTitle":"AUTOPLAY","BetSettingsLines":"LINES\\n<value>%s</value>","BetSettingsLinesDescription":"<description>Bet is Bet per line * %s (lines)\\nBet per line is %s</description>\\n","BetSettingsTitle":"BET SETTINGS","BetSettingsWays":"WAYS\\n<value>%s</value>","BetSettingsWaysDescription":"<description>Bet is base Bet * %s\\nbase Bet is %s</description>\\n","BuyFeatureButtonText":"BUY","BuyFeaturePopupBuyButton":"Buy","BuyFeaturePopupCloseButton":"Cancel","BuyFeaturePopupTitle":"BUY FEATURE?","BuyFeatureProductBuy":"BUY","BuyFeatureProductRegularTitle":"BUY FEATURE","ControlsDesktopAutoPlayStart":"AUTOPLAY","ControlsDesktopAutoPlayStop":"STOP AUTO","ControlsDesktopBalance":"BALANCE%s\\n<delimiter> \\n</delimiter><value>%s</value>","ControlsDesktopBet":"BET %s\\n<delimiter> \\n</delimiter><value>%s</value>","ControlsDesktopFreeRoundLeft":"FREE ROUND\\n<delimiter> \\n</delimiter><value>%s</value>","ControlsDesktopFreeRoundWin":"TOTAL WIN %s\\n<delimiter> \\n</delimiter><value>%s</value>","ControlsDesktopFreeRoundWinEmpty":"TOTAL WIN","ControlsDesktopFreeSpinsLast":"FREE SPINS LEFT\\n<delimiter> \\n</delimiter><value>LAST</value>","ControlsDesktopFreeSpinsLeft":"FREE SPINS LEFT\\n<delimiter> \\n</delimiter><value>%s</value>","ControlsDesktopLines":"LINES\\n<delimiter> \\n</delimiter><value>%s</value>","ControlsDesktopMaxBet":"MAX BET","ControlsDesktopTotalWin":"TOTAL WIN %s\\n<delimiter> \\n</delimiter><value>%s</value>","ControlsDesktopWays":"WAYS\\n<delimiter> \\n</delimiter><value>%s</value>","ControlsDesktopWin":"WIN %s\\n<delimiter> \\n</delimiter><value>%s</value>","Currency":"CURRENCY\\n<value>%s</value>","FeatureBigWinBig":"BIG WIN","FeatureBigWinGiant":"GIANT WIN","FeatureBigWinMax":"MAXIMUM WIN","FeatureBigWinMega":"MEGA WIN","FeatureBonusTitle":"BONUS","FeatureBonusTotalMultiplier":"TOTAL MULTIPLIER","FeatureFreeSpinsTextExtra":"EXTRA FREE\\nSPINS","FeatureFreeSpinsTextLastLeft":"LAST FREE\\nSPIN","FeatureFreeSpinsTextLeft":"FREE SPINS\\nLEFT","FeatureFreeSpinsTextPlayed":"FREE SPINS PLAYED","FeatureRespinStart":"FREE RESPIN","FeatureRiskButtonCollect":"COLLECT","FeatureRiskButtonOpen":"RISK","FeatureRiskButtonRisk":"RISK","FeatureRiskCurrentWinText":"YOU WON","FeatureRiskHeaderTitle":"RISK GAME","FeatureRiskMaxWinReachedText":"Maximum win reached","FeatureRiskMaxWinValue":"Maximum possible winnings","FeatureRiskMissText":"MISS","FeatureRiskNBuyButtonBuy":"BUY","FeatureRiskNBuyButtonRisk":"RISK","FeatureRiskTextOr":"OR","GameRulesAdvancedAutoPlayContent":"Advanced autoplay settings are available in the section with standard autoplay settings. You can set the conditions for stopping the game in automatic mode:\\n\\n<bold>if win any/big/giant</bold> - autoplay will be stopped after any/big/giant win\\n\\n<bold>if balance increased by 10%-100%</bold> - autoplay will stop when your balance increases by the selected %\\n\\n<bold>if balance decreased by 10%-100%</bold> - autoplay will be interrupted when your balance decreases by the selected %\\n\\nClick <bold>Reset</bold> to reset all autoplay settings","GameRulesAdvancedAutoPlayTitle":"Advanced Autoplay Settings","GameRulesAutoPlayContent":"Select the number of game rounds to play in automatic mode by pressing the button with the corresponding number, or press the button with the infinity sign to play in automatic mode until the autoplay is manually canceled or until the balance runs out. Your choice must be confirmed with the Start button.","GameRulesAutoPlayTitle":"Autoplay Options","GameRulesBestExperience":"Please note that you can only play one game at a time on each account. Therefore, you cannot play a game on more than one device, or multiple games on the same device simultaneously. Doing so may lead to various errors.\\n\\nFor the best gaming experience, we recommend using the latest version of the relevant software.","GameRulesGeneralMaxWin":"Max Win: x%s\\nMax Win Rate: %s%","GameRulesGeneralRTP":"Theoretical RTP: %s%","GameRulesGeneralRTPInfo":"The RTP value was calculated with 10 000 000 number of spins during the month of %s","GameRulesGeneralRTPRnB":"Theoretical RTP Risk&Buy: %s%","GameRulesGeneralRTPStringTypeInfo":"The RTP value was calculated with %s number of spins during the month of %s","GameRulesGeneralTitle":"General Info","GameRulesInterfaceAutoPlay":"Click to go to autoplay menu","GameRulesInterfaceBalance":"Here is your current balance","GameRulesInterfaceBetLevel":"Button to access the bet size selection menu. The current bet size is indicated on the game screen. The screen also shows your current balance and winnings for the current game round","GameRulesInterfaceContent":"All buttons of the game interface are listed below. Please note that the appearance and location of the buttons may differ slightly depending on the format in which the game is launched and what feature it is currently in.","GameRulesInterfaceGameHistory":"Click to go to the game history page","GameRulesInterfaceMenu":"Click to access the game menu","GameRulesInterfaceQuickSpin":"Click to enable/disable quick spin","GameRulesInterfaceSound":"Turn game sound on/off and adjust sound volume","GameRulesInterfaceSpin":"Click to start the game round at the current bet. In the desktop version of the game, the button may have an alternative design","GameRulesInterfaceTitle":"Game Interface","GameRulesInterfaceWin":"Here is the win in the current game round","GameRulesSettingsContent":"To go to the settings menu, click the cogwheel icon in the game menu","GameRulesSettingsContentItemBackgroundSound":"<bold>Background music</bold> - turns on/off background music in the game","GameRulesSettingsContentItemFullscreen":"<bold>Full Screen</bold> - enables/disables full screen mode","GameRulesSettingsContentItemGameSound":"<bold>Game sound</bold> - turns on/off the sound effects of the game","GameRulesSettingsContentItemQuickSpin":"<bold>Quick Spin</bold> - turns on/off the function of the accelerated mode of rotation and stop of the reels","GameRulesSettingsTitle":"Game Settings","GameRulesTerms1Free":"<bold>+1 Free</bold>  +1 Free","GameRulesTermsClickMe":"<bold>Click Me</bold>  Click Me","GameRulesTermsDescription":"Game graphics may use English Terms.","GameRulesTermsFreeSpins":"<bold>Free Spins</bold>  Free Spins","GameRulesTermsMultiplier":"<bold>Multiplier</bold>  Multiplier","GameRulesTermsRandomWild":"<bold>Random Wild</bold>  Random Wild","GameRulesTermsShootingBonus":"<bold>Shooting Bonus</bold>  Shooting Bonus","GameRulesTermsStopFree":"<bold>Stop Free</bold>  Stop Free","GameRulesTermsTitle":"Game Terms","GameRulesTermsVampireHunt":"<bold>Vampire Hunt</bold>  Vampire Hunt","GameRulesTermsVoodooBonus":"<bold>Voodoo Bonus</bold>  Voodoo Bonus","GameRulesTermsWerewolfHunt":"<bold>Werewolf Hunt</bold>  Werewolf Hunt","GameRulesTermsWildReel":"<bold>Wild Reel</bold>  Wild Reel","GameSettingsBackgroundSounds":"Background Music","GameSettingsFullscreen":"Full Screen","GameSettingsGamble":"Gamble","GameSettingsGameSounds":"Game Sounds","GameSettingsIntroScreen":"Intro Screen","GameSettingsLeftHand":"Left Hand Mode","GameSettingsQuickSpin":"Quick Spin","GameSettingsRiskFeatureCheckbox":"Risk&Buy","GameSettingsTitle":"GAME SETTINGS","GlobalMaxWinRateTitle":"RATE: %s%","GlobalMaxWinTitle":"MAX WIN: x%s","GlobalRTPTitle":"RTP: %s%","IntroScreenButtonPlay":"PLAY","IntroScreenHideButtonText":"Don\'t show next time","IntroScreenLoaderText":"LOADING","MenuDesktopButtonFullscreen":"FULLSCREEN","MenuDesktopButtonHome":"HOME","MenuDesktopButtonPaytable":"PAYTABLE","MenuDesktopButtonQuickspin":"QUICKSPIN","MenuDesktopButtonSound":"SOUND","MenuGameRules":"GAME INFORMATION","MenuMobileBetSettingsTitle":"BET SETTINGS","MenuMobileGameSettingsLeftHand":"Left Hand Mode","MenuMobileGameSettingsQuickspin":"Quick Spin","MenuMobileGameSettingsSounds":"Game Sounds","MenuMobileGameSettingsTitle":"GAME SETTINGS","MenuMobilePaytableTitle":"PAYTABLE","MenuPaytable":"PAYTABLE","MenuSettings":"SETTINGS","NetPositionTitle":"Net Position: %s","PlayForFun":"Play for fun","PopupActionClose":"Close","PopupActionContinue":"Continue","PopupActionEnable":"Enable","PopupActionExit":"Exit","PopupActionNo":"No","PopupActionReload":"Reload","PopupActionYes":"Yes","PopupFreeRoundAddMoreMessage":"Free Rounds available. Please reload the game.","PopupFreeRoundAddMoreTitle":"Free Rounds","PopupFreeRoundEndMessage":"The next spins will use your bonus amount","PopupFreeRoundEndMessageBreakLineNew":"Congratulations!\\nYou won %s\\nwith bet %s\\n%s Free Rounds played\\nContinue in the main game\\nusing the bonus balance","PopupFreeRoundEndMessageNew":"Congratulations!\\nYou won %s\\nwith bet %s\\n%s Free Rounds played\\nContinue in the main game using the bonus balance","PopupFreeRoundEndMessageNewExit":"Congratulations!\\nYou won %s\\nwith bet %s\\n%s Free Rounds played","PopupFreeRoundEndTitle":"Free Rounds Completed","PopupFreeRoundEndTitleNew":"Free Rounds\\nCompleted","PopupFreeRoundLastMessage":"Congratulations, you have\\n last Free Round","PopupFreeRoundLastMessageNew":"Congratulations!\\nYou have last Free Round\\nwith bet %s","PopupFreeRoundStartMessage":"Congratulations, you have\\n%s Free Rounds","PopupFreeRoundStartMessageNew":"Congratulations!\\nYou have %s Free Rounds\\nwith bet %s","PopupFreeRoundStartTitle":"Free Rounds Bonus","PopupFreeRoundStartTitleNew":"Free Rounds","PopupFreeSpinsButton":"CLICK ANYWHERE TO CONTINUE","PopupFreeSpinsNoWinStop":"Free Spins completed","PopupFreeSpinsStopDescription":"<value>%s FREE SPINS</value> PLAYED","PopupFreeSpinsStopDescriptionNew":"%s Free Spins played","PopupFreeSpinsTitle":"CONGRATULATIONS","PopupFreeSpinsTitleNew":"CONGRATULATIONS! YOU WON","PopupFreeSpinsTitleRestore":"IN-GAME FEATURE RESTORED!","PopupFreeSpinsWinRestore":"<value>%s FREE SPINS</value> LEFT","PopupFreeSpinsWinRestoreLast":"<value>LAST FREE SPIN</value> LEFT","PopupFreeSpinsWinStart":"YOU WON <value>%s FREE SPINS</value>","PopupFreeSpinsWinStartNew":"%s FREE SPINS","PopupFreeSpinsWinStop":"YOU WON <value>%s</value>","PopupFreeSpinsWinStopNew":"YOU WON","PopupGameSessionUnavailableMessage":"Game session is closed","PopupGameSessionUnavailableTitle":"Game session error","PopupMaxLimitMessage":"Bet exceeded max bet limit.","PopupMaxLimitTitle":"Max limit","PopupNetworkErrorMessage":"Please reload the game.","PopupNetworkErrorTitle":"Connection Lost","PopupQuickSpinMessage":"It seems you prefer to play a bit faster.\\nWould you like to enable Quick Spin?","PopupQuickSpinTitle":"Quick Spin","PopupRestoreMessage":"In-game feature restored!","PopupRiskNBuyContentBuy":"Buy in a feature for %s\\nthat will play at the bet %s","PopupRiskNBuyContentRisk":"Take the risk of winning %s\\nto get a feature at the bet %s","PopupRiskNBuyTitleBuy":"BUY IN FEATURE","PopupRiskNBuyTitleRisk":"RISK FEATURE","PopupSoundMessage":"Play with sound?","PopupSpendingBudgetMessage":"You have reached your play limit.\\nWelcome back later.","PopupSpendingBudgetTitle":"Play limit","PopupUnexpectedErrorMessage":"An unexpected situation.\\nReload the page.","PopupUnexpectedErrorTitle":"Unexpected situation","PopupZeroBalanceMessage":"Please change your BET LEVEL or top up your balance","PopupZeroBalanceTitle":"Insufficient funds","RiskFeatureButtonText":"RISK","RiskNBuyBuyFor":"BUY FOR %s","RiskNBuyFreeSpinsText":"FREE SPINS","RiskNBuyOnBet":"ON BET %s","RiskNBuySubHeader":"RISK YOUR WIN\\nTO PLAY","RiskWheelTotalWinText":"YOUR WINNINGS","RiskWheelTotalWinTitle":"CONGRATULATIONS","StatusBarMobileBalance":"BALANCE %s\\n","StatusBarMobileBet":"BET %s\\n","StatusBarMobileFreeLast":"FREE SPINS LEFT\\n<value>LAST</value>","StatusBarMobileFreeLeft":"FREE SPINS LEFT\\n<value>%s</value>","StatusBarMobileFreePlayed":"FREE SPINS PLAYED\\n","StatusBarMobileFreeRoundLeft":"FREE ROUND\\n","StatusBarMobileTotalWin":"TOTAL WIN %s\\n","StatusBarMobileWin":"WIN %s\\n","TimeElapsedTitle":"Time Elapsed: %s","TotalWinTitleGloriousWin":"glorious win","TotalWinTitleGoodWin":"good win","TotalWinTitleGreatWin":"great win","TotalWinTitleSuperWin":"super win","TotalWinTitleSuperbWin":"superb win","TotalWinTitleWin":"win"}'),iq=JSON.parse('{"BigWinText":"BIG WIN","ControlsDesktopFreeSpinsPlayed":"FREE SPINS PLAYED\\n<delimiter> \\n</delimiter><value>%s</value>","FeatureFreeSpinsText":"FREE SPIN","GameSettingsRiskFeatureCheckbox":"Risk game","GiantWinText":"GIANT WIN","IntroScreenDescription0":"2 Scatters trigger Infinite Free Spins!","IntroScreenDescription1":"Wilds expand across the entire reel in Free Spins!","IntroScreenDescription2":"Risk any winnings and win up to x1000!","PaytableSectionBetLinesContent1":"Only the highest win per bet line is paid. All prizes are for combinations left to right, beginning from the leftmost reel. The payout values are based on the currently selected bet and change proportionally with its changes. The game is played with fixed bet lines. Malfunction voids all pays and plays.","PaytableSectionBetLinesTitle":"Bet lines","PaytableSectionFreeContent1":"During Free Spins, the Wild symbol expands to the entire reel on which it appears and substitutes all symbols except Scatter symbols.\\n\\nFree Spins will continue until 2 Scatter symbols appear on the screen.\\n\\nFree Spins play automatically with the bet with which they were won. All payouts are made according to the paytable.","PaytableSectionFreeTitle":"Infinite Free Spins","PaytableSectionPayoutTitle":"Symbol payout values","PaytableSectionRiskContent1":"The Risk game will allow the player to try to increase their winnings by earning a win multiplier. The maximum multiplier in the Risk game is x1000 to the total bet. If the player decides to risk their winnings in the Risk game, then the winnings will be credited to the balance at the end of the Risk game, and in case of a loss, it will be deducted from the balance as a bet.\\n\\nThe Risk game is not available in autoplay mode.","PaytableSectionRiskTitle":"Risk game","PaytableSectionScatterContent1":"Scatter symbols can appear in the main game and Free Spins on reels 1 and 5 only. 2 Scatter symbols in the main game trigger the Infinite Free Spins.","PaytableSectionScatterTitle":"Scatter symbol","PaytableSectionWildContent1":"Wild symbols substitute for all symbols exept for Scatter symbols. Wild symbols can appear in the main game and Free Spins on reels 2, 3 and 4 only.","PaytableSectionWildTitle":"Wild symbol","PopupFreeSpinsDescription":"2 SCATTERS WILL END THE FEATURE","PopupFreeSpinsWinStart":"YOU WON\\n<value>INFINITE FREE SPINS</value>","PopupFreeSpinsWinStop":"YOU WON\\n<value>%s</value>","RiskGameHeaderText":"RISK GAME","RiskWheel.TextOr":"OR","RiskWheelButtonCollect":"COLLECT","RiskWheelButtonOpen":"RISK","RiskWheelButtonRisk":"RISK","RiskWheelCurrentWinValue":"YOU WON","RiskWheelMaxWinReached":"Maximum win reached","RiskWheelMaxWinValue":"Maximum possible\\nwinnings","RiskWheelMissValue":"MISS","ScreenTips0":"<text>Win up to x1000!</text>","ScreenTips1":"<text>2 <scatter/> trigger Infinite Free Spins!</text>","ScreenTips2":"<text>Risk any winnings and win up to x1000!</text> ","ScreenTips3":"<text><wild/> expand across the entire reel!</text>","ScreenTips4":"<text>2 <scatter/> will finish the Free Spins!</text>"}'),iJ=(0,O._)({},iZ,iq);class i0 extends tr(tT){resize(){this.game.device.desktop||(this.game.device.portrait?this.scale.set(1.4):(this.scale.set(1),this.style.fontSize=10))}constructor(t){super("",{default:{fontSize:50,fill:t,fontFamily:"Avenir-Bold",align:"center"}}),this.anchor.set(.5),this.text=this.game.i18n.t("IntroScreenLoaderText")}}class i1 extends tr(eD){toggle(t){this.changeIcon(t?this._textureOn:this._textureOff)}resize(){this.showBackground(!this.game.device.desktop),this.scale.set(this.game.device.desktop?1:1.6),this.game.device.portrait&&!this.game.device.desktop?this.position.set(965,119):this.game.device.landscape&&!this.game.device.desktop?this.position.set(1785,133):this.position.set(1839.5,1012)}constructor(){var t;super(),this.name="IntroButtonSound",this.disable(),this._textureOn=this.game.loader.getAsset("iconSoundOn"),this._textureOff=this.game.loader.getAsset("iconSoundOff"),this.onClick.add(()=>{this.game.sound.toggle("all"),this.toggle(!this.game.sound.mutedAll)}),this.toggle(null!=(t=this.game.store.get("gameSoundEnabled"))?t:this.game.preferences.get("volume",!0))}}class i2 extends tr(k.Container){setupSoundButton(){this.buttonSound=new i1,this.buttonSound.zIndex=1,this.addChild(this.buttonSound)}setupPagination(){var t;null==(t=this.pagination)||t.buttons.forEach((t,e)=>{this.game.interaction.click(t,()=>{clearInterval(this.toggleInterval),clearTimeout(this.hideTimeoutId),this.toggleScreen(e)})})}setupArrows(){var t;null==(t=this.arrows)||t.allArrows.forEach(t=>{this.game.interaction.click(t,()=>{clearInterval(this.toggleInterval),clearTimeout(this.hideTimeoutId),this.arrowClick(t.side)})})}setupHideButton(){this.hideButton.onClick.add(t=>{clearInterval(this.toggleInterval),clearTimeout(this.hideTimeoutId),this.game.preferences.set("showIntroScreen",t)})}setupSlides(){this.toggleScreen(0)}arrowClick(t){1!==this.visibleViewsCount&&("left"===t&&0===this.currentViewIndex?this.toggleScreen(this.visibleViewsCount-1):"right"===t&&this.currentViewIndex===this.visibleViewsCount-1?this.toggleScreen(0):this.toggleScreen("left"===t?this.currentViewIndex-1:this.currentViewIndex+1))}toggleScreen(t){var e,i,s;null==(e=this.visibleViews[this.currentViewIndex])||e.hide(),this.currentViewIndex=t,null==(i=this.visibleViews[this.currentViewIndex])||i.show(),null==(s=this.pagination)||s.toggleButton(this.currentViewIndex)}updateProgress(t){}play(){return new Promise(t=>{this.buttonSound.enable(),this.playButton.visible=!0,this.loaderText&&(this.loaderText.visible=!1,this.loaderAnimation.kill()),this.spaceKey.onPress.add(()=>this.onEnd.dispatch()),this.onEnd.once(()=>{clearTimeout(this.hideTimeoutId),clearInterval(this.toggleInterval),this.spaceKey.onPress.detachAll(),t(),x.kX.to(this,.5,{pixi:{alpha:0},onComplete:()=>{this.game.rootNode.removeChild(this)}})}),this.hideTimeoutId=setTimeout(()=>this.onEnd.dispatch(),this.hideTimeout*this.visibleViewsCount),this.game.interaction.click(this.playButton,()=>this.onEnd.dispatch())})}get visibleViews(){return this.slides.filter(t=>t.visible)}get visibleViewsCount(){return this.visibleViews.length}createDelimeter(t,e){let i=new k.Graphics;return i.beginFill(t,1),i.drawRect(0,0,e,4),i.endFill(),i}createLoadingText(t){return this.addChild(new i0(t))}constructor(t=4e3){super(),this.visible=!0,this.interactive=!0,this.sortableChildren=!0,this.currentViewIndex=0,this.slides=[],this.hideTimeoutId=null,this.hideTimeout=t,this.toggleInterval=setInterval(()=>{if(this.currentViewIndex===this.visibleViewsCount-1){clearInterval(this.toggleInterval);return}this.toggleScreen(this.currentViewIndex+1)},4e3),this.game.interaction.click(this,()=>clearTimeout(this.hideTimeoutId),this),this.onEnd=new I.Z,this.spaceKey=this.game.keyboard.register(this.game.keyboard.KEY_CODE.Space),this.game.interaction.swipeX(this,t=>{1!==this.visibleViewsCount&&(clearInterval(this.toggleInterval),clearTimeout(this.hideTimeoutId),this.arrowClick(t))}),this.loaderText=this.createLoadingText(0),this.loaderAnimation=x.kX.to(this.loaderText,.5,{pixi:{scale:1.1},repeat:1/0,yoyo:!0}),this.setupSoundButton()}}class i5 extends tr(k.Sprite){btnOn(t){this.enabled=!0,this.texture=this.game.loader.getAsset("assets/images/introScreen/texture.json",`btnOn${null!=t?t:""}`)}btnOff(){this.enabled=!1,this.texture=this.game.loader.getAsset("assets/images/introScreen/texture.json","btnOff")}disable(){this.interactive=!1,this.cursor="default"}enable(){this.enabled||(this.interactive=!0,this.cursor="pointer")}constructor(){super(),this.interactive=!0,this.cursor="pointer",this.enabled=!1,this.texture=this.game.loader.getAsset("assets/images/introScreen/texture.json","btnOff")}}class i6 extends tr(k.Container){setChecked(t){this.checked=t,this.checked?this.button.btnOff():this.button.btnOn()}constructor(t){super(),this.interactive=!0,this.cursor="pointer",this.checked=!1,this.onClick=new I.Z,this.button=this.addChild(new i5),this.buttonText=this.addChild(new tT("",{default:{fill:t,fontFamily:"Avenir-Bold",fontSize:20,align:"center",dropShadow:!0,dropShadowAlpha:.5,dropShadowAngle:.5,dropShadowDistance:4,lineJoin:"round",strokeThickness:10}})),this.buttonText.text=this.game.i18n.t("IntroScreenHideButtonText"),this.buttonText.anchor.set(0,.5),this.game.interaction.click(this,()=>{let t=!this.checked;this.setChecked(t),this.onClick.dispatch(t)}),this.setChecked(this.game.preferences.get("showIntroScreen",!0))}}class i8 extends tr(k.Sprite){constructor(){super(),this.interactive=!0,this.buttonMode=!0,this.texture=this.game.loader.getAsset("assets/images/introScreen/texture.json","btnPlay")}}class i3 extends tr(k.Container){resize(){if(this.game.device.desktop||this.game.device.landscape){this.position.set(270,210),this._offset=0;for(let t=0;t<3;t++){let e=this._itemContainer.children[t];"plus"===e.children[1].name&&(e.children[1].visible=!0),e.position.set(this._offset+50,0),this._offset=e.x+e.width}}else{this.position.set(-185,235),this._offset=0;for(let t=0;t<3;t++){let e=this._itemContainer.children[t];"plus"===e.children[1].name&&(e.children[1].visible=!1),t<2?e.position.set(this._offset+250,100):(2===t&&(this._offset=300),e.position.set(this._offset+250,e.height+100)),this._offset=e.x+350}}}constructor(t,e=!1){super(),this._itemContainer=this.addChild(new k.Container),this._offset=0;for(let t=0;t<3;t++){let e=this._itemContainer.addChild(new k.Container),i=e.addChild(new k.Sprite(this.game.loader.getAsset("assets/images/introScreen/texture.json",`${t}`)));if(e.position.set(this._offset+50,0),t<2){let t=e.addChild(new k.Sprite(this.game.loader.getAsset("assets/images/introScreen/texture.json","+")));t.name="plus",t.position.set(i.width,200),this._offset=e.x+i.width}let s=e.addChild(new k.Text(this.game.i18n.t(`IntroScreenDescription${t}`),{fontSize:"ja"===this.game.i18n.language?30:32,fill:16777215,align:"center",fontFamily:"Avenir-Bold",wordWrap:!0,wordWrapWidth:450,stroke:"#34006a",strokeThickness:4,breakWords:"ja"===this.game.i18n.language}));s.anchor.x=.5,s.position.set(i.x+i.width/2,i.height)}}}class i7 extends i2{createLoadingText(){return super.createLoadingText(16763651)}resize(){this.logo.position.set(this.game.viewport.width/2,0),this.content.scale.set(1),this.content.position.set(0,this.game.device.portrait&&!this.game.device.desktop?40:0),this.game.device.portrait&&!this.game.device.desktop?(this.logo.scale.set(1.3),this.playButton.scale.set(1.4),this.playButton.position.set(this.game.viewport.width/2,1600),this.loaderText.scale.set(1.4),this.loaderText.position.set(this.game.viewport.width/2,1600),this.hideButton.position.set(330,1750),this.hideButton.button.scale.set(1.6),this.hideButton.buttonText.scale.set(1.5),this.hideButton.buttonText.position.set(82,47)):(this.logo.scale.set(.9),this.playButton.scale.set(1),this.playButton.position.set(this.game.viewport.width/2,this.game.device.desktop?912:930),this.loaderText.scale.set(1),this.loaderText.position.set(this.game.viewport.width/2,this.game.device.desktop?912:940),this.hideButton.position.set(1330,880),this.hideButton.button.scale.set(1.3),this.hideButton.buttonText.position.set(72,34))}constructor(){super(),this.overlay=this.addChildAt(new tw(.75),0),this.content=this.addChild(new k.Container);let t=this.content.addChild(new i3(0));this.slides.push(t),this.logo=this.content.addChild(new k.Sprite(this.game.loader.getAsset("logo"))),this.logo.anchor.x=.5,this.playButton=this.content.addChild(new i8),this.playButton.visible=!1,this.playButton.anchor.set(.5),this.buttonText=this.playButton.addChild(new k.Text(this.game.i18n.t("IntroScreenButtonPlay"),{align:"center",dropShadow:"ro"!==this.game.i18n.language,dropShadowAngle:1.5,dropShadowBlur:10,dropShadowColor:"#600000",dropShadowDistance:2,fill:["#ffffff","#fff600"],fillGradientStops:[.3,1],fontFamily:"Avenir-Bold",fontSize:60,stroke:"#600000",strokeThickness:10})),this.buttonText.anchor.set(.5),this.buttonText.scale.set(.7),this.buttonText.position.set(0,-5),this.hideButton=this.content.addChild(new i6("#fff464")),this.setupHideButton()}}class i4 extends tT{autoPlayTween(t){this.killAutoPlayTween(),x.kX.to(this,1,{pixi:{scale:1.05},repeat:5,yoyo:!0,onComplete:t})}killAutoPlayTween(){x.kX.killTweensOf(this),this.scale.set(1)}constructor(){super("",{default:{fontFamily:"Avenir-Bold",fill:16777215,fontSize:40,align:"center",wordWrap:!0,strokeThickness:8}}),this.anchor.set(.5,0)}}class i9 extends tT{constructor(){super("",{default:{fill:"#ffffff",fillGradientStops:[.4],fontFamily:"Avenir-Bold",align:"center",fontSize:50,wordWrap:!0,lineJoin:"round",miterLimit:13,stroke:"#860000",strokeThickness:12},value:{fill:16763904}}),this.anchor.set(.5)}}class st extends tT{constructor(){super("",{default:{fill:["#ffffff","#ffec3d"],fillGradientStops:[.4],fontFamily:"Avenir-Bold",fontSize:65,align:"center",stroke:"#960000",strokeThickness:16,wordWrap:!0}}),this.anchor.set(.5,1)}}class se extends tT{constructor(){super("",{default:{fill:"#ffffff",fillGradientStops:[.4],fontFamily:"Avenir-Bold",align:"center",fontSize:80,wordWrap:!0,lineJoin:"round",miterLimit:13,stroke:"#860000",strokeThickness:15},value:{fill:["#fcff00","#00ff06"],fillGradientStops:[.4],fontFamily:"Avenir-Bold",fontSize:80,stroke:"#a40101",strokeThickness:16}}),this.anchor.set(.5)}}class si extends tr(k.Container){restore(){return new Promise(t=>{this.once("complete",t),this._title.text=this.game.i18n.t("PopupFreeSpinsTitleRestore"),this._win.text=this.game.i18n.t("PopupFreeSpinsWinStart"),this._description.text=this.game.i18n.t("PopupFreeSpinsDescription"),this._buttonText.text=this.game.i18n.t("PopupFreeSpinsButton"),this.show(),this.resize(),this._keyboardSpace.enable(),this.interactive=!0})}start(t=!1){return new Promise(e=>{this.once("complete",e),this._bgAnimation.play("appear"),this._title.text=this.game.i18n.t("PopupFreeSpinsTitle"),this._win.text=this.game.i18n.t("PopupFreeSpinsWinStart"),this._description.text=this.game.i18n.t("PopupFreeSpinsDescription"),this._buttonText.text=this.game.i18n.t("PopupFreeSpinsButton"),t&&this._buttonText.autoPlayTween(()=>this.close()),this.show(),this.resize(),x.kX.killTweensOf(this._content),x.kX.fromTo(this._content,.3,{pixi:{alpha:0}},{pixi:{alpha:1},onComplete:()=>{this._keyboardSpace.enable(),this.interactive=!0}})})}end(t,e,i=!1){return new Promise(s=>{this.once("complete",s),this._bgAnimation.play("appear"),this._title.text=this.game.i18n.t("PopupFreeSpinsTitle"),this._win.text=this.game.i18n.t("PopupFreeSpinsWinStop",`${this.game.helpers.toMoney(e)}	${this.game.i18n.currency()}`),this._description.text=this.game.i18n.t("PopupFreeSpinsStopDescriptionNew",t),this._buttonText.text=this.game.i18n.t("PopupFreeSpinsButton"),i&&this._buttonText.autoPlayTween(()=>this.close()),this.show(),this.resize(),x.kX.killTweensOf(this._content),x.kX.fromTo(this._content,.3,{pixi:{alpha:0}},{pixi:{alpha:1},onComplete:()=>{this._keyboardSpace.enable(),this.interactive=!0}})})}close(){var t=this;return(0,g._)(function*(){t.interactive=!1,t._keyboardSpace.disable(),t._buttonText.killAutoPlayTween(),x.kX.fromTo(t._content,.4,{pixi:{alpha:1}},{delay:.2,pixi:{alpha:0}}),yield t._bgAnimation.play("decay"),t.interactive=!0,t._keyboardSpace.enable(),t.emit("complete"),t.hide()})()}resize(){this.hitArea=new k.Rectangle(-this.game.viewport.paddingX,0,this.game.viewport.width+2*this.game.viewport.paddingX,this.game.viewport.height+2*this.game.viewport.paddingY),this._title.scale.set(1),this._title.position.set(0,135),this._title.setTagStyle("default",{wordWrapWidth:this.game.viewport.width,breakWords:"ja"===window.language}),tf({width:800,height:150},this._title),this._win.position.set(0,350),this._win.setTagStyle("default",{wordWrapWidth:1200}),tf({width:650,height:400},this._win),this._description.position.set(0,520),this._description.setTagStyle("default",{wordWrapWidth:900}),tf({width:600,height:400},this._description),this._buttonText.setTagStyle("default",{wordWrapWidth:this.game.viewport.width-200,breakWords:"ja"===window.language}),this._buttonText.position.set(0,!this.game.device.desktop&&this.game.device.portrait?770:670),this._content.position.set(this.game.viewport.width/2,!this.game.device.desktop&&this.game.device.portrait?698:273),this._bgAnimation.position.set(!this.game.device.desktop&&this.game.device.portrait?536:960,this.game.viewport.height/2)}constructor(){super(),this.visible=!1,this.cursor="pointer",this.interactive=!1,this._bgAnimation=this.addChild(new tm(this.game.loader.getAsset("assets/images/effects/popupFreeSpins/skeleton.json"))),this._content=this.addChild(new k.Container),this._content.interactive=!1,this._content.interactiveChildren=!1,this._title=this._content.addChild(new st),this._title.anchor.y=.5,this._win=this._content.addChild(new se),this._description=this._content.addChild(new i9),this._buttonText=this._content.addChild(new i4),this._timeline=new x.TY({paused:!0}),this._timeline.set([this._content],{pixi:{alpha:0}}).to(this._content,.3,{pixi:{alpha:1}},.5),this._keyboardSpace=this.game.keyboard.register(this.game.keyboard.KEY_CODE.Space),this._keyboardSpace.onPress.add(()=>this.close()),this._keyboardSpace.disable(),this.game.interaction.click(this,()=>this.close())}}class ss extends tc{checkFree(){var t=this;return(0,g._)(function*(){t.game.store.get("free:isStart",!1)?yield t.start():t.game.store.get("free:isEnd",!1)&&(yield t.end())})()}updateFreeLeft(){if(!this.game.isFree||this.game.isNextAction("spin"))return;let t=this.game.store.get("free:played",0)+1;this.game.controls.updateFreeLeft(t),this.game.slot.updateFreeLeft(t)}beforeFreeSpinsPopup(){this.game.slot.beforeFreeSpinsPopup(),this.game.background.logo.alpha=0,this.game.controls.beforeFreeSpinsPopup()}start(){var t=this;return(0,g._)(function*(){t.game.isFree=!0,t.game.fastStopLayout.disable(),t.beforeFreeSpinsPopup(),t.game.tips.hide(),t.game.slot.updateFsReels(),t.game.controls.updateFreeLeft(t.game.store.get("free:left",0)),t.game.action.emit("free:start"),t.game.action.emit("sound:free_start"),yield t.overlay.start(t.game.autoPlay.enabled),t.game.slot.animation.complete(),t.game.tips.free().show(),t.game.slot.alpha=1,t.game.background.logo.alpha=1})()}end(){var t=this;return(0,g._)(function*(){t.game.fastStopLayout.disable(),yield t.game.delay(iU.get("afterFreeSpins")),t.game.tips.hide(),t.beforeFreeSpinsPopup(),t.game.isFree=!1,t.game.slot.updateAfterFsReels(),t.game.action.emit("free:stop"),t.game.action.emit("sound:free_stop"),yield t.overlay.end(t.game.store.get("free:count",0),t.game.store.get("free:win",0),t.game.autoPlay.enabled),t.game.fastStopLayout.disable(),!t.game.riskWheel.available||t.game.isFree||t.game.autoPlay.enabled||t.game.riskWheel.showButtonOpen(!0),t.game.tips.base(t.game.preferences.get("showRiskFeature",!0)).show(),t.game.slot.alpha=1,t.game.background.logo.alpha=1,t.game.slot.reels.forEach(t=>{t.visibleSymbols.forEach(t=>{t.visible=!0})}),t.game.slot.playIdle(),yield t.game.delay(600)})()}restore(){var t=this;return(0,g._)(function*(){t.game.isFree=!0,t.beforeFreeSpinsPopup(),t.game.tips.hide(),t.game.controls.updateFreeLeft(t.game.store.get("free:left",0)),t.game.action.emit("free:restore"),t.game.action.emit("sound:free_start"),yield t.overlay.restore(),t.game.slot.alpha=1,t.game.background.logo.alpha=1,t.game.tips.free().show()})()}_onFreeOverlayComplete(){this.game.action.emit("sound:click"),this.game.store.get("free:isEnd",!1)?this.game.action.emit("free:select_stop"):this.game.action.emit("free:select_start")}constructor(t){super(t),this.game=t,this.overlay=new si,this.overlay.on("complete",this._onFreeOverlayComplete,this)}}class sn extends td{show(){var t;null==(t=this.view)||t.show()}hide(){var t;null==(t=this.view)||t.hide()}base(t){var e;return null==(e=this.view)||e.base(t),this}free(){var t;return null==(t=this.view)||t.free(),this}risk(t){var e;return null==(e=this.view)||e.risk(t),this}constructor(t){super(),this.game=t}}let sa={default:{valign:"middle",fontSize:21,fontFamily:"Avenir-Bold",fill:"#ffffff",stroke:"#3b1694",strokeThickness:8,fillGradientType:k.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[.3,1],wordWrap:!0,wordWrapWidth:1e3,align:"center",iconScale:4.5,imgDisplay:"icon",lineSpacing:-30,lineHeight:25},text:{fontSize:30}};class so extends tr(k.Container){resize(){this.game.device.desktop||this.game.device.landscape?this._text.setStyleForTag("text",{fontSize:32}):this._text.setStyleForTag("text",{fontSize:["fr"].includes(this.game.i18n.language)?37:40}),this.pivot.set(480,this.height/2)}constructor(t,e){super(),sa.default.lineSpacing=0===Object.keys(e).length?-7:-35,this._text=this.addChild(new tB.Z(this.game.i18n.t(t),sa,{imgMap:e}))}}class sh extends tr(k.Container){restart(){var t;this.children.forEach(t=>t.alpha=0),null==(t=this._timeline)||t.kill(),this._timeline=new x.TY({repeat:-1,repeatDelay:0});let e=this.children.filter(t=>t.visible);for(let t=0;t<e.length;t++)this._timeline.to(e[t],.5,{pixi:{alpha:1},ease:x.oY.Linear.easeIn}),this._timeline.to(e[t],.5,{delay:5,pixi:{alpha:0},ease:x.oY.Linear.easeOut})}base(t){this.children[0].visible=!0,this.children[1].visible=!0,this.children[2].visible=t,this.children[3].visible=!1,this.children[4].visible=!1,this.restart()}free(){this.children[0].visible=!0,this.children[1].visible=!1,this.children[2].visible=!1,this.children[3].visible=!0,this.children[4].visible=!0,this.restart()}resize(){this.game.device.desktop?this.position.set(920,45):this.game.device.landscape?this.position.set(920,45):this.position.set(520,390)}constructor(){super();let t=new k.Sprite(this.game.loader.getAsset("symbols_static","0_scat")),e=new k.Sprite(this.game.loader.getAsset("symbols_static","1_wild"));this.addChild(new so("ScreenTips0",{})),this.addChild(new so("ScreenTips1",{scatter:t})),this.addChild(new so("ScreenTips2",{})),this.addChild(new so("ScreenTips3",{wild:e})),this.addChild(new so("ScreenTips4",{scatter:t})),this.children.forEach(t=>{t.alpha=0})}}let sr=i.p+"assets/ui_2020/lazy/bg-shadow.png";class sl extends eD{enable(){super.enable(),this.enterKey.enable()}disable(){super.disable(),this.enterKey.disable()}setActive(t){let{config:e}=this.game;this.countsInfinity.tint=t?e.get("colors.primary"):e.get("colors.white"),this.changeColor(t?e.get("colors.primary"):e.get("colors.white")),this.setBackgroundAlpha(t?1:.2),this.setBackgroundColor(t?e.get("colors.secondary"):e.get("colors.white"))}setCount(t){t===1/0?(this.counts.visible=!1,this.countsInfinity.visible=!0):(this.countsInfinity.visible=!1,this.counts.text=t>-1?t:"",this.counts.visible=!0)}start(t){this.setCount(t),this.changeIcon(this.stopTexture),this.setActive(!0)}stop(){this.disable(),this.setCount(-1),this.changeIcon(this.startTexture),this.setActive(!1)}resize(){this.scale.set(this.game.device.desktop?1:1.6),this.game.device.desktop||(this.game.device.landscape?this.game.leftHand.enabled?(this.counts.anchor.set(0,.5),this.counts.position.set(60,0),this.countsInfinity.anchor.set(0,.5),this.countsInfinity.position.set(60,0)):(this.counts.anchor.set(1,.5),this.counts.position.set(-60,0),this.countsInfinity.anchor.set(1,.5),this.countsInfinity.position.set(-60,0)):(this.counts.anchor.set(.5,1),this.counts.position.set(0,-50),this.countsInfinity.anchor.set(.5,1),this.countsInfinity.position.set(0,-50)))}constructor(){super("iconAuto"),this.name="ButtonAutoPlay",this.hitArea=new k.Circle(0,0,46),this.startTexture=this.game.loader.getAsset("iconAuto"),this.stopTexture=this.game.loader.getAsset("iconAutoStop"),this.onEnterClick=new I.Z,this.counts=this.addChild(new k.Text("",{fontFamily:"Avenir-Bold",fontSize:28,fill:this.game.config.get("colors.primary")})),this.counts.anchor.set(1,.5),this.counts.position.set(-60,0),this.countsInfinity=this.addChild(new k.Sprite(this.game.loader.getAsset("iconAutoInfinityCount"))),this.countsInfinity.anchor.set(.5),this.countsInfinity.position.set(-80,0),this.countsInfinity.visible=!1,this.enterKey=this.game.keyboard.register(this.game.keyboard.KEY_CODE.Enter),this.enterKey.onPress.add(()=>this.onEnterClick.dispatch())}}class sd extends eD{resize(){this.scale.set(this.game.device.desktop?1:2)}constructor(){super("iconCheckMarkBig",115),this.name="ButtonAutoPlayAccept",this.setBackgroundAlpha(1),this.setBackgroundColor(this.game.config.get("colors.primary")),this.show(!1)}}class sc extends eD{resize(){this.scale.set(this.game.device.desktop?1:1.6)}constructor(){super("iconMenu",90,!1),this.name="ButtonMenu"}}class su extends eD{setActive(t){this.setBackgroundAlpha(t?1:.2),this.setBackgroundColor(this.game.config.get(`colors.${t?"secondary":"white"}`)),this.changeColor(this.game.config.get(`colors.${t?"primary":"white"}`))}resize(){this.scale.set(this.game.device.desktop?1:1.6)}constructor(){super("iconQuickSpin"),this.name="ButtonQuickSpin"}}class sp extends k.Sprite{dragStart(){this.draggable=!0}dragEnd(){this.draggable=!1}constructor(t,e){super(t),this.padding=e,this.draggable=!1,this.anchor.set(.5),this.interactive=!0}}class sg extends k.Container{constructor(){super(),this.interactive=!0}}class sm extends k.Sprite{constructor(t,e){super(t),this.tint=e}}class sb extends k.Graphics{constructor(t,e,i,s){super(),this.beginFill(0),this.drawRect(t,e,i,s),this.endFill()}}class sw extends tr(k.Container){handleProgress(){this.game.interaction.click(this.progress,({data:t})=>{this.trackPosition(t.getLocalPosition(this.progress))})}handleTrack(){this.game.interaction.down(this.track,()=>{this.track.dragStart()}),this.game.interaction.move(this.track,({data:t})=>{this.track.draggable&&this.trackPosition(t.getLocalPosition(this.progress))})}getPosition(t){return 0|Math.max(this.minPosition.y,Math.min(this.maxPosition.y,t.y))}setPosition(t){this.track.y=t,this.foreground.y=t}trackPosition(t){let e=this.getPosition(t);this.setPosition(e),this.onChange.dispatch(e)}stopTrack(){this.track.dragEnd()}get draggable(){return this.track.draggable}constructor(t,e,i){super(),this.track=t,this.background=e,this.foreground=i,this.progress=new sg,this.progress.mask=this.progress.addChild(new sb(0,15,this.background.width,this.background.height-25)),this.minPosition=new k.Point(0,this.track.padding),this.maxPosition=new k.Point(0,this.background.height-this.track.padding),this.onChange=new I.Z,this.progress.addChild(this.background),this.progress.addChild(this.foreground),this.addChild(this.progress),this.addChild(this.track),this.track.x=this.progress.width/2,this.handleProgress(),this.handleTrack()}}class sy extends tr(k.Container){convertToVolume(t){return(1-(t-this.slider.minPosition.y)/(this.slider.maxPosition.y-this.slider.minPosition.y)).toFixed(1)}convertToPosition(t){return(this.slider.maxPosition.y-this.slider.minPosition.y)*(1-t)+this.slider.minPosition.y}setVolume(t){this.slider.setPosition(this.convertToPosition(t))}show(t){this.visible=t,t||this.slider.stopTrack()}constructor(){super(),this.background=new k.Sprite(this.game.loader.getAsset("iconVolumeControlBackground")),this.background.alpha=.2;let t=new sp(this.game.loader.getAsset("iconSliderPoint"),14);t.width=33,t.height=33;let e=new sm(this.game.loader.getAsset("iconSliderBackground"),0);e.width=12,e.height=151;let i=new sm(this.game.loader.getAsset("iconSliderBackground"),4914792);i.width=12,i.height=151,this.onChangeVolume=new I.Z,this.slider=new sw(t,e,i),this.slider.position.set(33,30),this.slider.onChange.add(t=>this.onChangeVolume.dispatch(this.convertToVolume(t))),this.interactive=!0,this.hitArea=new k.Rectangle(0,0,78,200),this.game.interaction.up(this,()=>{this.cursor="pointer",this.slider.stopTrack()}),this.game.interaction.out(this,()=>this.slider.stopTrack()),this.game.interaction.move(this,()=>{this.cursor=this.slider.draggable?"grabbing":"pointer"}),this.addChild(this.background),this.addChild(this.slider)}}class sf extends t7{toggle(t,e){this.controls.changeIcon(t?this.textureOn:this.textureOff),this.volumeControl.setVolume(e)}resize(){this.controls.showBackground(!this.game.device.desktop),this.scale.set(this.game.device.desktop?1:1.6)}constructor(t=!0){super(),this.name="ButtonSound",this.textureOn=this.game.loader.getAsset("iconSoundOn"),this.textureOff=this.game.loader.getAsset("iconSoundOff"),this.volumeControl=new sy,this.volumeControl.pivot.set(40,214),this.volumeControl.show(!1),this.onChangeVolume=this.volumeControl.onChangeVolume,this.controls=new eD("iconSoundOn"),this.controls.onClick.add(()=>this.onClick.dispatch()),t&&(this.addChild(this.volumeControl),this.game.interaction.hover(this,()=>this.volumeControl.show(this.game.device.desktop)),this.game.interaction.out(this,()=>this.volumeControl.show(!1))),this.addChild(this.controls),this.show(this.game.device.desktop)}}class sv extends tr(k.Container){onAutoPlaySettingsOpen(){}onAutoPlaySettingsClose(){}onAutoPlayEnable(t){}onAutoPlayDisable(){}setAutoPlayCount(t){}onBetLevelSettingsOpen(){}onBetLevelSettingsClose(){}setBetLevelBet(t){}onMenuOpen(){}onMenuClose(){}onFreeSpinsStart(){}onFreeSpinsEnd(){}onRNBStart(){}onPopupShow(){}onPopupHide(){}onFinishEnter(){}constructor(...t){super(...t),this.name="Controls"}}class sk extends eD{setActive(t){this.changeColor(t?this.game.config.get("colors.primary"):this.game.config.get("colors.white")),this.setBackgroundAlpha(t?1:.2),this.setBackgroundColor(t?this.game.config.get("colors.secondary"):this.game.config.get("colors.white"))}resize(){this.scale.set(this.game.device.desktop?1:1.6)}constructor(){super("iconBetLevel"),this.name="ButtonBetLevel"}}let sx={fontFamily:"Avenir-Medium",fill:16777215,align:"center"},sS={fontSize:4},s_={Common:{delimiter:sS,default:(0,O._)({},sx,{fontSize:22}),value:{fontFamily:"Avenir-Bold",fontSize:32}},Button:{default:(0,O._)({},sx,{fontSize:28,dropShadow:!0,dropShadowBlur:4,dropShadowColor:"black",dropShadowAngle:Math.PI/2,dropShadowDistance:2})},FreeSpins:{delimiter:sS,default:(0,O._)({},sx,{fontSize:22,wordWrap:!0,wordWrapWidth:300}),value:{fontSize:32,fontFamily:"Avenir-Bold",fill:16777215}}};class sC extends sk{constructor(t){super(),this.updateAll=()=>{this.updateText()},this.updateText=()=>{let t=this.game.helpers.toMoneySS(this.betLevel.toCoins());this.betLevelText.text=this.game.i18n.t("ControlsDesktopBet",this.game.i18n.currency({withBrace:!0}),t)},this.betLevel=t,this.betLevelText=this.addChild(new tT("",(0,O._)({},s_.Common,{default:(0,O._)({},s_.Common.default,{align:"left"})}))),this.betLevelText.anchor.set(0,.5),this.betLevelText.position.set(70,3),this.onClick.add(()=>{this.game.action.emit("clickMaxBet")}),this.game.action.on("state:ready_enter",()=>{!iI.isBasic()||this.game.autoPlay.enabled||this.game.freeRound.enabled||this.enable()}),this.game.action.on("state:spin_enter",()=>{this.disable()}),this.disable()}}class sT extends tr(k.Container){handleClick(){var t=this;return(0,g._)(function*(){if(t.onPress.handlers(!0)||t.game.riskWheel.visible){t.onPress.dispatch();return}t.game.store.get("spin:isSpin",!1)||t.playAnimation(t.animationPress).then(()=>{t.game.store.get("spin:isFast",!1)||t.playAnimation(t.animationActive,!0)}),t.game.action.emit("clickSpin")})()}hover(){this.currentAnimation===this.animationActive&&this.playAnimation(this.animationHover)}leave(){this.currentAnimation===this.animationHover&&this.playAnimation(this.animationActive,!0)}playAnimation(t,e){return this.currentAnimation=t,this.buttonAnimation.play(t,e)}onFastSpin(){this.disable(),this.playAnimation(this.animationInactive)}onReadyEnter(){this.enable(),this.game.autoPlay.enabled||this.playAnimation(this.animationActive)}hide(){this.visible=!1}show(){this.visible=!0}press(t){this.enable(),this.spaceKey.enable(),this.onPress.once(t)}enable(){this.interactive=!0,this.spaceKey.enable(),this.playAnimation(this.animationActive)}disable(){this.interactive=!1,this.spaceKey.disable(),this.onPress.handlers(!0)&&this.onPress.detachAll()}setHitArea(t,e,i){this.hitArea=new k.Circle(t,e,i)}visibleHitArea(t,e,i){let s=new k.Graphics;return s.beginFill(16711680,.8),s.drawCircle(t,e,i),s.endFill(),s}constructor(){super(),this.name="buttonSpin",this.scale.set(.8),this.interactive=!0,this.cursor="pointer",this.onPress=new I.Z,this.animationActive="active",this.animationInactive="inactive",this.animationPress="press",this.animationHover="hover",this.buttonAnimation=new tm(this.game.loader.getAsset("effectSpin")),this.addChild(this.buttonAnimation),this.setHitArea(0,0,72),this.game.interaction.click(this,this.handleClick,this),this.game.interaction.hover(this,this.hover,this),this.game.interaction.out(this,this.leave,this),this.spaceKey=this.game.keyboard.register(this.game.keyboard.KEY_CODE.Space),this.spaceKey.onPress.add(this.handleClick,this),this.spaceKey.disable(),this.game.action.on("spin:fast",this.onFastSpin,this),this.game.action.on("state:ready_enter",this.onReadyEnter,this)}}let sA=function(t){let e=new tT("",(0,O._)({},t,{default:(0,O._)({},t.default,{wordWrap:!0,wordWrapWidth:200})}));return e.visible=!1,e.anchor.set(.5,1),{container:e,hide:function(){e.visible=!1},show:function(){e.visible=!0},updateLeft:function(t){e.text=s.i18n.t("ControlsDesktopFreeRoundLeft",t)}}},sB=function(t){let e=new tT("",t);function i(t){e.text=s.i18n.t("ControlsDesktopFreeRoundWin",s.i18n.currency({withBrace:!0}),t>0?s.helpers.toMoney(t):"")}return e.visible=!1,e.anchor.x=.5,s.action.on("update:win",()=>{i(s.wallet.totalCoins)}),{container:e,hide:function(){e.visible=!1},show:function(){e.visible=!0},updateTotalWin:i}};class sP extends tT{update(t){t>=0&&(s.action.emit("balance_updated",t),this.text=s.i18n.t("ControlsDesktopBalance",s.i18n.currency({withBrace:!0,withSpace:!0}),s.helpers.toMoney(t)))}constructor(){super("",(0,O._)({},s_.Common,{default:(0,O._)({},s_.Common.default,{align:"right"})}))}}class sR extends tT{change(t){this.text=s.i18n.t("ControlsDesktopFreeSpinsPlayed",t)}constructor(){super("",s_.FreeSpins),this.visible=!1}}class sW extends tT{update(t){this.text=s.i18n.t("ControlsDesktopTotalWin",s.i18n.currency({withBrace:!0}),s.helpers.toMoney(t))}constructor(){super("",(0,O._)({},s_.Common,{default:(0,O._)({},s_.Common.default,{fill:s.config.get("colors.primary"),fontFamily:"Avenir-Bold"}),value:(0,O._)({},s_.Common.value,{fontSize:66})})),this.visible=!1}}class sF extends tT{update(t,e=!1){this.text=s.i18n.t("ControlsDesktopWin",s.i18n.currency({withBrace:!0}),t>0||e?s.helpers.toMoney(t):"")}constructor(){super("",s_.Common),this.anchor.x=.5}}class sE extends sv{showRiskButton(){this.buttonQuickSpin.disable()}hideRiskButton(){this.buttonQuickSpin.enable()}enterRisk(){this.disableButtonSpin(),this.buttonAutoPlay.disable()}exitRisk(){this.enableButtonSpin(),this.buttonAutoPlay.enable(),this.buttonQuickSpin.enable()}lock(){this.buttonSpin.disable(),this.buttonAutoPlay.disable()}unlock(){this.buttonSpin.enable(),this.buttonAutoPlay.enable()}onSpinEnter(){this.buttonMenu.disable()}onFinishEnter(){}onRNBStart(){this.textBalance.update(this.game.wallet.balance),this.game.store.get("risk",!1)&&this.textWin.update(0)}onPopupShow(){this.buttonAutoPlay.disable(),this.buttonMenu.disable(),this.buttonMaxBet.disable()}onPopupHide(){this.buttonAutoPlay.enable(),this.buttonMenu.enable(),this.buttonMaxBet.enable()}onMenuOpen(){}onMenuClose(){}onBetSettingsOpen(){this.buttonMaxBet.setActive(!0)}onBetSettingsClose(){this.buttonMaxBet.setActive(!1)}onAutoPlaySettingsOpen(){this.buttonSpin.hide(),this.buttonAccept.show(),this.buttonAutoPlay.setActive(!0)}onAutoPlaySettingsClose(){this.buttonSpin.show(),this.buttonSpin.enable(),this.buttonAccept.hide(),this.buttonAutoPlay.setActive(!1)}onAutoPlayEnable(t){this.buttonAutoPlay.start(t)}onAutoPlayDisable(){this.buttonAutoPlay.stop()}setAutoPlayCount(t){this.buttonAutoPlay.setCount(t)}updateBet(){this.buttonMaxBet.updateAll()}disableButtonSpin(){this.buttonSpin.disable()}enableButtonSpin(){this.buttonSpin.enable()}disableAutoplayButton(){this.buttonAutoPlay.disable()}enableAutoplayButton(){this.buttonAutoPlay.enable()}pressButtonSpin(t){return this.buttonSpin.press(t)}restoreBonus(){this.y=this.y+this.height+100,this.buttonAutoPlay.disable(),this.buttonSpin.disable()}startBonus(){this.buttonAutoPlay.disable(),this.buttonSpin.disable(),x.kX.fromTo(this,.5,{pixi:{y:this.y}},{pixi:{y:this.y+this.height+100}})}endBonus(){}updateFreeLeft(t){this.textFreeSpinPlayed.change(t)}beforeFreeSpinsPopup(){x.kX.fromTo(this,.5,{pixi:{y:this.y}},{pixi:{y:this.y+this.height+100}})}constructor(){super(),this.background=k.Sprite.from(sr),this.background.alpha=.4,this.background.anchor.set(0,1),this.background.position.set(0,this.game.viewport.height),this.buttonMenu=new sc,this.buttonMenu.position.set(77,1013),this.buttonMaxBet=new sC(this.game.betLevel),this.buttonMaxBet.position.set(213,1013),this.buttonAutoPlay=new sl,this.buttonAutoPlay.position.set(833,1013),this.buttonQuickSpin=new su,this.buttonQuickSpin.position.set(1084,1014),this.buttonSound=new sf,this.buttonSound.position.set(1840,1012),this.buttonSpin=new sT,this.buttonSpin.position.set(958,1008),this.buttonAccept=new sd,this.buttonAccept.position.set(958,1013),this.textWin=new sF,this.textWin.anchor.x=.5,this.textWin.position.set(1400,980),this.winAnimation=new tm(this.game.loader.getAsset("assets/images/effects/coinsCollect/skeleton.json")),this.winAnimation.position.set(1400,980),this.textBalance=new sP,this.textBalance.anchor.x=1,this.textBalance.position.set(1760,980),this.freeRoundLeft=sA(s_.Common),this.freeRoundLeft.container.position.set(1700,1054),this.freeRoundTotalWin=sB(s_.Common),this.freeRoundTotalWin.container.position.set(1400,980),this.textFreeSpinPlayed=new sR,this.textFreeSpinPlayed.visible=!1,this.textFreeSpinPlayed.anchor.set(.5,1),this.textFreeSpinPlayed.position.set(600,1053),this.textFreeSpinTotalWin=new sW,this.textFreeSpinTotalWin.visible=!1,this.textFreeSpinTotalWin.anchor.x=.5,this.textFreeSpinTotalWin.position.set(960,955),this.addChild(this.background),this.addChild(this.textFreeSpinPlayed),this.addChild(this.textFreeSpinTotalWin),this.addChild(this.buttonMenu),this.addChild(this.buttonMaxBet),this.game.config.get("autoPlay.available",!0)&&this.addChild(this.buttonAutoPlay),this.game.config.get("quickSpin.available",!0)&&this.addChild(this.buttonQuickSpin),this.addChild(this.buttonSound),this.addChild(this.buttonSpin),this.addChild(this.buttonAccept),this.addChild(this.textWin),this.addChild(this.winAnimation),this.game.config.get("balanceHide",!1)||this.addChild(this.textBalance),this.addChild(this.freeRoundTotalWin.container),this.addChild(this.freeRoundLeft.container),this.textWin.update(this.game.wallet.coins),this.textBalance.update(this.game.wallet.balance),this.game.freeRound.onStart.once(t=>{this.textBalance.visible=!1,this.freeRoundLeft.updateLeft(t),this.freeRoundLeft.show(),this.freeRoundTotalWin.updateTotalWin(this.game.wallet.totalCoins),this.game.store.get("free:isFree",!1)||(this.textWin.visible=!1,this.freeRoundTotalWin.show())}),this.game.freeRound.onFinish.once(()=>{this.freeRoundLeft.hide(),this.freeRoundTotalWin.hide(),this.textWin.visible=!0,this.textWin.update(this.game.wallet.totalCoins,!0),this.textBalance.visible=!0,this.textBalance.update(this.game.wallet.balance)}),this.game.action.on("state:spin_enter",()=>{this.game.autoPlay.enabled||this.buttonAutoPlay.disable(),this.game.store.get("free:isFree",!1)||(this.freeRoundLeft.updateLeft(this.game.freeRound.left-1),this.textBalance.update(this.game.wallet.balance-this.game.betLevel.toCoins()))}),this.game.action.on("free:restore",()=>{this.buttonAutoPlay.visible=!1,this.buttonAutoPlay.disable(),this.buttonMenu.disable(),this.textFreeSpinTotalWin.update(this.game.wallet.totalCoins),this.textFreeSpinTotalWin.visible=!0,this.buttonSpin.hide(),this.buttonSpin.disable(),this.textFreeSpinPlayed.visible=!0,this.game.freeRound.enabled&&(this.freeRoundTotalWin.container.visible=!1,this.textWin.visible=!0),this.game.device.desktop&&this.buttonQuickSpin.position.set(1233,1014)}),this.game.action.on("free:start",()=>{this.buttonAutoPlay.visible=!1,this.buttonAutoPlay.disable(),this.textFreeSpinTotalWin.update(this.game.wallet.totalCoins),this.textFreeSpinTotalWin.visible=!0,this.buttonSpin.hide(),this.buttonSpin.disable(),this.textFreeSpinPlayed.visible=!0,this.game.freeRound.enabled&&(this.freeRoundTotalWin.container.visible=!1,this.textWin.visible=!0),this.game.device.desktop&&this.buttonQuickSpin.position.set(1233,1014)}),this.game.action.on("free:stop",()=>{this.buttonAutoPlay.visible=!0,this.textBalance.update(this.game.wallet.balance),this.textFreeSpinTotalWin.visible=!1,this.textFreeSpinTotalWin.text="",this.textFreeSpinPlayed.visible=!1,this.textFreeSpinPlayed.text="",this.buttonSpin.show(),this.textWin.update(this.game.wallet.totalCoins,!0),this.game.freeRound.enabled&&(this.freeRoundTotalWin.container.visible=!0,this.textWin.visible=!1),this.game.device.desktop&&this.buttonQuickSpin.position.set(1084,1014)}),this.game.action.on("state:setup_enter",()=>{this.game.store.get("reward:feature"),iI.isFreespin()&&(this.y=this.y+this.height+100)}),this.game.action.on("state:finish_exit",()=>{iI.isBasic()&&(this.game.autoPlay.enabled||this.buttonMenu.enable(),this.game.riskWheel.visible||this.buttonAutoPlay.enable())}),this.game.autoPlay.on("disable",()=>{this.buttonAutoPlay.disable()}),this.game.action.on("free:select_start",()=>{x.kX.fromTo(this,.5,{pixi:{y:this.y+this.height}},{pixi:{y:0}}),this.textBalance.update(this.game.wallet.balance),this.game.store.get("risk",!1)&&this.textWin.update(0)}),this.game.action.on("free:select_stop",()=>{x.kX.fromTo(this,.5,{pixi:{y:this.y+this.height}},{pixi:{y:0}})}),this.game.action.on("free:updateLeft",t=>{this.textFreeSpinPlayed.change(t)}),this.game.action.on("reward:reset",()=>{this.textWin.update(0)}),this.game.action.on("state:ready_exit",()=>{this.textWin.update(0)}),this.game.action.on("update:win",()=>{this.textWin.update(this.game.wallet.coins,this.game.riskWheel.visible),0!==this.game.wallet.coins&&"init"!==this.game.store.get("server:action")&&(this.winAnimation.play("animation"),this.game.action.emit("sound:coinz")),(this.game.store.get("free:isFree",!1)||this.game.store.get("free:isEnd",!1))&&this.textFreeSpinTotalWin.update(this.game.wallet.totalCoins)}),this.game.action.on("update:balance",()=>{iI.isFreespin()||this.textBalance.update(this.game.wallet.balance)})}}let sM=i.p+"assets/ui_2020/lazy/spin-arrow.png";class sI extends k.Sprite{constructor(t=16777215,e=.75){super(k.Texture.WHITE),this.height=4,this.tint=t,this.alpha=e}}!function(t){t.Bet="bet",t.Win="win",t.Balance="balance",t.FreeLeft="freeLeft",t.FreePlayed="freePlayed",t.TotalWin="totalWin",t.FreeRoundLeft="freeRoundLeft",t.BonusLeft="bonusLeft"}(l||(l={})),function(t){t.Free="free",t.Normal="normal",t.Bonus="bonus"}(d||(d={}));let sN={default:{fontSize:30,fontFamily:"Avenir-Medium",fill:16777215,align:"center"},value:{fontSize:50,fontFamily:"Avenir-Bold"}},sL=(0,O._)({},sN,{value:(0,O._)({},sN.value,{fill:16777215})});class sO extends tr(k.Container){resize(){let t="free"===this.state,e="bonus"===this.state;this.textTotalWin.setTagStyle("default",{wordWrap:this.game.device.portrait}),this.textFree.setTagStyle("default",{wordWrap:!0,wordWrapWidth:this.game.device.landscape?400:340}),this.textBonus.setTagStyle("default",{wordWrap:!0,wordWrapWidth:this.game.device.landscape?"uk"===this.game.i18n.language?430:400:340}),this.textFreeRound.setTagStyle("default",{wordWrap:this.game.device.portrait}),this.game.device.landscape?(this.delimiter.visible=!1,this.textBet.scale.set(1),this.textBet.position.set(t||e?60:240,0),this.textWin.scale.set(1),this.textWin.position.set(t||e?1300:960,0),this.textTotalWin.scale.set(1),this.textTotalWin.position.set(960,99),this.textFree.scale.set(1),this.textFree.position.set(this.textTotalWin.x-this.textFree.width-220,99),this.textBonus.scale.set(1),this.textBonus.position.set(this.textTotalWin.x-this.textBonus.width-220,99),this.textBalance.scale.set(1),this.textBalance.position.set(1855,0),this.textFreeRound.scale.set(1),this.textFreeRound.position.set(1855,98),this.textFreeRound.setTagStyle("default",{fontSize:30}),this.position.set(0,this.game.viewport.height),this.pivot.set(0,140)):(this.delimiter.width=990,this.delimiter.position.set(44,-32),this.delimiter.visible=t||e,this.textBet.scale.set(1),this.textBet.position.set(44,0),this.textWin.scale.set(1),this.textWin.position.set(540,0),this.textFree.scale.set(1),this.textFree.position.set(44,-55),this.textFree.setTagStyle("value",{fontSize:"sr"===this.game.i18n.language?46:50}),this.textTotalWin.scale.set(1),this.textTotalWin.position.set(540,-55),this.textBonus.scale.set(1),this.textBonus.position.set(44,-55),this.textBalance.scale.set(1),this.textBalance.position.set(1034,0),this.textFreeRound.scale.set(1),this.textFreeRound.position.set(1034,100),this.textFreeRound.setTagStyle("default",{fontSize:"uk"===this.game.i18n.language?26:30}),this.position.set(0,2*this.game.viewport.paddingY+this.game.viewport.height),this.pivot.set(0,200))}update(t){switch(t.type){case"bet":{let e=this.game.helpers.toMoneySS(t.value),i=this.game.i18n.t("StatusBarMobileBet",this.game.i18n.currency({withBrace:!0}));this.textBet.text=`${i}<value>${e}</value>`}break;case"win":{let e=this.game.i18n.t("StatusBarMobileWin",this.game.i18n.currency({withBrace:!0}));t.value>0||t.disableZeroCheck?this.textWin.text=`${e}<value>${this.game.helpers.toMoney(t.value)}</value>`:this.textWin.text=e}break;case"balance":{let e=this.game.i18n.t("StatusBarMobileBalance",this.game.i18n.currency({withBrace:!0,withSpace:!0}));this.textBalance.text=`${e}<value>${this.game.helpers.toMoney(t.value)}</value>`,this.game.action.emit("balance_updated",t.value)}break;case"freeLeft":0===t.value?this.textFree.text=this.game.i18n.t("StatusBarMobileFreeLast"):this.textFree.text=this.game.i18n.t("StatusBarMobileFreeLeft",t.value);break;case"freePlayed":{let e=this.game.i18n.t("StatusBarMobileFreePlayed");this.textFree.text=`${e}<value>${t.value}</value>`}break;case"freeRoundLeft":{let e=this.game.i18n.t("StatusBarMobileFreeRoundLeft");this.textFreeRound.text=`${e}<value>${t.value}</value>`}break;case"bonusLeft":{let e=0===t.value;-1===t.value?this.textBonus.text="":e?this.textBonus.text=this.game.i18n.t("StatusBarMobileBonusLast"):this.textBonus.text=this.game.i18n.t("StatusBarMobileBonusLeft",t.value)}break;case"totalWin":{let e=this.game.i18n.t("StatusBarMobileTotalWin",this.game.i18n.currency({withBrace:!0}));this.textTotalWin.text=`${e}<value>${this.game.helpers.toMoney(t.value)}</value>`}}this.resize()}changeState(t){this.state=t,"free"===t?(this.textFree.visible=!0,this.textTotalWin.visible=!0,this.textWin.visible=!0,this.textBonus.visible=!1,this.visible=!0):"normal"===t?(this.textFree.visible=!1,this.textTotalWin.visible=!1,this.textWin.visible=!0,this.textBonus.visible=!1,this.visible=!0):"bonus"===t&&(this.textBonus.visible=!0,this.textTotalWin.visible=!0,this.textWin.visible=!1,this.visible=!0),this.resize()}constructor(){super(),this.state="normal",this.textBet=new tT("",(0,O._)({},sN,{default:(0,O._)({},sN.default,{align:"left"})})),this.textBet.anchor.set(0,0),this.textWin=new tT("",sN),this.textWin.anchor.set(.5,0),this.textBalance=new tT("",(0,O._)({},sN,{default:(0,O._)({},sN.default,{align:"right"})})),this.textBalance.anchor.set(1,0),this.textFreeRound=new tT("",(0,O._)({},sN,{default:(0,O._)({},sN.default,{align:"center",wordWrap:!0,wordWrapWidth:300})})),this.textFreeRound.anchor.set(1,1),this.textFree=new tT("",(0,O._)({},sL,{default:(0,O._)({},sL.default,{fontSize:30,wordWrapWidth:"bg"===this.game.i18n.language?400:340})})),this.textFree.anchor.set(0,1),this.textTotalWin=new tT("",(0,O._)({},sL,{default:(0,O._)({},sL.default,{fontFamily:"Avenir-Bold",fill:this.game.config.get("colors.primary"),fontSize:30,wordWrapWidth:300}),value:(0,O._)({},sL.value,{fill:this.game.config.get("colors.primary")})})),this.textTotalWin.anchor.set(.5,1),this.textBonus=new tT("",(0,O._)({},sL,{default:(0,O._)({},sL.default,{fontSize:27,wordWrapWidth:300})})),this.textBonus.anchor.set(0,1),this.delimiter=new sI(16777215,.5),this.addChild(...[this.textBet,this.textWin,!this.game.config.get("balanceHide",!1)&&this.textBalance,this.textFreeRound,this.textFree,this.textTotalWin,this.textBonus,this.delimiter].filter(Boolean)),this.game.freeRound.onStart.once(()=>{this.textBalance.visible=!1,this.textFreeRound.visible=!0}),this.game.freeRound.onFinish.once(()=>{this.textBalance.visible=!0,this.textFreeRound.visible=!1})}}class sz extends tr(k.Container){hide(){this.visible=!1}show(){this.visible=!0}enable(){this.buttonSpin.interactive=!0}disable(){this.buttonSpin.interactive=!1}constructor(){super(),this.interactive=!0,this.buttonMode=!0,this.buttonSpin=this.addChild(new eD(sM,245)),this.buttonSpin.setBackgroundAlpha(.6),this.buttonSpin.setBackgroundColor(this.game.config.get("colors.primary")),this.buttonSpin.useClickSound=!1}}class sD extends sv{resize(){var t;let e=this.game.menu.opened,i=null==(t=this.game.leftHand)?void 0:t.enabled;if(this.game.device.landscape)this.betButton.position.set(120,980),e&&this.betButton.show(),i?(this.buttonSound.position.set(120,this.state===d.Free?300:780),this.buttonMenu.position.set(120,120),this.buttonQuickSpin.position.set(120,780),this.autoPlayButton.position.set(120,300),this.buttonSpin.position.set(160,this.game.viewport.height/2),this.buttonAccept.position.set(160,this.game.viewport.height/2)):(this.buttonSound.position.set(1780,this.state===d.Free?300:780),this.buttonMenu.position.set(1780,120),this.buttonQuickSpin.position.set(1780,780),this.autoPlayButton.position.set(1780,300),this.buttonSpin.position.set(1760,this.game.viewport.height/2),this.buttonAccept.position.set(1760,this.game.viewport.height/2));else{let t=2*this.game.viewport.paddingY+this.game.viewport.height;this.buttonSound.position.set(110,this.state===d.Free?100:t-318),this.autoPlayButton.position.set(540,t-318),this.buttonQuickSpin.position.set(this.state===d.Normal?748:955,t-318),this.buttonMenu.position.set(955,t-318),this.betButton.position.set(332,t-318),e&&this.betButton.hide(),this.buttonSpin.scale.set(1),this.buttonSpin.position.set(this.game.viewport.width/2,t-590),this.buttonAccept.position.set(this.game.viewport.width/2,t-590)}}lock(){this.buttonSpin.interactive=!1,this.betButton.disable(),this.buttonMenu.disable(),this.autoPlayButton.disable(),this.buttonQuickSpin.disable()}unlock(){this.buttonSpin.interactive=!0,this.betButton.enable(),this.buttonMenu.enable(),this.autoPlayButton.enable(),this.buttonQuickSpin.enable()}showRiskButton(){this.buttonQuickSpin.disable()}hideRiskButton(){this.buttonQuickSpin.enable()}enterRisk(){this.disableButtonSpin(),this.disableAutoplayButton()}exitRisk(){this.enableButtonSpin(),this.enableAutoplayButton(),this.buttonQuickSpin.enable()}onSpinEnter(){this.buttonMenu.disable()}onFinishEnter(){}onPopupShow(){this.autoPlayButton.disable(),this.buttonMenu.disable(),this.betButton.disable(),this.buttonSpin.interactive=!1,this.buttonQuickSpin.disable(),this.buttonSound.disable()}onPopupHide(){iI.isFreespin()||(this.autoPlayButton.enable(),this.buttonMenu.enable(),this.betButton.enable()),this.buttonSpin.interactive=!0,this.buttonQuickSpin.enable(),this.buttonSound.enable()}onMenuOpen(){this.buttonSound.show(),this.buttonMenu.hide(),this.buttonSpin.hide(),this.autoPlayButton.hide(),this.buttonQuickSpin.hide(),this.game.device.landscape?this.betButton.show():this.betButton.hide()}onMenuClose(){this.buttonSound.hide(),this.buttonMenu.show(),this.buttonSpin.show(),this.betButton.show(),this.autoPlayButton.show(),this.buttonQuickSpin.show()}onBetSettingsOpen(){this.buttonMenu.hide(),this.buttonSound.hide(),this.betButton.setActive(!0)}onBetSettingsClose(){this.buttonSound.hide(),this.buttonMenu.show(),this.betButton.setActive(!1)}onAutoPlaySettingsOpen(){this.buttonSpin.hide(),this.buttonMenu.hide(),this.buttonSound.hide(),this.buttonAccept.show(),this.autoPlayButton.setActive(!0)}onAutoPlaySettingsClose(){this.buttonSpin.show(),this.buttonMenu.show(),this.buttonSound.hide(),this.buttonAccept.hide(),this.autoPlayButton.setActive(this.game.autoPlay.enabled)}onAutoPlayEnable(t){this.autoPlayButton.start(t)}onAutoPlayDisable(){this.autoPlayButton.stop()}setAutoPlayCount(t){this.autoPlayButton.setCount(t)}updateBet(){let t=this.game.betLevel.toCoins();this.statusBar.update({type:l.Bet,value:t})}enableButtonSpin(){this.buttonSpin.interactive=!0}disableButtonSpin(){this.buttonSpin.interactive=this.game.autoPlay.enabled,this.onPressButtonSpin.handlers(!0)&&this.onPressButtonSpin.detachAll()}disableAutoplayButton(){this.autoPlayButton.disable()}enableAutoplayButton(){this.autoPlayButton.enable()}pressButtonSpin(t){this.buttonSpin.interactive=!0,this.onPressButtonSpin.once(t)}restoreBonus(){this.buttonSpin.visible=!1,this.buttonSpin.interactive=!1,this.betButton.hide(),this.buttonQuickSpin.hide(),this.autoPlayButton.hide(),this.betButton.disable(),this.buttonSound.disable(),this.autoPlayButton.disable(),this.buttonMenu.disable(),this.alpha=0}startBonus(){this.buttonSpin.interactive=!1,this.betButton.disable(),this.buttonQuickSpin.hide(),this.autoPlayButton.hide(),this.buttonSound.disable(),x.kX.fromTo(this,.5,{pixi:{alpha:1}},{pixi:{alpha:0}})}endBonus(){}updateFreeLeft(t){this.statusBar.update({type:l.FreePlayed,value:t})}beforeFreeSpinsPopup(){this.alpha=0,this.buttonMenu.disable(),this.betButton.disable(),this.autoPlayButton.disable()}constructor(){super(),this.state=d.Normal,this.onPressButtonSpin=new I.Z,this.statusBar=new sO,this.statusBar.changeState(this.state),this.game.freeRound.enabled?(this.statusBar.update({type:l.Win,value:this.game.store.get("free:isFree",!1)?this.game.wallet.coins:this.game.wallet.totalCoins}),this.statusBar.update({type:l.FreeRoundLeft,value:this.game.freeRound.left})):(this.statusBar.update({type:l.Win,value:this.game.wallet.coins}),this.statusBar.update({type:l.Balance,value:this.game.wallet.balance})),this.buttonMenu=new sc,this.buttonSound=new sf,this.buttonSpin=new sz,this.game.interaction.hover(this.buttonSpin,()=>{this.buttonSpin.scale.set(1),x.kX.to(this.buttonSpin,.2,{pixi:{scale:1.04},yoyo:!0,repeat:1})}),this.game.interaction.click(this.buttonSpin,()=>{if(this.onPressButtonSpin.handlers(!0)){this.onPressButtonSpin.dispatch();return}this.game.action.emit("clickSpin")}),this.buttonAccept=new sd,this.buttonQuickSpin=new su,this.autoPlayButton=new sl,this.autoPlayButton.scale.set(1.6),this.betButton=new sk,this.betButton.disable(),this.betButton.onClick.add(()=>this.game.action.emit("clickMaxBet")),this.game.action.on("update:win",()=>{this.game.freeRound.enabled||this.game.store.get("free:isStart",!1)?(this.statusBar.update({type:l.Win,value:this.game.isFree?this.game.wallet.coins:this.game.wallet.totalCoins}),this.statusBar.update({type:l.TotalWin,value:this.game.wallet.totalCoins})):this.game.isFree?(this.statusBar.update({type:l.Win,value:this.game.wallet.coins}),this.statusBar.update({type:l.TotalWin,value:this.game.wallet.totalCoins})):(this.statusBar.update({type:l.Win,value:this.game.wallet.coins,disableZeroCheck:this.game.riskWheel.visible}),this.game.riskWheel.visible||this.statusBar.update({type:l.Balance,value:this.game.wallet.balance}))}),this.game.action.on("update:balance",()=>{this.game.freeRound.enabled||iI.isFreespin()||this.statusBar.update({type:l.Balance,value:this.game.wallet.balance})}),this.game.action.on("reward:reset",()=>{this.statusBar.update({type:l.Win,value:0})}),this.game.action.on("free:restore",()=>{this.state=d.Free,this.buttonMenu.hide(),this.betButton.hide(),this.autoPlayButton.hide(),this.buttonSpin.visible=!1,this.buttonSound.hide(),this.buttonSound.disable(),this.buttonQuickSpin.disable(),this.buttonQuickSpin.hide(),this.statusBar.changeState(this.state),this.statusBar.update({type:l.Win,value:0}),this.statusBar.update({type:l.TotalWin,value:this.game.wallet.totalCoins,disableZeroCheck:!0}),this.statusBar.update({type:l.FreePlayed,value:this.game.store.get("free:played",0)+1}),this.resize()}),this.game.action.on("free:start",()=>{this.state=d.Free,this.buttonMenu.hide(),this.betButton.hide(),this.buttonQuickSpin.hide(),this.buttonQuickSpin.disable(),this.autoPlayButton.hide(),this.buttonSpin.visible=!1,this.buttonSound.hide(),this.buttonSound.disable(),this.statusBar.changeState(this.state),this.statusBar.update({type:l.Win,value:0}),this.statusBar.update({type:l.TotalWin,value:this.game.wallet.totalCoins,disableZeroCheck:!0}),this.statusBar.update({type:l.FreePlayed,value:this.game.store.get("free:played",0)+1}),this.resize()}),this.game.action.on("free:stop",()=>{this.visible=!1,this.state=d.Normal,this.buttonMenu.show(),this.buttonSpin.visible=!0,this.betButton.show(),this.buttonQuickSpin.show(),this.autoPlayButton.show(),this.buttonSound.hide(),this.statusBar.changeState(this.state),this.game.freeRound.enabled||this.statusBar.update({type:l.Balance,value:this.game.wallet.balance}),this.statusBar.update({type:l.Win,value:this.game.wallet.totalCoins,disableZeroCheck:!0}),this.resize()}),this.game.action.on("free:updateLeft",t=>{this.statusBar.update({type:l.FreePlayed,value:t})}),this.game.action.on("state:ready_enter",()=>{!iI.isBasic()||this.game.autoPlay.enabled||this.game.freeRound.enabled||(this.betButton.show(),this.betButton.enable())}),this.game.action.on("state:spin_enter",()=>{let t=this.game.autoPlay.enabled,e=iI.isFreespin();if(this.betButton.disable(),t||this.autoPlayButton.disable(),this.statusBar.update({type:l.Win,value:!e&&this.game.freeRound.enabled?this.game.wallet.totalCoins:0}),!e){let t=this.game.wallet.balance,e=this.game.betLevel.toCoins();this.game.freeRound.enabled?this.statusBar.update({type:l.FreeRoundLeft,value:this.game.freeRound.left-1}):this.statusBar.update({type:l.Balance,value:t-e})}}),this.game.action.on("state:stop_exit",()=>{let t=this.game.autoPlay.enabled,e=iI.isFreespin();t&&!e&&(this.buttonSpin.visible=!0,this.buttonSpin.interactive=!0)}),this.game.action.on("state:setup_enter",()=>{iI.isFreespin()&&(this.alpha=0)}),this.game.action.on("free:select_start",()=>{this.buttonSound.show(),this.buttonQuickSpin.enable(),this.buttonQuickSpin.show(),this.game.freeRound.enabled||this.statusBar.update({type:l.Balance,value:this.game.wallet.balance}),x.kX.fromTo(this,.5,{pixi:{alpha:0}},{pixi:{alpha:1}})}),this.game.action.on("free:select_stop",()=>{this.visible=!0,this.alpha=1,setTimeout(()=>{this.buttonMenu.enable(),this.buttonQuickSpin.enable(),this.autoPlayButton.enable(),this.game.freeRound.enabled||this.betButton.enable()},500)}),this.game.action.on("state:finish_exit",()=>{let t=this.game.autoPlay.enabled;iI.isFreespin()||t||(this.buttonSpin.visible=!0,this.buttonSpin.interactive=!0,this.buttonQuickSpin.show(),this.autoPlayButton.show(),this.autoPlayButton.enable(),this.buttonMenu.show(),this.buttonMenu.enable())}),this.game.freeRound.onFinish.once(()=>{this.statusBar.update({type:l.Balance,value:this.game.wallet.balance}),this.statusBar.update({type:l.Win,value:this.game.wallet.totalCoins,disableZeroCheck:!0})}),this.addChild(...[this.buttonSound,this.buttonMenu,this.game.config.get("autoPlay.available",!0)&&this.autoPlayButton,this.game.config.get("quickSpin.available",!0)&&this.buttonQuickSpin,this.betButton,this.buttonSpin,this.buttonAccept,this.statusBar].filter(Boolean))}}class sG extends tr(k.Container){open(){this.visible=!0,this.resize(),this.scrollView.scrollTo(0,0)}close(){this.visible&&(this.visible=!1)}alignSection(t=0){let e=-t,i=0;this.content.children.filter(t=>t.visible).forEach(s=>{s.resize&&s.resize(),s.y=e+i+t,e=s.y,i=s.height})}resize(){let{device:t,viewport:e,leftHand:i}=this.game;this.alignSection(50),t.desktop?(this.title.position.set(e.width/2,62),this.scrollView.hitAreaOffsetLeft=0,this.scrollView.hitAreaOffsetRight=0,this.scrollView.resize(e.width,960),this.scrollView.position.set(0,0),this.content.position.set(380,this.title.y+this.title.height+60)):t.landscape?(this.title.position.set(e.width/2+e.paddingX,120),i.enabled?(this.scrollView.hitAreaOffsetLeft=e.paddingX+180,this.scrollView.hitAreaOffsetRight=e.paddingX,this.content.position.set(e.paddingX+220,this.title.y+this.title.height+60)):(this.scrollView.hitAreaOffsetLeft=e.paddingX,this.scrollView.hitAreaOffsetRight=e.paddingX+180,this.content.position.set(e.paddingX+60,this.title.y+this.title.height+60)),this.scrollView.resize(e.width+2*e.paddingX,940),this.scrollView.position.set(-e.paddingX,0)):(this.title.position.set(e.width/2+e.paddingX,100),this.content.position.set(e.paddingX+60,this.title.y+this.title.height+60),this.scrollView.resize(e.width+2*e.paddingX,2*e.paddingY+e.height-390),this.scrollView.position.set(-e.paddingX,0),this.scrollView.hitAreaOffsetLeft=0,this.scrollView.hitAreaOffsetRight=0)}constructor(){super(),this.name="Paytable",this.visible=!1,this.interactive=!0,this.scrollView=this.addChild(new tk),this.scrollView.paddingBottom=120,this.title=this.scrollView.addChild(new tx(this.game.i18n.t("MenuPaytable"))),this.title.withGameName(),this.title.anchor.set(.5,0),this.content=this.scrollView.addChild(new k.Container)}}class sV extends tr(k.Container){constructor(t,e,i=[]){super(),this.number=t,this.positions=e;let[s,n]=i.length>0?i:this.game.config.get("slot.size",[]);this._box=new k.Graphics,this._box.lineStyle(1,2763563),this._box.moveTo(0,0),this._box.lineTo(16.4*s,0),this._box.lineTo(16.4*s,17.25*n),this._box.lineTo(0,17.25*n),this._box.lineTo(0,0),this._box.name="PaytableBetLineBox",this._box.scale.set(2),this._box.y=40;for(let t=0;t<n;t++)for(let e=0;e<s;e++){let i=this.game.loader.getAsset(`assets/ui_2020/paytable_betlines_${this.positions[e]===t?"win":"normal"}.png`),s=new k.Sprite(i);s.x=3+(s.width+3)*e,s.y=3.5+(s.height+3.5)*t,this._box.addChild(s)}this._textNumber=new k.Text(this.number,{fontSize:28,fill:"white",fontFamily:"Avenir-Medium",fontWeight:"bold"}),this._textNumber.anchor.x=.5,this._textNumber.x=this._box.width/2,this._textNumber.y=0,this.addChild(this._box,this._textNumber)}}class sY extends tr(k.Text){setTagStyle(t,e){this.style=(0,O._)({},this.style,e)}resize(){this.game.device.desktop?this.scale.set(1.2):this.game.device.landscape?(this.scale.set(2.2),this.setTagStyle("default",{wordWrapWidth:670})):(this.scale.set(2.2),this.setTagStyle("default",{wordWrapWidth:400}))}constructor(t){super(t,{fill:"white",fontSize:21,fontFamily:"Avenir-Regular",wordWrap:!0,wordWrapWidth:940,breakWords:!0}),this.scale.set(1.2)}}class sU extends tr(k.Text){resize(){this.game.device.desktop?(this.scale.set(1),this.style.wordWrapWidth=1150):this.game.device.landscape?(this.scale.set(1.6),this.style.wordWrapWidth=900):(this.scale.set(1.6),this.style.wordWrapWidth=600)}constructor(t){super(t,{fontSize:34,fontFamily:"Avenir-Bold",wordWrap:!0,wordWrapWidth:1150}),this.style.fill=this.game.config.get("colors.primary")}}class sX extends tr(k.Container){resize(){this.game.device.desktop||(this.game.device.landscape?this._payTableBetLineBoxs.children.forEach((t,e)=>{t.scale.set(1.6),t.x=e%5*330,t.y=310*Math.floor(e/5)}):this._payTableBetLineBoxs.children.forEach((t,e)=>{t.scale.set(1.4),t.x=e%3*360,t.y=290*Math.floor(e/3)}),this._payTableBetLineBoxs.y=100,this._payTableParagraph.y=this._payTableBetLineBoxs.y+this._payTableBetLineBoxs.height+30)}constructor(t,e=[]){super(),this._payTableBetLineBoxs=new k.Container,this._payTableTitle=new sU(this.game.i18n.t("PaytableSectionBetLinesTitle").toUpperCase()),this._payTableParagraph=new sY(this.game.i18n.t("PaytableSectionBetLinesContent1")),t.forEach((t,i)=>{let s=new sV(i+1,t,e);this._payTableBetLineBoxs.addChild(s)}),this._payTableBetLineBoxs.children.forEach((t,e)=>{t.scale.set(1),t.x=e%5*239,t.y=(t.height+30)*Math.floor(e/5)}),this._payTableBetLineBoxs.y=60,this._payTableParagraph.y=this._payTableBetLineBoxs.y+this._payTableBetLineBoxs.height+30,this.addChild(this._payTableTitle,this._payTableParagraph,this._payTableBetLineBoxs)}}class sH extends tr(k.Sprite){resize(){this.game.device.desktop?(this.height=4,this.width=1120):this.game.device.landscape?(this.height=6,this.width=1580):(this.height=6,this.width=950)}constructor(){super(k.Texture.WHITE),this.tint=2763563}}class s$ extends tr(k.Container){resize(){this.game.device.desktop||this._sectionParagraph1.position.set(0,this._sectionTitle.y+this._sectionTitle.height+30)}constructor(){super(),this.visible=this.game.config.get("rnb",!0),this._sectionTitle=new sU(this.game.i18n.t("PaytableSectionRiskTitle").toUpperCase()),this._sectionTitle.position.set(0,0),this._sectionParagraph1=new sY(this.game.i18n.t("PaytableSectionRiskContent1")),this._sectionParagraph1.position.set(0,this._sectionTitle.y+this._sectionTitle.height+30),this.addChild(this._sectionTitle),this.addChild(this._sectionParagraph1)}}class sK extends tr(k.Container){resize(){this.game.device.desktop||this._sectionParagraph.position.set(0,this._sectionTitle.height+this._sectionTitle.y+30)}constructor(){super(),this._sectionTitle=new sU(this.game.i18n.t("PaytableSectionFreeTitle").toUpperCase()),this._sectionTitle.position.set(0,0),this._sectionParagraph=new sY(this.game.i18n.t("PaytableSectionFreeContent1")),this._sectionParagraph.position.set(0,this._sectionTitle.height+this._sectionTitle.y+30),this.addChild(this._sectionTitle,this._sectionParagraph)}}class sj extends tr(k.Container){withoutPayout(){this.foreground.width=329}updateBet(t){this.payoutText.text="\n",this.payouts.filter(t=>t.sym===this.findIndex).forEach(e=>{let i;e.n>0&&e.mul>0&&(i="scatter"===e.type?t.toCoins()*e.mul:t.bet*e.mul,"fs"===this.showType&&e.n>3?this.payoutText.text+=`<mul>${e.n}		${this.game.helpers.toMoney(i,t.bet)}*
</mul>`:"description"===this.showType&&e.n>3?this.payoutText.text+=4===e.n?"s_glass"===this.assetName?`<mul>${e.n}		+5 FS
</mul>`:`<mul>${e.n}		+3 FS
</mul>`:"s_glass"===this.assetName?`<mul>${e.n}		+10 FS
</mul>`:`<mul>${e.n}		+5 FS
</mul>`:"description"!==this.showType&&(this.payoutText.text+=`<mul>${e.n}</mul>		${this.game.helpers.toMoney(i,t.bet)}
`))})}resize(){this.game.device.desktop?this.scale.set(1):this.game.device.landscape?this.scale.set(1.4):this.scale.set(1.72)}constructor(t,e="default",i="normal"){var s,n;super(),this.showType=i,this.assetName=t,this.payouts=null!=(n=null==(s=this.game.server.response)?void 0:s.paytable)?n:[],this.layout=this.game.config.get(`slot.layout.${e}`,[]),this.findIndex=this.layout.findIndex(e=>e.assetName===t),this.findSymbol=this.layout[this.findIndex],this.foreground=this.addChild(k.Sprite.from(ty)),this.foreground.width=559,this.foreground.height=361,this.payoutSymbol=new k.Sprite(this.game.loader.getAsset(this.findSymbol.textureAtlas,this.findSymbol.assetName)),this.payoutSymbol.scale.set(.85),this.payoutSymbol.anchor.set(.5),this.payoutSymbol.position.set(this.foreground.width/2-120,this.foreground.height/2),this.payoutText=new tT("",{default:{fill:"white",fontSize:36,fontFamily:"Avenir-Medium",aling:"center"},mul:{fill:"#fbb907"}}),this.payoutText.anchor.y=.5,this.payoutText.position.set(340,this.foreground.height/2),this.addChild(this.payoutSymbol,this.payoutText)}}class sQ extends tr(k.Container){updateBet(t){this.symbols.forEach(e=>e.updateBet(t))}resize(){this.game.device.desktop||(this.game.device.landscape?(this.symbol1.position.set(0,this.sectionTitle.y+this.sectionTitle.height+30),this.symbol2.position.set(820,this.sectionTitle.y+this.sectionTitle.height+30),this.symbol3.position.set(0,this.symbol1.y+this.symbol1.height+30),this.symbol4.position.set(820,this.symbol2.y+this.symbol2.height+30),this.symbol5.position.set(0,this.symbol3.y+this.symbol3.height+30),this.symbol6.position.set(820,this.symbol4.y+this.symbol4.height+30),this.symbol7.position.set(0,this.symbol5.y+this.symbol5.height+30),this.symbol8.position.set(820,this.symbol6.y+this.symbol6.height+30),this.symbol9.position.set(0,this.symbol7.y+this.symbol7.height+30),this.symbol10.position.set(820,this.symbol8.y+this.symbol7.height+30)):(this.symbol1.position.set(0,this.sectionTitle.y+this.sectionTitle.height+30),this.symbol2.position.set(0,this.symbol1.y+this.symbol1.height+30),this.symbol3.position.set(0,this.symbol2.y+this.symbol2.height+30),this.symbol4.position.set(0,this.symbol3.y+this.symbol3.height+30),this.symbol5.position.set(0,this.symbol4.y+this.symbol4.height+30),this.symbol6.position.set(0,this.symbol5.y+this.symbol5.height+30),this.symbol7.position.set(0,this.symbol6.y+this.symbol6.height+30),this.symbol8.position.set(0,this.symbol7.y+this.symbol7.height+30),this.symbol9.position.set(0,this.symbol8.y+this.symbol8.height+30),this.symbol10.position.set(0,this.symbol9.y+this.symbol9.height+30)))}constructor(){super(),this.sectionTitle=new sU(this.game.i18n.t("PaytableSectionPayoutTitle").toUpperCase()),this.symbol1=new sj("2_tree1"),this.symbol1.position.set(0,this.sectionTitle.y+this.sectionTitle.height+30),this.symbol2=new sj("3_tree2"),this.symbol2.position.set(600,this.sectionTitle.y+this.sectionTitle.height+30),this.symbol3=new sj("4_tree3"),this.symbol3.position.set(0,this.symbol1.y+this.symbol1.height+30),this.symbol4=new sj("5_tree4"),this.symbol4.position.set(600,this.symbol2.y+this.symbol2.height+30),this.symbol5=new sj("6_gingerbread1"),this.symbol5.position.set(0,this.symbol3.y+this.symbol3.height+30),this.symbol6=new sj("7_gingerbread2"),this.symbol6.position.set(600,this.symbol4.y+this.symbol4.height+30),this.symbol7=new sj("8_gingerbread3"),this.symbol7.position.set(0,this.symbol5.y+this.symbol5.height+30),this.symbol8=new sj("9_gingerbread4"),this.symbol8.position.set(600,this.symbol6.y+this.symbol6.height+30),this.symbol9=new sj("10_orange"),this.symbol9.position.set(0,this.symbol7.y+this.symbol7.height+30),this.symbol10=new sj("11_ball"),this.symbol10.position.set(600,this.symbol8.y+this.symbol8.height+30),this.symbols=[this.symbol1,this.symbol2,this.symbol3,this.symbol4,this.symbol5,this.symbol6,this.symbol7,this.symbol8,this.symbol9,this.symbol10],this.addChild(this.sectionTitle,...this.symbols)}}class sZ extends tr(k.Container){resize(){this.game.device.desktop||(this.game.device.landscape?(this._symbolScatter.position.set(0,this._sectionTitle.y+this._sectionTitle.height+30),this._sectionParagraph.setTagStyle("default",{wordWrapWidth:420}),this._sectionParagraph.position.set(this._symbolScatter.x+this._symbolScatter.width+30,this._symbolScatter.y+this._symbolScatter.height/2-this._sectionParagraph.height/2)):(this._symbolScatter.position.set(0,this._sectionTitle.y+this._sectionTitle.height+30),this._sectionParagraph.position.set(0,this._symbolScatter.y+this._symbolScatter.height+30)))}constructor(){super(),this._sectionTitle=new sU(this.game.i18n.t("PaytableSectionScatterTitle").toUpperCase()),this._sectionTitle.position.set(0,0),this._symbolScatter=new sj("0_scat"),this._symbolScatter.position.set(0,this._sectionTitle.y+this._sectionTitle.height+30),this._symbolScatter.withoutPayout(),this._sectionParagraph=new sY(this.game.i18n.t("PaytableSectionScatterContent1")),this._sectionParagraph.setTagStyle("default",{wordWrapWidth:620}),this._sectionParagraph.position.set(this._symbolScatter.x+this._symbolScatter.width+30,this._symbolScatter.y+this._symbolScatter.height/2-this._sectionParagraph.height/2),this.addChild(this._sectionTitle,this._symbolScatter,this._sectionParagraph)}}class sq extends tr(k.Container){updateBet(t){this._symbolWild.updateBet(t)}resize(){this.game.device.desktop||(this.game.device.landscape?(this._symbolWild.position.set(0,this._sectionTitle.y+this._sectionTitle.height+30),this._sectionParagraph.position.set(this._symbolWild.x+this._symbolWild.width+30,this._symbolWild.y+this._symbolWild.height/2-this._sectionParagraph.height/2)):(this._symbolWild.position.set(0,this._sectionTitle.y+this._sectionTitle.height+30),this._sectionParagraph.position.set(0,this._symbolWild.y+this._symbolWild.height+30)),this._sectionParagraph.setTagStyle("default",{wordWrapWidth:420}))}constructor(){super(),this._sectionTitle=new sU(this.game.i18n.t("PaytableSectionWildTitle").toUpperCase()),this._sectionTitle.position.set(0,0),this._symbolWild=new sj("1_wild"),this._symbolWild.position.set(0,this._sectionTitle.height+this._sectionTitle.y+30),this._symbolWild.withoutPayout(),this._sectionParagraph=new sY(this.game.i18n.t("PaytableSectionWildContent1")),this._sectionParagraph.position.set(this._symbolWild.x+this._symbolWild.width+30,this._symbolWild.y+this._symbolWild.height/2-this._sectionParagraph.height/2),this._sectionParagraph.setTagStyle("default",{wordWrapWidth:620}),this.addChild(this._sectionTitle,this._symbolWild,this._sectionParagraph)}}class sJ extends sG{updateBet(t){this._paytableSectionPayout.updateBet(t),this._paytableSectionWild.updateBet(t)}constructor(t){super(),this._paytableSectionRisk=new s$,this._paytableSectionPayout=new sQ,this._paytableSectionWild=new sq,this._paytableSectionScatter=new sZ,this._paytableSectionFree=new sK,this.payTableDelimiter=new sH,this._paytableSectionBetLines=new sX(t),this.content.addChild(this._paytableSectionPayout,this._paytableSectionWild,this._paytableSectionScatter,this._paytableSectionFree,this._paytableSectionRisk,this.payTableDelimiter,this._paytableSectionBetLines)}}class s0 extends k.SmoothGraphics{draw({color:t,width:e,padding:i,points:s}){this.lineStyle(e,t),s.forEach(({size:t,position:e},n)=>{let a=Math.round(e[0]+t[0]/2),o=Math.round(e[1]+t[1]/2);0===n&&this.moveTo(e[0]+i,o),this.lineTo(a,o),n===s.length-1&&this.lineTo(e[0]+t[0]-i,o)})}show(){this.visible=!0}hide(){this.visible=!1}constructor(t){super(),this.visible=!1,this.draw(t)}}class s1 extends tr(k.Sprite){active(){this.texture=this.game.loader.getAsset("dot_active")}normal(){this.texture=this.game.loader.getAsset("dot_normal")}disable(){this.interactive=!1}enable(){this.interactive=this.game.device.desktop}resize(){this.visible=this.game.device.desktop||this.game.device.landscape}constructor(t){super(),this.lineIndex=t,this.onHover=new I.Z,this.onOut=new I.Z,this.interactive=this.game.device.desktop,this.texture=this.game.loader.getAsset("dot_normal"),this.game.interaction.hover(this,()=>{this.onHover.dispatch(t),this.active()}),this.game.interaction.out(this,()=>{this.onOut.dispatch(t),this.normal()})}}class s2 extends tr(k.Container){show(t){this.hide(),t.forEach(({line:t})=>{var e,i;null==(e=this.lines[t])||e.show(),null==(i=this.points.get(t))||i.forEach(t=>{t.active()})})}showAllLines(){this.lines.forEach(t=>{t.show()})}hide(){var t;this.lines.forEach(t=>t.hide()),null==(t=this.points)||t.forEach(t=>{t.forEach(t=>{t.normal()})})}enable(){var t;null==(t=this.points)||t.forEach(t=>{t.forEach(t=>{t.enable()})})}disable(){var t;this.hide(),null==(t=this.points)||t.forEach(t=>{t.forEach(t=>{t.disable()})})}constructor(t,e=[]){super(),this.points=new Map,this.lines=t.map(t=>this.addChild(new s0(t))),this.game.device.desktop&&e.map(t=>this.points.set(t.line,t.position.map(e=>{let i=this.addChild(new s1(t.line));return i.position.set(e.x,e.y),i.onHover.add(t=>{this.points.get(t).forEach(t=>{t.active()}),this.lines[t].show()}),i.onOut.add(t=>{this.points.get(t).forEach(t=>{t.normal()}),this.lines[t].hide()}),i})))}}class s5 extends tr(k.Container){requestSpin(t=!0){var e=this;return(0,g._)(function*(){let i=e.game.config.get("spinDelay",0),[s]=yield Promise.all([e.game.server.request({action:"spin",bet:e.game.betLevel.bet}),t&&i>0&&e.game.delay(i)].filter(Boolean));return s})()}findSymbol(t,e){return this.reels[e].visibleSymbols[t]}constructor(){super(),this.name="Slot"}}class s6 extends tr(k.Container){show(t,e){var i=this;return(0,g._)(function*(){if(t>0){i.winText.scale.set(i.textScaleEnabled?i.winTextScale(t):i.textScale),i.visible=!0;let s={coins:0},n=i.y;return new Promise(a=>{i.timeline.eventCallback("onStart",()=>i.emit("show")),i.timeline.eventCallback("onComplete",()=>{i.y=n,i.alpha=1,i.scale.set(1),i.winText.text="",i.visible=!1,i.timeline.clear(),a()}),i.timeline.to(s,1,{coins:t,roundProps:["coins"],onUpdate:()=>{i.winText.text=`${i.game.i18n.currency({bitmap:!0})}<value>${i.game.helpers.toMoney(s.coins)}</value>`},onComplete:e}).addLabel("break",i.delay).to(i,.2,{pixi:{y:n-50,alpha:0,scale:1.1}},"break+=0.5")})}})()}break(){let t=this.timeline.totalDuration(),e=this.timeline.getLabelTime("break")/t;"break"!==this.timeline.currentLabel()&&e>0&&this.timeline.progress(e)}setBackground(t){let e=this.game.loader.getAsset(t);this.background?this.background.texture=e:this.background=this.addChildAt(new k.Sprite(e),0)}constructor(t,e="+=1.75"){super(),this.winTextScale=t=>`${t}`.length<4?this.textScale:this.textScale-(`${t}`.length-4)*this.textScaleMultiplier,this.visible=!1,this.textScaleEnabled=!1,this.textScaleMultiplier=.16,this.textScale=t||.6,this.delay=e,this.winText=this.addChild(new k.BitmapText("",{fontName:"WinFont"})),this.winText.scale.set(this.textScale),this.winText.anchor.set(.5),this.timeline=new x.TY}}class s8 extends tr(k.Container){show(t){return new Promise(e=>{this.textValue.text=`${t}`,this.textValue.position.set(0,-this.textFreeSpinPlayed.height+90),this.textFreeSpinPlayed.position.set(0,0),this.textFreeSpinPlayed.alpha=1,this.alpha=0,this.scale.set(1),new x.TY({onComplete:e}).to(this,.5,{pixi:{alpha:1}}).to(this,.2,{pixi:{alpha:0,scale:1.1}},"+=0.75")})}resize(){this.game.device.desktop?this.position.set(1100,500):this.game.device.landscape&&!this.game.device.desktop?this.position.set(this.game.leftHand.enabled?0:1200,500):this.position.set(1050,538)}constructor(){super(),this.name="TextFreeLeft",this.alpha=0,this.textValue=new k.BitmapText("",{fontName:"WinFont"}),this.textValue.anchor.set(.5),this.textValue.angle=-7,this.textFreeSpinPlayed=this.addChild(new k.Text(this.game.i18n.t("FeatureFreeSpinsText"),{align:"center",dropShadow:!0,dropShadowAngle:1.5,dropShadowBlur:11,dropShadowColor:"#ffffff",dropShadowDistance:0,fill:["#ff5a00","#ff0000"],fillGradientStops:[.3,1],fontFamily:"Avenir-Bold",fontSize:["bg","uk","sr"].includes(this.game.i18n.language)?45:55,stroke:"#ffffff",strokeThickness:6})),this.textFreeSpinPlayed.anchor.set(.5),this.textFreeSpinPlayed.angle=-7,this.textFreeSpinPlayed.alpha=0,this.addChild(this.textValue),this.addChild(this.textFreeSpinPlayed)}}class s3 extends tr(k.Container){get isStop(){return this.game.autoPlay.enabled&&this.game.autoPlay.count>0}constructor(){super()}}class s7 extends tr(s3){get isStop(){return super.isStop||this.game.store.get("free:isFree",!1)||this.game.store.get("free:isEnd",!1)}stop(){this.slot.lines.hide(),this._wins.length=0,clearInterval(this._flushInterval),this.slot.reels.forEach(t=>t.stopAnimation()),this.slot.textLineWin.clear()}_getWinSoundNumber(){let t=this.game.store.get("reward:numberWinSymbol",0);return t<=9?1:t>9&&t<=13?2:3}allPayment(t){var e=this;return(0,g._)(function*(){e.slot.reels.forEach(t=>t.overlay()),e.slot.lines.show(t);let i=0,s=t.length;for(;i<s;i++){let s=t[i];e._wins.push(s),e._runSymbolAnimation(s,!1)}let n=e._getWinSoundNumber();e.game.action.emit("sound:win",n),yield e.slot.textTotalWin.show(e.game.wallet.coins,()=>{e.game.action.emit("update:win"),e.game.action.emit("update:balance")})})()}scatterPayment(t){var e=this;return(0,g._)(function*(){e.game.action.emit("sound:scatterWin"),e.slot.lines.hide(),e.game.slot.reels.forEach(t=>t.stopAnimation()),e.game.slot.reels.forEach(t=>t.overlay()),e.game.isNextFeature("freespin")?(e._runSymbolAnimation(t,!1,"free"),e.game.action.emit("sound:winFreeStart")):e.game.isNextAction("spin")&&(e._runSymbolAnimation(t,!1,"freeStop"),e.game.action.emit("sound:winFreeStop")),yield e.game.delay(2e3)})()}breakAllPayment(){this.slot.textTotalWin.break()}complete(){this.game.isNextFeature("freespin")?setTimeout(()=>{this.stop()},500):this.isStop||(this._wins.length>0?this._flush():this.slot.lines.enable())}_flush(){let t=!0,e=e=>{this.slot.reels.forEach(t=>t.overlay());let i=this._wins[e];this._runSymbolAnimation(i,!1),t&&this._showLineText(i),this.slot.lines.show([i])},i=0;e(i++),this._flushInterval=setInterval(()=>{i>=this._wins.length&&(t=!1,i=0),e(i++)},iU.get("reward_flush"))}_findSymbol(t,e){return this.slot.reels[t].visibleSymbols[e]}_runSymbolAnimation({pos:t},e=!1,i="normal"){e&&this.slot.reels.forEach(t=>t.stopAnimation());for(let e=0;e<t.length;e++){if(-1===t[e])continue;let s=t[e],n=this._findSymbol(e,s),a=this.game.config.get("slot.size[0]")*s+e;n.playAnimation(i,a,e)}}_showLineText({pos:t,win:e}){let i=t.length,s=Math.round(t.length/2)-1,n=t.reduce((t,e,n)=>{let a=Math.abs(s-n);return e>-1&&a<=i&&(i=a,t=n),t},-1),a=this._findSymbol(n,t[n]),o=a.x+a.width/2,h=a.y+a.height/2;this.slot.textLineWin.show(o,h,e)}constructor(t){super(),this.slot=t,this._soundFreeWin=this.game.sound.get("scatterWin"),this._wins=[],this._flushInterval=null}}class s4{show(t,e,i){this.container.scale.set(.3),this.container.x=t,this.container.y=e,this.container.text=`${s.i18n.currency({bitmap:!0})}${s.helpers.toMoney(i)}`,this.container.alpha=1,this.hide()}hide(){this.tween=x.kX.to(this.container,.2,{pixi:{alpha:0,y:this.container.y-30,scale:this.container.scale.x+.1},onComplete:()=>{this.container.text=""},delay:1})}clear(){this.tween&&this.tween.kill(),this.container.text="",this.container.alpha=0}constructor(){this.container=new k.BitmapText("",{fontName:"WinFont"}),this.container.anchor=.5,this.container.alpha=0}}class s9 extends tr(k.Container){start(){this.stopAnimation(),this.isStop=!1,this._numberSpinToComplete=this.visibleSymbols.length,this.children.forEach((t,e)=>{let i=this.game.store.get("reward:nReels",[])[this._reelIndex].concat();(t.y<this.visibleSymbols[0].y||t.y>this.visibleSymbols[this.visibleSymbols.length-1].y)&&t.replaceTexture(i[e])});let t=this.game.quickSpin.enabled?this.game.config.get("wheel.durationQuickDelta"):this.game.config.get("wheel.durationDelta");this._endTween.duration(t),this.children[0].alpha=1,this.children[this.children.length-1].alpha=1,this._startTween.restart()}stop(){if(this.isStop)return;let t=this.game.store.get("reward:nReels",[]);this._nReel=t[this._reelIndex].concat();let e=this.game.store.get("reward:reels",[]);this._reel=e[this._reelIndex].concat(),this.isStop=!0}overlay(){this.visibleSymbols.forEach(t=>t.overlay())}stopAnimation(){this.visibleSymbols.forEach(t=>t.stopAnimation())}existScatter(){return this._reel.some(t=>0===t)}_updateVisibleSymbols(){this.visibleSymbols.length=0;for(let t=1,e=this.children.length-1;t<e;t++)this.visibleSymbols.push(this.children[t])}_setup(){let t;let e=this.game.store.get("reward:nReels",[]);this._nReel=e[this._reelIndex].concat();let i=this.game.isFeature("feature")&&this.game.preReels?this.game.preReels:this.game.store.get("reward:reels",[]);this._reel=i[this._reelIndex].concat();for(let e=0,i=this._nReel.length;e<i;e++){let[s,n]=this.symbolsPositions[e];t=0===e||e===i-1?this._nReel[e]:this._reel[e-1];let a=this.addChild(new iW(s,n,t));e>0&&e<i-1&&this.visibleSymbols.push(a)}this._startY=this.children[0].y,this.children[0].alpha=0,this.children[this.children.length-1].alpha=0}_spin(){if(this._flip(),this.isStop){if(this._numberSpinToComplete>0){let t=this._reel[--this._numberSpinToComplete];this.children[0].replaceTexture(t)}else this.y=0,this.children[0].y=this._startY,this._updateVisibleSymbols(),this.visibleSymbols.forEach(t=>t.unblur()),this.game.action.emit("wheel:stop_down",this._reelIndex),this._spinTween.pause(),this._endTween.restart(),this.children[this.children.length-1].alpha=0,this.children[0].alpha=0}}_flip(){let t=this.children.pop();t.y=this._startY,t.visible=!0,!this.isStop&&this._nReel.length>0&&t.replaceTexture(this._nReel.pop());for(let t=0,e=this.children.length;t<e;t++)this.children[t].y=-(t*this._startY);this.children.unshift(t)}_complete(){this.children[0].alpha=0,this.y=0,this._reel.length=0,this._endTween.pause(),this.game.action.emit("wheel:stop",this._reelIndex)}anticipant(){this.children.forEach(t=>{t.anticipantBlur()})}update(t){let e=this.visibleSymbols.length;for(let i=0;i<e;i++)this.visibleSymbols[i].replaceTexture(t[i])}constructor(t,e){super(),this.interactiveChildren=!1,this.isStop=!1,this.visibleSymbols=[],this.symbolsPositions=e,this._startY=0,this._endY=0,this._reel=[],this._nReel=[],this._reelIndex=t,this._numberSpinToComplete=0,this.sortableChildren=!0,this._startTween=new x.kX(this,this.game.config.get("wheel.durationSpin"),{paused:!0,roundProps:["y"],pixi:{y:-this.game.config.get("wheel.deltaStop")},ease:"Linear.easeNone",yoyo:!0,repeat:1,repeatDelay:0,onComplete:()=>{this.children.forEach(t=>{t.blur()}),this._spinTween.restart()}}),this._spinTween=new x.kX(this,this.game.config.get("wheel.durationSpin"),{paused:!0,roundProps:["y"],pixi:{y:this.game.config.get("symbol.y")},ease:"Linear.easeNone",repeat:-1,repeatDelay:0,onRepeat:this._spin.bind(this)}),this._endTween=new x.kX(this,.01,{paused:!0,roundProps:["y"],pixi:{y:this.game.config.get("wheel.deltaStop")},ease:"Linear.easeNone",yoyo:!0,repeat:1,repeatDelay:0,onComplete:this._complete.bind(this)}),this._setup()}}class nt extends s5{createMask(){let t=new k.Graphics;return t.beginFill(16711680,.8),t.drawRect(0,40,this.game.config.get("slot.width")-140,this.game.config.get("slot.height")-5),t.endFill(),t}init(){var t,e;let i=this.createMask();this.reelsContainer=new k.Container,this.reelsContainer.mask=i,this.reelsContainer.addChild(i);let s=this.game.config.get("slot.size[0]");for(let t=0;t<s;t++){let e=this.symbolsPositions[t],i=new s9(t,e);this.reels.push(i),this.reelsContainer.addChild(i)}this.slotData={reels:this.reels.map(t=>t.visibleSymbols),lines:null!=(e=null==(t=this.game.server)?void 0:t.response.lines)?e:[]},this.lines=new s2(this.slotData.lines.map(t=>({color:16763904,width:3,padding:150,points:t.map((t,e)=>{let i=this.slotData.reels[e][t];return{position:[i.x,i.y],size:[i.width,i.height]}})}))),this.anticipantAnimation=new tm(this.game.loader.getAsset("assets/images/effects/frameReel/skeleton.json")),this.anticipantAnimation.position.set(800,430),this.anticipantAnimation.renderable=!1,this.slotBackground=new k.Sprite(this.game.loader.getAsset("assets/images/background/reel.png")),this.slotBackground.position.set(-118,-70),this.frameAnimation=new tm(this.game.loader.getAsset("assets/images/effects/frameReelDecore/skeleton.json")),this.frameAnimation.position.set(665,455),this.frameAnimation.renderable=!0,this.frameAnimation.play("animation",!0),this.textTotalWin=new s6(.7,"1"),this.textLineWin=new s4,this.textFreeLeft=new s8,this.addChild(this.slotBackground),this.addChild(this.reelsContainer),this.addChild(this.lines),this.addChild(this.anticipantAnimation),this.addChild(this.frameAnimation),this.addChild(iR),this.addChild(this.textLineWin.container),this.addChild(this.textTotalWin),this.addChild(this.textFreeLeft)}updateFsReels(){setTimeout(()=>{this.reels.forEach((t,e)=>{let i=this.game.store.get("reward:fsReels",[]);t.update(i[e])})},500)}updateAfterFsReels(){let t=this.game.store.get("reward:preReels");setTimeout(()=>{this.reels.forEach(t=>t.stopAnimation()),this.reels.forEach((e,i)=>{e.update(t[i])})},500)}updateFreeLeft(t){var e=this;return(0,g._)(function*(){e.game.isFree&&(yield e.textFreeLeft.show(t))})()}playIdle(){this.runSymbolAnimation({animationName:"idle"})}playStop(t){this.reels[t].visibleSymbols.forEach(t=>t.playStop())}playAnticipant(t){let e=this.reels[t].visibleSymbols[0];this.anticipantAnimation.play("animation",!0),this.anticipantAnimation.renderable=!0,this.anticipantAnimation.position.set(e.x+150,440)}stopAnticipant(){this.anticipantAnimation.renderable=!1,this.anticipantAnimation.stop()}beforeFreeSpinsPopup(t=!1){x.kX.fromTo(this,.3,{pixi:{alpha:1}},{pixi:{alpha:0}})}runSymbolAnimation(t,e=-1){e>-1?this.reels[e].visibleSymbols.forEach(e=>e.playAnimation(t)):this.reels.forEach(e=>{e.visibleSymbols.forEach((e,i)=>{t.symbolPosition=i,e.playAnimation(t)})})}getReelByIndex(t){return this.reels[t]}getSymbolByPosition(t,e){return this.reels[t].visibleSymbols[e]}overlay(){this.reels.forEach(t=>t.overlay())}hideSymbols(t){this.getReelByIndex(t).visibleSymbols.forEach(t=>{t.visible=!1})}resize(){this.game.device.desktop?(this.scale.set(.95),this.position.set(1050,140),this.textTotalWin.position.set(668,493)):this.game.device.landscape&&!this.game.device.desktop?(this.scale.set(.92),this.position.set(1020,145),this.textTotalWin.position.set(668,493)):(this.scale.set(.72),this.position.set(597,528),this.textTotalWin.position.set(671,481))}constructor(){super(),this.pivot.set(750,60),this.reels=[],this.symbolsPositions=this.game.config.get("slot.symbolsPositions",[]),this.animation=new s7(this),this.init()}}let ne={align:"center",fill:["#ffffff","#05d3ff"],fillGradientType:k.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[.3,1],fontFamily:"Avenir-Bold",fontSize:120,miterLimit:0,stroke:"#760204",strokeThickness:16};class ni extends tr(k.Container){show(t,e){var i=this;return(0,g._)(function*(){let s=0;t===tH.Big?(s=9,i.game.action.emit("sound:bigWin")):t===tH.Giant&&(s=18,i.game.action.emit("sound:giantWin"));let n=!1;return i.value.scale.set(.7),new Promise(a=>{i.alpha=0,i.value.alpha=0,i.title.alpha=0,i.title.text=i.game.i18n.t("BigWinText"),i.value.text="",i.timeline.eventCallback("onComplete",()=>{i.hide(),a()});let o={coins:0};i.timeline.to(i,.35,{pixi:{alpha:1}},0).to(i.title,.35,{pixi:{alpha:1}},.35).to(i.value,.5,{pixi:{alpha:1,scale:.7}},.35).to(o,s,{coins:e,ease:x.oY.Linear.easeNone,roundProps:["coins"],onStart:()=>{i.title.text=i.game.i18n.t("BigWinText"),tf({width:850,height:400},i.title),i.light.play("animation",!0),i.light.alpha=1},onUpdate:()=>{!n&&t===tH.Giant&&o.coins>e/2&&(i.title.text=i.game.i18n.t("GiantWinText"),tf({width:850,height:400},i.title),n=!0,i.coins.play("animation",!0),i.coins.alpha=1,i.light.alpha=0,x.kX.to(i.value,s/2,{pixi:{scale:.7+.1}})),i.value.text=`${i.game.i18n.currency({bitmap:!0})}<value>${i.game.helpers.toMoney(o.coins)}</value>`}},.35),i.timeline.addLabel("break","+=0.75"),i.timeline.to(i,.2,{pixi:{alpha:0}},"break+=1"),i.visible=!0,i.resize()})})()}hide(){this.visible=!1,this.value.text="",this.light.stop(),this.light.alpha=0,this.coins.stop(),this.coins.alpha=0,this.timeline.clear(),this.onPress.handlers(!0)&&this.onPress.detachAll()}press(t){this.onPress.once(t)}break(){let t=this.timeline.totalDuration(),e=this.timeline.getLabelTime("break")/t;e>0&&this.timeline.progress(e)}resize(){this.overlay.height=2*this.game.viewport.paddingY+this.game.viewport.height+2,this.overlay.width=2*this.game.viewport.paddingX+this.game.viewport.width,this.overlay.position.set(-this.game.viewport.paddingX,0),this.game.device.desktop||this.game.device.landscape?(this.content.position.set(this.game.viewport.width/2,500),this.light.scale.set(1),this.coins.scale.set(1),this.content.scale.set(1),this.light.pivot.set(0,0),this.light.position.set(-320,0),this.coins.pivot.set(0,0),this.coins.position.set(-320,0),this.value.position.set(0,170)):(this.overlay.height=2*this.game.viewport.paddingY+this.game.viewport.height,this.overlay.width=2*this.game.viewport.paddingX+this.game.viewport.width,this.overlay.position.set(-this.game.viewport.paddingX,0),this.content.position.set(this.game.viewport.width/2,955),this.content.scale.set(.7),this.light.scale.set(.66),this.coins.scale.set(.66),this.light.pivot.set(450,1050),this.light.position.set(0,1322),this.coins.pivot.set(450,1050),this.coins.position.set(0,1322),this.value.position.set(0,165))}constructor(){super(),this.visible=!1,this.interactive=!0,this.onPress=new I.Z,this.game.interaction.click(this,()=>this.onPress.dispatch()),this.timeline=new x.TY,this.content=new k.Container,this.overlay=new k.Graphics,this.overlay.beginFill(0,.75),this.overlay.drawRect(0,0,1920,1080),this.overlay.endFill(),this.title=new k.Text("",ne),this.title.anchor.set(.5),this.value=new k.BitmapText("",{fontName:"WinFont"}),this.value.anchor=.5,this.value.scale.set(.7),this.light=new tm(this.game.loader.getAsset("assets/images/effects/bigGiantWin/skeleton.json")),this.light.changeSkin("bigWin"),this.light.alpha=0,this.coins=new tm(this.game.loader.getAsset("assets/images/effects/bigGiantWin/skeleton.json")),this.coins.changeSkin("giantWin"),this.coins.alpha=0,this.content.addChild(this.title),this.content.addChild(this.value),this.addChild(this.overlay),this.addChild(this.light),this.addChild(this.coins),this.addChild(this.content)}}c=v("RiskFeature.Enter"),u=v("RiskFeature.Exit");class ns extends ez{get canShowIntro(){return this.preferences.get("showIntroScreen",!0)&&!this.isFeature("freespin")&&!this.isFeature("feature")}get canShowRNB(){return this.preferences.get("showRiskFeature",!0)&&this.config.get("rnb",!0)}getRootMask(){return this.device.mobile?null:super.getRootMask()}loadTranslations(){var t=this,e=()=>super.loadTranslations;return(0,g._)(function*(){return e().call(t,iJ)})()}loadAssets(t){var e=this,i=()=>super.loadAssets;return(0,g._)(function*(){return i().call(e,e.canShowIntro?iy:[...iy,...iv])})()}init(t,e){var i=this,s=()=>super.init;return(0,g._)(function*(){i.tips=new sn(i),i.riskWheel=new tF(i),s().call(i,t,e)})()}initModules(t){super.initModules(t),this.sound=new iG(this)}initSound(){var t=this;return(0,g._)(function*(){if(t.device.desktop)t._soundState=!1;else{let e=yield t.popupManager.show("PopupSound");t._soundState=!e}})()}showIntroScreen(){var t=this;return(0,g._)(function*(){var e,i;t.background=t.rootNode.addChild(new ix),t.canShowIntro?(t.background.logo.alpha=0,t.introScreen=t.rootNode.addChild(new i7),t.loader.on("progress",e=>t.introScreen.updateProgress(e)),yield t.loader.load(iv),t.sound.init(t._soundState),null==(e=t.sound.get("backgroundNormal"))||e.fade(2),yield t.introScreen.play()):(t.sound.init(t._soundState),null==(i=t.sound.get("backgroundNormal"))||i.fade(2))})()}initViews(){super.initViews(),this.background.logo.alpha=1,this.tips.toView(new sh),this.riskWheel.setView(new iB).initSound(),this.slot=new nt,this.freeSpin=new ss(this),this.stickyWilds=new iE(this),this.paytable=new sJ(null!=(i=null==(t=this.server)?void 0:t.response.lines)?i:[]),this.gameSettings=new ic,this.config.get("quickSpin.available",!0)&&this.gameSettings.addItem(this.createQuickSpinCheckbox()),this.gameSettings.addItem(this.createFullscreenCheckbox()),this.gameSettings.addItem(this.createLeftHandCheckbox()),this.gameSettings.addItem(this.createGameSoundsCheckbox()),this.gameSettings.addItem(this.createBackgroundSoundsCheckbox()),this.gameSettings.addItem(this.createIntroScreenCheckbox()),this.checkboxRiskFeature=this.createRiskFeatureCheckbox(),this.gameSettings.addItem(this.checkboxRiskFeature),this.bigWinAnimation=new ni,this.fastStopLayout=new e8,this.controls=this.device.desktop?new sE:new sD,this.betSettings=new e6,this.betSettings.setBets(this.betLevel.bets,this.betLevel.betCoins),this.betSettings.setPayLines(40),this.betSettings.setBet(this.betLevel.bet),this.autoPlaySettings=new ej,this.autoPlaySettings.setAutoPlayCounts(this.autoPlay.counts),this.autoPlaySettings.stopSection.addItem(new e1),this.autoPlaySettings.stopSection.addItem(new eJ),this.autoPlaySettings.stopSection.addItem(new eZ),this.autoPlaySettings.stopSection.addItem(new eq),this.gameRules=new id,this.menu=new im,this.menu.addItem(this.loader.getAsset("iconPaytable"),this.paytable),this.menu.addItem(this.loader.getAsset("iconSettings"),this.gameSettings),this.menu.addItem(this.loader.getAsset("iconRules"),this.gameRules),this.paytable.updateBet(this.betLevel),this.controls.updateBet(this.betLevel),this.betSettings.on("open",()=>{this.menu.close(),this.autoPlaySettings.close(),this.controls.onBetSettingsOpen()}),this.betSettings.on("close",()=>{this.controls.onBetSettingsClose()}),this.betSettings.on("pickBet",t=>{t!==this.betLevel.bet&&(this.riskWheel.hideButtonOpen(),this.action.emit("reward:reset")),this.betLevel.set(this.betLevel.bets.indexOf(t))}),this.autoPlaySettings.on("open",()=>{this.menu.close(),this.betSettings.close(),this.controls.onAutoPlaySettingsOpen()}),this.autoPlaySettings.on("close",()=>{this.controls.setAutoPlayCount(-1),this.controls.onAutoPlaySettingsClose()}),this.autoPlaySettings.on("pickAutoPlayCount",t=>{this.autoPlay.setCount(t),this.controls.setAutoPlayCount(t),this.autoPlaySettings.setAutoPlayCount(t)}),this.betLevel.on("change",t=>{this.paytable.updateBet(this.betLevel),this.controls.updateBet(this.betLevel),this.betSettings.setBet(this.betLevel.bet)}),this.action.on("clickSpin",()=>{!this.riskWheel.visible&&(this.afterFree=!1,this.menu.close(),this.betSettings.close(),this.autoPlaySettings.close(),this.riskWheel.hideButtonOpen(),this.state.oneOf(["ready","spin","stop"])&&(this.store.get("spin:isSpin",!1)?(this.fastStopLayout.disable(),this.action.emit("spin:start")):this.checkBalance().then(()=>{this.autoPlay.enabled||(this.state.is("ready")&&!this.config.get("quickSpin.available",!0)&&this.controls.buttonSpin.disable(),this.action.emit("sound:click"),this.action.emit("spin:start"))})))}),this.action.on("clickMaxBet",()=>{this.freeRound.enabled||(this.slot.animation.stop(),this.slot.lines.enable(),this.slot.playIdle(),this.menu.close(),this.betSettings.toggle(this.wallet.balance))}),this.autoPlay.on("enable",()=>{this.controls.onAutoPlayEnable(this.autoPlay.count)}),this.autoPlay.on("disable",()=>{this.controls.onAutoPlayDisable()});var t,e,i,s=this;this.freeRound.onStart.once((0,g._)(function*(t,e){var i;null==(i=s.checkboxRiskFeature)||i.disable(),yield s.popupManager.show("PopupFreeRound",{count:0===t&&s.isFeature("freespin")?1:t,bet:s.betLevel.toCoins()}),e()}));var n=this;this.freeRound.onFinish.once((0,g._)(function*(t){var e;null==(e=n.checkboxRiskFeature)||e.enable(),n.autoPlay.disable(),yield n.popupManager.show("PopupFreeRound",{win:n.wallet.totalCoins,bet:n.betLevel.toCoins(),played:n.freeRound.played}),n.tips.show(),t()})),this.menu.on("open",t=>{this.background.hide(),this.riskWheel.onMenuOpen(),this.device.desktop||this.riskWheel.disableButtonOpen()}),this.menu.on("close",()=>{this.background.show(),this.riskWheel.onMenuClose(),this.device.desktop||this.riskWheel.enableButtonOpen()}),this.action.on("reward:reset",()=>{this.slot.animation.stop(),this.slot.lines.enable(),this.slot.playIdle()}),null==(e=this.checkboxRiskFeature)||e.onClick.add(()=>{this.preferences.get("showRiskFeature",!0)||this.riskWheel.hideButtonOpen()})}mountViews(){this.rootNode.addChild(this.tips.view),this.rootNode.addChild(this.slot),this.slot.addChildAt(this.stickyWilds.view,3),this.rootNode.addChild(this.betSettings),this.rootNode.addChild(this.autoPlaySettings),this.rootNode.addChild(this.fastStopLayout),this.rootNode.addChild(this.menu),this.rootNode.addChild(this.controls),this.rootNode.addChild(this.riskWheel.view.buttonOpen),this.rootNode.addChild(this.freeSpin.overlay),this.rootNode.addChild(this.bigWinAnimation),this.popupManager.add([new iS]),super.mountViews(),this.rootNode.addChild(this.riskWheel.view)}initStates(){super.initStates(),this.state.add("setup",new iK(this),["ready"]),this.state.add("ready",new iX(this),["spin"]),this.state.add("spin",new ij(this),["stop"]),this.state.add("stop",new iQ(this),["reward"]),this.state.add("reward",new iH(this),["finish"]),this.state.add("finish",new iV(this),["ready"])}start(){var t=this,e=()=>super.start;return(0,g._)(function*(){e().call(t),iI.set(t.store.get("reward:feature",r.Basic)),yield t.freeRound.start(),t.state.goTo("setup"),t.isFeature("freespin")?(t.isFree=!0,yield t.freeSpin.restore()):t.tips.base(t.preferences.get("showRiskFeature",!0)).show(),t.state.goTo("ready")})()}showRiskButton(){var t=this;return(0,g._)(function*(){!t.canShowRNB||!t.riskWheel.available||t.isFree||t.autoPlay.enabled&&0!==t.autoPlay.count||t.scatters||t.riskWheel.showButtonOpen()})()}checkBalance(){var t=this;return(0,g._)(function*(){if(!(t.freeRound.enabled||t.store.get("free:isFree",!1))&&t.wallet.balance<t.betLevel.toCoins()){try{yield t.server.request({action:"balance"}),t.action.emit("update:balance")}catch(e){yield t.catchError(e)}if(t.wallet.balance<t.betLevel.toCoins())throw yield t.popupManager.show("PopupZeroBalance"),t.slot.playIdle(),Error("Not enough balance")}})()}initRequest(){var t=this,e=()=>super.initRequest;return(0,g._)(function*(){let i=yield e().call(t);return t.wildReels=i.wildReels?i.wildReels:void 0,t.reels=i.reels?i.reels:void 0,i.preSpin&&(t.preReels=i.preSpin.reels?i.preSpin.reels:void 0,t.preScatters=i.preSpin.scatters?i.preSpin.scatters:void 0),t.riskWheel.setWheels(i.riskWheels),t.riskWheel.setMaxWinMul(i.riskMaxWin),i})()}spinRequest(t,e){var i=this,s=()=>super.spinRequest;return(0,g._)(function*(){let n=yield s().call(i,t,e);return i.scatters=n.scatters?n.scatters:void 0,i.wildReels=n.wildReels?n.wildReels:void 0,i.reels=n.reels?n.reels:void 0,n.preSpin&&(i.preReels=n.preSpin.reels?n.preSpin.reels:void 0,i.preScatters=n.preSpin.scatters?n.preSpin.scatters:void 0),i.riskWheel.setWheelWin(!1),n.risk?(i.riskWheel.resetPlayed(),i.riskWheel.setBet(n.bet),i.riskWheel.setBetCoins(i.betLevel.toCoins()),i.riskWheel.setRiskBet(n.risk.bet),i.riskWheel.setWin(n.totalWin)):i.riskWheel.setRiskBet(0),n})()}beforeSpin(){var t=this;return(0,g._)(function*(){t.autoPlay.enabled||t.isFree||(yield t.quickSpin.tryEnable())})()}afterReelsStop(){!this.store.get("spin:isFast",!1)||this.autoPlay.enabled||iI.isFreespin()||this.quickSpin.update()}enterRisk(){this.slot.animation.stop(),this.controls.enterRisk(),this.menu.close(),this.betSettings.close(),this.autoPlaySettings.close(),this.slot.playIdle()}exitRisk(){this.controls.exitRisk()}constructor(){super({}),this.defaultMenuOpenIndex=0,this._soundState=!1,p(this),iD.init(),this.init(iv,ik)}}({e:[p]}=(0,m._)(ns,[[c,2,"enterRisk"],[u,2,"exitRisk"]],[])),new ns},6799:(t,e,i)=>{"use strict";i.d(e,{TY:()=>d,kX:()=>l,oY:()=>u,vB:()=>c});var s=i(8657),n=i(4500),a=i(604),o=i(4616),h=i(7346),r=i(5444);i(3306),s.Z,n.ZP;let l=a.ZP,d=o.ZP,c=null==a.ZP?void 0:a.ZP.ticker,u={Linear:h.bJ,Back:r.eJ,Elastic:r.tQ,Power2:h.Lp,Bounce:r.sm,Sine:r.Yv}},8893:(t,e,i)=>{"use strict";i.d(e,{$u:()=>c,tj:()=>u});var s=i(6804),n=i(4571),a=i(6661),o=i(6158),h=i(6799),r=i(2460);let l=new Map;class d extends n.Howl{fade(t,e=-1,i=0){return this.volume(i),h.kX.to(this,t,{volume:e>-1?e:this.initialVolume}),this.play(),this}constructor(t){super(t),this.initialVolume=1,this.data={},this.initialVolume=t.volume}}class c{init(t){let e=this.preferences.get("volume",1);this.volume=this.device.desktop&&!t?e:t?0:1}setGlobalVolume(t,e=!0){n.Howler.volume(t),e&&this.preferences.set("volume",t)}add(t){return this.get(t)}set volume(t){t<=0&&!this.mutedAll?l.forEach(t=>this.setMuteBySound(t,!0)):t>0&&this.mutedAll&&l.forEach(t=>this.setMuteBySound(t,!1)),this.savedVolume=t,this.setGlobalVolume(t),this.onChangeVolume.dispatch(t)}get volume(){return n.Howler.volume()}get mutedAll(){return this.muted("all")}muted(t){return this.filterByType(t).every(({muted:t})=>t)||this.volume<=0}mute(t,e=!0,i=!0){this.filterByType(t).forEach(t=>this.setMuteBySound(t,e)),e?this.mutedAll&&this.setGlobalVolume(0,i):this.setGlobalVolume(this.savedVolume<=0?1:this.savedVolume,i),this.onChangeMute.dispatch(t,e)}toggle(t){let e=!this.muted(t);return this.mute(t,e),e}filterByType(t){return Array.from(l.values()).filter(({type:e})=>"all"===t||t===e)}setMuteBySound(t,e){t.muted=e,t.sound.mute(e)}get(t){var e;return null==(e=l.get(t))?void 0:e.sound}play(t,...e){var i;return null==(i=this.handlers.get(t))?void 0:i(...e)}constructor(t,e,i){this.device=t,this.visibility=e,this.preferences=i,this.handlers=new Map,this.savedVolume=0,this.onChangeMute=new r.Z,this.onChangeVolume=new r.Z,this.visibility.on("change",t=>{try{var e,i;"hidden"!==t||this.mutedAll?null==(i=n.Howler.ctx)||i.resume():null==(e=n.Howler.ctx)||e.suspend()}catch(t){}})}}class u{static pre(t,e){t&&u.supportedSoundExtensions.includes(t.extension)&&(t.load=function(t){if(!this.isLoading){if(this.isComplete){t&&setTimeout(()=>t(this),1);return}t&&this.onComplete.once(t),this.data=new d({src:this.url,sprite:this.metadata.sprite||!1,volume:this.metadata.audioMetadata.volume,loop:this.metadata.audioMetadata.loop}),this.type=o.kC.TYPE.AUDIO,this.loadType=o.kC.LOAD_TYPE.AUDIO,this._setFlag(o.kC.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),this.data.on("loaderror",this._boundOnError,!1),this.data.on("load",this._boundComplete,!1),this.sound=this.data}},t.complete=function(){var t;if(this.data&&(this.data.off("loaderror",this._boundOnError,!1),this.data.off("load",this._boundComplete,!1)),this.isComplete)throw Error("Complete called again for an already completed resource.");this._setFlag(o.kC.STATUS_FLAGS.COMPLETE,!0),this._setFlag(o.kC.STATUS_FLAGS.LOADING,!1);let e=null!=(t=this.name)?t:this.url;l.set(e,(0,s._)({},this.metadata.audioMetadata,{id:e,sound:this.sound,muted:!1})),this.onComplete.dispatch(this)},t._boundComplete=t.complete.bind(t)),e()}}u.extension=a.n.Loader,u.supportedSoundExtensions=["mp3"]},943:(t,e,i)=>{"use strict";i.d(e,{Oc:()=>g,PY:()=>d.PY,sf:()=>a.AttachmentType}),i(9520);var s,n=i(6661),a=i(2562),o=i(7701),h=i(1368),r=i(9685),l=i(7566),d=i(4013);function c(t){let e=t.substr(0,3);return"3.7"===e?37:"3.8"===e?38:"4.0"===e?40:"4.1"===e?41:37>Math.floor(10*+e+.001)?37:0}i(3113),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VER37=37]="VER37",t[t.VER38=38]="VER38",t[t.VER40=40]="VER40",t[t.VER41=41]="VER41"}(s||(s={}));class u{readSkeletonData(t,e){let i=new a.BinaryInput(e);i.readString();let s=i.readString(),n=c(s),o=null;return 38===n&&(o=new r.SkeletonBinary(new r.AtlasAttachmentLoader(t))),(i=new a.BinaryInput(e)).readInt32(),i.readInt32(),(40===(n=c(s=i.readString()))||41===n)&&(o=new l.SkeletonBinary(new l.AtlasAttachmentLoader(t))),o.scale=this.scale,o.readSkeletonData(e)}constructor(){this.scale=1}}class p{readSkeletonData(t,e){let i=c(e.skeleton.spine),s=null;return 37===i&&(s=new h.SkeletonJson(new h.AtlasAttachmentLoader(t))),38===i&&(s=new r.SkeletonJson(new r.AtlasAttachmentLoader(t))),(40===i||41===i)&&(s=new l.SkeletonJson(new l.AtlasAttachmentLoader(t))),s.scale=this.scale,s.readSkeletonData(e)}constructor(){this.scale=1}}class g extends o.go{createBinaryParser(){return new u}createJsonParser(){return new p}parseData(t,e,i,s){t.spineData=e.readSkeletonData(i,s),t.spineAtlas=i}}g.extension=n.n.Loader,g.use=new g().genMiddleware().use},2428:(t,e,i)=>{"use strict";i.r(e),i.d(e,{ALPHA_MODES:()=>k.ALPHA_MODES,AbstractBatchRenderer:()=>h.eo,AbstractMultiResource:()=>h.M4,AbstractRenderer:()=>h.I8,AnimatedSprite:()=>P.K,AppLoaderPlugin:()=>w.LP,ArrayResource:()=>h.$N,Attribute:()=>h.ah,BLEND_MODES:()=>k.BLEND_MODES,BUFFER_BITS:()=>k.BUFFER_BITS,BUFFER_TYPE:()=>k.BUFFER_TYPE,BaseImageResource:()=>h.bg,BasePrepare:()=>c.Zq,BaseRenderTexture:()=>h.jd,BaseTexture:()=>h.VL,BatchDrawCall:()=>h.a$,BatchGeometry:()=>h.JZ,BatchPluginFactory:()=>h.TJ,BatchRenderer:()=>h.Bv,BatchShaderGenerator:()=>h.Zk,BatchSystem:()=>h.Sj,BatchTextureArray:()=>h.Ie,BitmapFont:()=>g.UP,BitmapFontData:()=>g.d0,BitmapFontLoader:()=>g.vl,BitmapText:()=>g.Xz,Bounds:()=>x.YZ,BrowserAdapter:()=>A.ZQ,Buffer:()=>h.lW,BufferResource:()=>h.qm,CLEAR_MODES:()=>k.CLEAR_MODES,COLOR_MASK_BITS:()=>k.COLOR_MASK_BITS,CanvasResource:()=>h.Y8,Circle:()=>_.Circle,Container:()=>x.W2,ContextSystem:()=>h.lH,CountLimiter:()=>c.fh,CubeResource:()=>h.TA,DEG_TO_RAD:()=>_.DEG_TO_RAD,DRAW_MODES:()=>k.DRAW_MODES,DisplayObject:()=>x.s$,ENV:()=>k.ENV,Ellipse:()=>_.Ellipse,ExtensionType:()=>h.nw,FORMATS:()=>k.FORMATS,FillStyle:()=>l.ft,Filter:()=>h.wn,FilterState:()=>h.jV,FilterSystem:()=>h.kV,Framebuffer:()=>h.AI,FramebufferSystem:()=>h.WB,GC_MODES:()=>k.GC_MODES,GLFramebuffer:()=>h.tT,GLProgram:()=>h.Ei,GLTexture:()=>h.fy,GRAPHICS_CURVES:()=>l.wA,Geometry:()=>h.ZX,GeometrySystem:()=>h.TO,Graphics:()=>l.TC,GraphicsData:()=>l.iM,GraphicsGeometry:()=>l.RB,IGLUniformData:()=>h.W1,INSTALLED:()=>h.e_,ImageBitmapResource:()=>h._w,ImageResource:()=>h.PA,InteractionData:()=>d.gU,InteractionEvent:()=>d.sm,InteractionManager:()=>d.bx,InteractionTrackingData:()=>d.s_,LINE_CAP:()=>l.$o,LINE_JOIN:()=>l.S,LINE_SCALE_MODE:()=>S.F4,LineStyle:()=>l.TD,Loader:()=>w.aN,LoaderResource:()=>w.kC,MASK_TYPES:()=>k.MASK_TYPES,MIPMAP_MODES:()=>k.MIPMAP_MODES,MSAA_QUALITY:()=>k.MSAA_QUALITY,MaskData:()=>h.HI,MaskSystem:()=>h.zj,Matrix:()=>_.Matrix,Mesh:()=>C.Kj,MeshBatchUvs:()=>C.wQ,MeshGeometry:()=>C.xc,MeshMaterial:()=>C.rY,NineSlicePlane:()=>T.ZT,ObjectRenderer:()=>h.bO,ObservablePoint:()=>_.ObservablePoint,PI_2:()=>_.PI_2,PRECISION:()=>k.PRECISION,PlaneGeometry:()=>T._1,Point:()=>_.Point,Polygon:()=>_.Polygon,Prepare:()=>c.B9,Program:()=>h.$r,ProjectionSystem:()=>h.NW,Quad:()=>h.lD,QuadUv:()=>h.ud,RAD_TO_DEG:()=>_.RAD_TO_DEG,RENDERER_TYPE:()=>k.RENDERER_TYPE,Rectangle:()=>_.Rectangle,RenderTexture:()=>h.TI,RenderTexturePool:()=>h.uW,RenderTextureSystem:()=>h.J$,Renderer:()=>h.Th,Resource:()=>h._z,RopeGeometry:()=>T.Au,RoundedRectangle:()=>_.RoundedRectangle,SAMPLER_TYPES:()=>k.SAMPLER_TYPES,SCALE_MODES:()=>k.SCALE_MODES,SHAPES:()=>_.SHAPES,SVGResource:()=>h.pX,ScissorSystem:()=>h.id,Shader:()=>h.ex,ShaderSystem:()=>h.p,SimpleMesh:()=>T.AL,SimplePlane:()=>T.VJ,SimpleRope:()=>T.IE,SmoothGraphics:()=>S.K3,Sprite:()=>B.j,SpriteMaskFilter:()=>h.z9,Spritesheet:()=>u.c,SpritesheetLoader:()=>u.o,State:()=>h.ZM,StateSystem:()=>h.zI,StencilSystem:()=>h.Ld,System:()=>h.xP,TARGETS:()=>k.TARGETS,TEXT_GRADIENT:()=>p.M_,TYPES:()=>k.TYPES,TemporaryDisplayObject:()=>x.Ql,Text:()=>p.xv,TextFormat:()=>g.SQ,TextMetrics:()=>p._A,TextStyle:()=>p.pn,Texture:()=>h.xE,TextureGCSystem:()=>h.wr,TextureLoader:()=>w.dp,TextureMatrix:()=>h.UX,TextureSystem:()=>h.CT,TextureUvs:()=>h.aF,Ticker:()=>R.vB,TickerPlugin:()=>R.Sb,TimeLimiter:()=>c.FI,Transform:()=>_.Transform,UPDATE_PRIORITY:()=>R.uF,UniformGroup:()=>h.oo,VERSION:()=>h.q4,VideoResource:()=>h.eH,ViewableBuffer:()=>h.Rv,WRAP_MODES:()=>k.WRAP_MODES,XMLFormat:()=>g.Lq,XMLStringFormat:()=>g.lx,autoDetectFormat:()=>g.jv,autoDetectRenderer:()=>h.e6,autoDetectResource:()=>h.pb,checkMaxIfStatementsInShader:()=>h.a7,createUBOElements:()=>h.TF,defaultFilterVertex:()=>h.Y9,defaultVertex:()=>h.kP,extensions:()=>h.Rw,generateProgram:()=>h.qw,generateUniformBufferSync:()=>h.K0,getTestContext:()=>h.Kc,getUBOData:()=>h.DL,graphicsUtils:()=>l.yR,groupD8:()=>_.groupD8,interactiveTarget:()=>d.Op,isMobile:()=>A.tq,resources:()=>h.Jb,settings:()=>A.Xd,systems:()=>h.eG,uniformParsers:()=>h.sg,utils:()=>W}),i(4762),i(414),i(8294),i(6283),i(2645);var s=i(6092),n=i(901),a=i(1888),o=i(4050),h=i(1489),r=i(6661),l=i(9413),d=i(4435),c=i(6305),u=i(750),p=i(1675),g=i(6839),m=i(3144),b=i(2160),w=i(6158);class y{static add(...t){for(let t of y.supportedFontExtensions)w.kC.setExtensionLoadType(t,w.kC.LOAD_TYPE.XHR),w.kC.setExtensionXhrType(t,w.kC.XHR_RESPONSE_TYPE.BUFFER)}static use(t,e){if(y.supportedFontExtensions.some(e=>t.extension.endsWith(e))){y.loadFromBuffer(t).finally(()=>e());return}e()}static loadFromBuffer(t){var e,i,s,n,a,o,h,r,l,d,c,u,p,g,m,b,w,f,v;let k=null!=(f=null==(i=t.metadata)?void 0:null==(e=i.font)?void 0:e.family)?f:t.name;return document.fonts.add(new FontFace(k,t.data,null==(s=t.metadata)?void 0:s.font)),t.styles=[{fontFamily:k.replace(/['|"]/gi,""),fontStyle:null==(a=t.metadata)?void 0:null==(n=a.font)?void 0:n.style,fontWeight:null==(h=t.metadata)?void 0:null==(o=h.font)?void 0:o.weight}],y.waitFont({"font-family":k,"font-stretch":null==(l=t.metadata)?void 0:null==(r=l.font)?void 0:r.stretch,"font-style":null==(c=t.metadata)?void 0:null==(d=c.font)?void 0:d.style,"font-weight":null==(p=t.metadata)?void 0:null==(u=p.font)?void 0:u.weight},null==(m=t.metadata)?void 0:null==(g=m.font)?void 0:g.testString,null!=(v=null==(w=t.metadata)?void 0:null==(b=w.font)?void 0:b.timeout)?v:t.timeout)}}y.extension=r.n.Loader,y.supportedFontExtensions=["ttf","otf","woff","woff2"],y.waitFont=(0,b._)(function*(t,e,i){var s,n,a;let o=null!=(s=t["font-style"])?s:"",h=null!=(n=t["font-weight"])?n:"",r=null!=(a=t["font-stretch"])?a:"",l=t["font-family"];i=i||1/0;let d=new Date().getTime(),c=d,u=[o,h,r,"100px",l].join(" ");do{if((yield document.fonts.load(u,e)).length>0)return;yield new Promise(t=>setTimeout(t,16)),d=new Date().getTime()}while(d-c<i)});var f=i(8893),v=i(943),k=i(600),x=i(7413),S=i(8246),_=i(3298),C=i(4020),T=i(7085),A=i(6997),B=i(4625),P=i(2958),R=i(6837);l.TC.nextRoundedRectBehavior=!0,p.xv.nextLineHeightBehavior=!0,r.R.add(d.bx,c.B9,h.Bv,s.c,n.Q,a.T,o.O,g.vl,u.o,v.Oc,y,f.tj);let W={destroyTextureCache:m.WP,isWebGLSupported:m.HR,rgb2hex:m.CO,hex2string:m.XN,EventEmitter:m.vp}},4762:(t,e,i)=>{"undefined"==typeof globalThis&&("undefined"!=typeof self?self.globalThis=self:void 0!==i.g&&(i.g.globalThis=i.g))},2460:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var s=i(7239);let n=i.n(s)()},8401:()=>{},8430:()=>{},1368:()=>{},9685:()=>{},3113:()=>{}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var a=e[s]={id:s,loaded:!1,exports:{}};return t[s].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}i.m=t,(()=>{var t=[];i.O=(e,s,n,a)=>{if(s){a=a||0;for(var o=t.length;o>0&&t[o-1][2]>a;o--)t[o]=t[o-1];t[o]=[s,n,a];return}for(var h=1/0,o=0;o<t.length;o++){for(var[s,n,a]=t[o],r=!0,l=0;l<s.length;l++)h>=a&&Object.keys(i.O).every(t=>i.O[t](s[l]))?s.splice(l--,1):(r=!1,a<h&&(h=a));if(r){t.splice(o--,1);var d=n();void 0!==d&&(e=d)}}return e}})(),i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.f={},i.e=t=>Promise.all(Object.keys(i.f).reduce((e,s)=>(i.f[s](t,e),e),[])),i.u=t=>""+t+".js",i.miniCssF=t=>"main.css",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="christmas_infinite_gifts:";i.l=(s,n,a,o)=>{if(t[s]){t[s].push(n);return}if(void 0!==a)for(var h,r,l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var c=l[d];if(c.getAttribute("src")==s||c.getAttribute("data-webpack")==e+a){h=c;break}}h||(r=!0,(h=document.createElement("script")).charset="utf-8",h.timeout=120,i.nc&&h.setAttribute("nonce",i.nc),h.setAttribute("data-webpack",e+a),h.src=s),t[s]=[n];var u=(e,i)=>{h.onerror=h.onload=null,clearTimeout(p);var n=t[s];if(delete t[s],h.parentNode&&h.parentNode.removeChild(h),n&&n.forEach(t=>t(i)),e)return e(i)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:h}),12e4);h.onerror=u.bind(null,h.onerror),h.onload=u.bind(null,h.onload),r&&document.head.appendChild(h)}})(),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),i.p="",(()=>{var t={179:0};i.f.j=(e,s)=>{var n=i.o(t,e)?t[e]:void 0;if(0!==n){if(n)s.push(n[2]);else{var a=new Promise((i,s)=>n=t[e]=[i,s]);s.push(n[2]=a);var o=i.p+i.u(e),h=Error();i.l(o,s=>{if(i.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var a=s&&("load"===s.type?"missing":s.type),o=s&&s.target&&s.target.src;h.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",h.name="ChunkLoadError",h.type=a,h.request=o,n[1](h)}},"chunk-"+e,e)}}},i.O.j=e=>0===t[e];var e=(e,s)=>{var n,a,[o,h,r]=s,l=0;if(o.some(e=>0!==t[e])){for(n in h)i.o(h,n)&&(i.m[n]=h[n]);if(r)var d=r(i)}for(e&&e(s);l<o.length;l++)a=o[l],i.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return i.O(d)},s=self.webpackChunkchristmas_infinite_gifts=self.webpackChunkchristmas_infinite_gifts||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})();var s=i.O(void 0,[216],()=>i(4646));s=i.O(s)})();